(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function Iv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ad={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function _1(){if(a_)return Zl;a_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Zl.Fragment=e,Zl.jsx=i,Zl.jsxs=i,Zl}var r_;function v1(){return r_||(r_=1,ad.exports=_1()),ad.exports}var b=v1(),rd={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function E1(){if(s_)return At;s_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),w=Symbol.iterator;function j(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,H={};function et(V,Y,st){this.props=V,this.context=Y,this.refs=H,this.updater=st||Q}et.prototype.isReactComponent={},et.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},et.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function at(){}at.prototype=et.prototype;function nt(V,Y,st){this.props=V,this.context=Y,this.refs=H,this.updater=st||Q}var ft=nt.prototype=new at;ft.constructor=nt,$(ft,et.prototype),ft.isPureReactComponent=!0;var yt=Array.isArray;function vt(){}var C={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function R(V,Y,st){var ct=st.ref;return{$$typeof:r,type:V,key:Y,ref:ct!==void 0?ct:null,props:st}}function M(V,Y){return R(V.type,Y,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function L(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(st){return Y[st]})}var N=/\/+/g;function Jt(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):Y.toString(36)}function he(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(vt,vt):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function K(V,Y,st,ct,Tt){var Rt=typeof V;(Rt==="undefined"||Rt==="boolean")&&(V=null);var Lt=!1;if(V===null)Lt=!0;else switch(Rt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(V.$$typeof){case r:case e:Lt=!0;break;case E:return Lt=V._init,K(Lt(V._payload),Y,st,ct,Tt)}}if(Lt)return Tt=Tt(V),Lt=ct===""?"."+Jt(V,0):ct,yt(Tt)?(st="",Lt!=null&&(st=Lt.replace(N,"$&/")+"/"),K(Tt,Y,st,"",function(Xa){return Xa})):Tt!=null&&(I(Tt)&&(Tt=M(Tt,st+(Tt.key==null||V&&V.key===Tt.key?"":(""+Tt.key).replace(N,"$&/")+"/")+Lt)),Y.push(Tt)),1;Lt=0;var De=ct===""?".":ct+":";if(yt(V))for(var ae=0;ae<V.length;ae++)ct=V[ae],Rt=De+Jt(ct,ae),Lt+=K(ct,Y,st,Rt,Tt);else if(ae=j(V),typeof ae=="function")for(V=ae.call(V),ae=0;!(ct=V.next()).done;)ct=ct.value,Rt=De+Jt(ct,ae++),Lt+=K(ct,Y,st,Rt,Tt);else if(Rt==="object"){if(typeof V.then=="function")return K(he(V),Y,st,ct,Tt);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function lt(V,Y,st){if(V==null)return V;var ct=[],Tt=0;return K(V,ct,"","",function(Rt){return Y.call(st,Rt,Tt++)}),ct}function mt(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(st){(V._status===0||V._status===-1)&&(V._status=1,V._result=st)},function(st){(V._status===0||V._status===-1)&&(V._status=2,V._result=st)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var it=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Nt={map:lt,forEach:function(V,Y,st){lt(V,function(){Y.apply(this,arguments)},st)},count:function(V){var Y=0;return lt(V,function(){Y++}),Y},toArray:function(V){return lt(V,function(Y){return Y})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return At.Activity=A,At.Children=Nt,At.Component=et,At.Fragment=i,At.Profiler=o,At.PureComponent=nt,At.StrictMode=s,At.Suspense=p,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,At.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},At.cache=function(V){return function(){return V.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(V,Y,st){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ct=$({},V.props),Tt=V.key;if(Y!=null)for(Rt in Y.key!==void 0&&(Tt=""+Y.key),Y)!x.call(Y,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&Y.ref===void 0||(ct[Rt]=Y[Rt]);var Rt=arguments.length-2;if(Rt===1)ct.children=st;else if(1<Rt){for(var Lt=Array(Rt),De=0;De<Rt;De++)Lt[De]=arguments[De+2];ct.children=Lt}return R(V.type,Tt,ct)},At.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},At.createElement=function(V,Y,st){var ct,Tt={},Rt=null;if(Y!=null)for(ct in Y.key!==void 0&&(Rt=""+Y.key),Y)x.call(Y,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(Tt[ct]=Y[ct]);var Lt=arguments.length-2;if(Lt===1)Tt.children=st;else if(1<Lt){for(var De=Array(Lt),ae=0;ae<Lt;ae++)De[ae]=arguments[ae+2];Tt.children=De}if(V&&V.defaultProps)for(ct in Lt=V.defaultProps,Lt)Tt[ct]===void 0&&(Tt[ct]=Lt[ct]);return R(V,Rt,Tt)},At.createRef=function(){return{current:null}},At.forwardRef=function(V){return{$$typeof:g,render:V}},At.isValidElement=I,At.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:mt}},At.memo=function(V,Y){return{$$typeof:y,type:V,compare:Y===void 0?null:Y}},At.startTransition=function(V){var Y=C.T,st={};C.T=st;try{var ct=V(),Tt=C.S;Tt!==null&&Tt(st,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(vt,it)}catch(Rt){it(Rt)}finally{Y!==null&&st.types!==null&&(Y.types=st.types),C.T=Y}},At.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},At.use=function(V){return C.H.use(V)},At.useActionState=function(V,Y,st){return C.H.useActionState(V,Y,st)},At.useCallback=function(V,Y){return C.H.useCallback(V,Y)},At.useContext=function(V){return C.H.useContext(V)},At.useDebugValue=function(){},At.useDeferredValue=function(V,Y){return C.H.useDeferredValue(V,Y)},At.useEffect=function(V,Y){return C.H.useEffect(V,Y)},At.useEffectEvent=function(V){return C.H.useEffectEvent(V)},At.useId=function(){return C.H.useId()},At.useImperativeHandle=function(V,Y,st){return C.H.useImperativeHandle(V,Y,st)},At.useInsertionEffect=function(V,Y){return C.H.useInsertionEffect(V,Y)},At.useLayoutEffect=function(V,Y){return C.H.useLayoutEffect(V,Y)},At.useMemo=function(V,Y){return C.H.useMemo(V,Y)},At.useOptimistic=function(V,Y){return C.H.useOptimistic(V,Y)},At.useReducer=function(V,Y,st){return C.H.useReducer(V,Y,st)},At.useRef=function(V){return C.H.useRef(V)},At.useState=function(V){return C.H.useState(V)},At.useSyncExternalStore=function(V,Y,st){return C.H.useSyncExternalStore(V,Y,st)},At.useTransition=function(){return C.H.useTransition()},At.version="19.2.0",At}var l_;function Yd(){return l_||(l_=1,rd.exports=E1()),rd.exports}var B=Yd();const Vv=Iv(B);var sd={exports:{}},Jl={},ld={exports:{}},od={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function T1(){return o_||(o_=1,(function(r){function e(K,lt){var mt=K.length;K.push(lt);t:for(;0<mt;){var it=mt-1>>>1,Nt=K[it];if(0<o(Nt,lt))K[it]=lt,K[mt]=Nt,mt=it;else break t}}function i(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var lt=K[0],mt=K.pop();if(mt!==lt){K[0]=mt;t:for(var it=0,Nt=K.length,V=Nt>>>1;it<V;){var Y=2*(it+1)-1,st=K[Y],ct=Y+1,Tt=K[ct];if(0>o(st,mt))ct<Nt&&0>o(Tt,st)?(K[it]=Tt,K[ct]=mt,it=ct):(K[it]=st,K[Y]=mt,it=Y);else if(ct<Nt&&0>o(Tt,mt))K[it]=Tt,K[ct]=mt,it=ct;else break t}}return lt}function o(K,lt){var mt=K.sortIndex-lt.sortIndex;return mt!==0?mt:K.id-lt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],y=[],E=1,A=null,w=3,j=!1,Q=!1,$=!1,H=!1,et=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function ft(K){for(var lt=i(y);lt!==null;){if(lt.callback===null)s(y);else if(lt.startTime<=K)s(y),lt.sortIndex=lt.expirationTime,e(p,lt);else break;lt=i(y)}}function yt(K){if($=!1,ft(K),!Q)if(i(p)!==null)Q=!0,vt||(vt=!0,L());else{var lt=i(y);lt!==null&&he(yt,lt.startTime-K)}}var vt=!1,C=-1,x=5,R=-1;function M(){return H?!0:!(r.unstable_now()-R<x)}function I(){if(H=!1,vt){var K=r.unstable_now();R=K;var lt=!0;try{t:{Q=!1,$&&($=!1,at(C),C=-1),j=!0;var mt=w;try{e:{for(ft(K),A=i(p);A!==null&&!(A.expirationTime>K&&M());){var it=A.callback;if(typeof it=="function"){A.callback=null,w=A.priorityLevel;var Nt=it(A.expirationTime<=K);if(K=r.unstable_now(),typeof Nt=="function"){A.callback=Nt,ft(K),lt=!0;break e}A===i(p)&&s(p),ft(K)}else s(p);A=i(p)}if(A!==null)lt=!0;else{var V=i(y);V!==null&&he(yt,V.startTime-K),lt=!1}}break t}finally{A=null,w=mt,j=!1}lt=void 0}}finally{lt?L():vt=!1}}}var L;if(typeof nt=="function")L=function(){nt(I)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Jt=N.port2;N.port1.onmessage=I,L=function(){Jt.postMessage(null)}}else L=function(){et(I,0)};function he(K,lt){C=et(function(){K(r.unstable_now())},lt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(K){switch(w){case 1:case 2:case 3:var lt=3;break;default:lt=w}var mt=w;w=lt;try{return K()}finally{w=mt}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(K,lt){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var mt=w;w=K;try{return lt()}finally{w=mt}},r.unstable_scheduleCallback=function(K,lt,mt){var it=r.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?it+mt:it):mt=it,K){case 1:var Nt=-1;break;case 2:Nt=250;break;case 5:Nt=1073741823;break;case 4:Nt=1e4;break;default:Nt=5e3}return Nt=mt+Nt,K={id:E++,callback:lt,priorityLevel:K,startTime:mt,expirationTime:Nt,sortIndex:-1},mt>it?(K.sortIndex=mt,e(y,K),i(p)===null&&K===i(y)&&($?(at(C),C=-1):$=!0,he(yt,mt-it))):(K.sortIndex=Nt,e(p,K),Q||j||(Q=!0,vt||(vt=!0,L()))),K},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(K){var lt=w;return function(){var mt=w;w=lt;try{return K.apply(this,arguments)}finally{w=mt}}}})(od)),od}var u_;function b1(){return u_||(u_=1,ld.exports=T1()),ld.exports}var ud={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function A1(){if(c_)return Ye;c_=1;var r=Yd();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:y,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,E)},Ye.flushSync=function(p){var y=d.T,E=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=E,s.d.f()}},Ye.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Ye.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ye.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,A=g(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:j}):E==="script"&&s.d.X(p,{crossOrigin:A,integrity:w,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Ye.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=g(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Ye.requestFormReset=function(p){s.d.r(p)},Ye.unstable_batchedUpdates=function(p,y){return p(y)},Ye.useFormState=function(p,y,E){return d.H.useFormState(p,y,E)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.0",Ye}var h_;function S1(){if(h_)return ud.exports;h_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ud.exports=A1(),ud.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function w1(){if(f_)return Jl;f_=1;var r=b1(),e=Yd(),i=S1();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return p(h),t;if(f===l)return p(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=f;break}if(T===l){_=!0,l=h,a=f;break}T=T.sibling}if(!_){for(T=f.child;T;){if(T===a){_=!0,a=f,l=h;break}if(T===l){_=!0,l=f,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,w=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),at=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),ft=Symbol.for("react.forward_ref"),yt=Symbol.for("react.suspense"),vt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Jt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case et:return"Profiler";case H:return"StrictMode";case yt:return"Suspense";case vt:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case nt:return t.displayName||"Context";case at:return(t._context.displayName||"Context")+".Consumer";case ft:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:Jt(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return Jt(t(n))}catch{}}return null}var he=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},it=[],Nt=-1;function V(t){return{current:t}}function Y(t){0>Nt||(t.current=it[Nt],it[Nt]=null,Nt--)}function st(t,n){Nt++,it[Nt]=t.current,t.current=n}var ct=V(null),Tt=V(null),Rt=V(null),Lt=V(null);function De(t,n){switch(st(Rt,n),st(Tt,t),st(ct,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Ry(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Ry(n),t=Cy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ct),st(ct,t)}function ae(){Y(ct),Y(Tt),Y(Rt)}function Xa(t){t.memoizedState!==null&&st(Lt,t);var n=ct.current,a=Cy(n,t.type);n!==a&&(st(Tt,t),st(ct,a))}function jr(t){Tt.current===t&&(Y(ct),Y(Tt)),Lt.current===t&&(Y(Lt),Yl._currentValue=mt)}var Ur,Lr;function Xn(t){if(Ur===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ur=n&&n[1]||"",Lr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ur+t+Lr}var Ys=!1;function $a(t,n){if(!t||Ys)return"";Ys=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(G){var q=G}Reflect.construct(t,[],W)}else{try{W.call()}catch(G){q=G}t.call(W.prototype)}}else{try{throw Error()}catch(G){q=G}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],T=f[1];if(_&&T){var D=_.split(`
`),P=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===P.length)for(l=D.length-1,h=P.length-1;1<=l&&0<=h&&D[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==P[h]){var X=`
`+D[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{Ys=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Xn(a):""}function Ks(t,n){switch(t.tag){case 26:case 27:case 5:return Xn(t.type);case 16:return Xn("Lazy");case 13:return t.child!==n&&n!==null?Xn("Suspense Fallback"):Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 15:return $a(t.type,!1);case 11:return $a(t.type.render,!1);case 1:return $a(t.type,!0);case 31:return Xn("Activity");default:return""}}function Xs(t){try{var n="",a=null;do n+=Ks(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ye=Object.prototype.hasOwnProperty,Ie=r.unstable_scheduleCallback,Wi=r.unstable_cancelCallback,rh=r.unstable_shouldYield,Vo=r.unstable_requestPaint,Ze=r.unstable_now,Za=r.unstable_getCurrentPriorityLevel,$s=r.unstable_ImmediatePriority,Zs=r.unstable_UserBlockingPriority,ta=r.unstable_NormalPriority,sh=r.unstable_LowPriority,Oo=r.unstable_IdlePriority,Mo=r.log,jo=r.unstable_setDisableYieldValue,Mn=null,ze=null;function En(t){if(typeof Mo=="function"&&jo(t),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Mn,t)}catch{}}var fe=Math.clz32?Math.clz32:Lo,Uo=Math.log,zr=Math.LN2;function Lo(t){return t>>>=0,t===0?32:31-(Uo(t)/zr|0)|0}var $n=256,Ja=262144,_e=4194304;function Zn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Jn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=Zn(l):(_&=T,_!==0?h=Zn(_):a||(a=T&~t,a!==0&&(h=Zn(a))))):(T=l&~f,T!==0?h=Zn(T):_!==0?h=Zn(_):a||(a=l&~t,a!==0&&(h=Zn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function jn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function lh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zo(){var t=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),t}function Wn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Wa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function oh(t,n,a,l,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,P=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-fe(a),W=1<<X;T[X]=0,D[X]=-1;var q=P[X];if(q!==null)for(P[X]=null,X=0;X<q.length;X++){var G=q[X];G!==null&&(G.lane&=-536870913)}a&=~W}l!==0&&tr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function tr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-fe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Js(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-fe(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function Ws(t,n){var a=n&-n;return a=(a&42)!==0?1:er(a),(a&(t.suspendedLanes|n))!==0?0:a}function er(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ko(){var t=lt.p;return t!==0?t:(t=window.event,t===void 0?32:Zy(t.type))}function Un(t,n){var a=lt.p;try{return lt.p=t,n()}finally{lt.p=a}}var Ln=Math.random().toString(36).slice(2),ve="__reactFiber$"+Ln,Me="__reactProps$"+Ln,ti="__reactContainer$"+Ln,kr="__reactEvents$"+Ln,uh="__reactListeners$"+Ln,Po="__reactHandles$"+Ln,Bo="__reactResources$"+Ln,ei="__reactMarker$"+Ln;function Pr(t){delete t[ve],delete t[Me],delete t[kr],delete t[uh],delete t[Po]}function ni(t){var n=t[ve];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ti]||a[ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=jy(t);t!==null;){if(a=t[ve])return a;t=jy(t)}return n}t=a,a=t.parentNode}return null}function Tn(t){if(t=t[ve]||t[ti]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function cn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ii(t){var n=t[Bo];return n||(n=t[Bo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(t){t[ei]=!0}var tl=new Set,el={};function ai(t,n){ri(t,n),ri(t+"Capture",n)}function ri(t,n){for(el[t]=n,t=0;t<n.length;t++)tl.add(n[t])}var nl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),il={},al={};function qo(t){return ye.call(al,t)?!0:ye.call(il,t)?!1:nl.test(t)?al[t]=!0:(il[t]=!0,!1)}function Br(t,n,a){if(qo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function hn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Te(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function je(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ea(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function rl(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Gt(t){if(!t._valueTracker){var n=ea(t)?"checked":"value";t._valueTracker=rl(t,n,""+t[n])}}function nr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=ea(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function si(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ir=/[\n"\\]/g;function tn(t){return t.replace(ir,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function qr(t,n,a,l,h,f,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+je(n)):t.value!==""+je(n)&&(t.value=""+je(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?sl(t,_,je(n)):a!=null?sl(t,_,je(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+je(T):t.removeAttribute("name")}function Ho(t,n,a,l,h,f,_,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(t);return}a=a!=null?""+je(a):"",n=n!=null?""+je(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Gt(t)}function sl(t,n,a){n==="number"&&si(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function na(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+je(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Fo(t,n,a){if(n!=null&&(n=""+je(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+je(a):""}function ia(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(he(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=je(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Gt(t)}function en(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Go=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ll(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Go.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function ol(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&ll(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&ll(t,f,n[f])}function Hr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),aa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fr(t){return aa.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function zn(){}var ul=null;function bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ra=null,li=null;function ar(t){var n=Tn(t);if(n&&(t=n.stateNode)){var a=t[Me]||null;t:switch(t=n.stateNode,n.type){case"input":if(qr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[Me]||null;if(!h)throw Error(s(90));qr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&nr(l)}break t;case"textarea":Fo(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&na(t,!!a.multiple,n,!1)}}}var Gr=!1;function sa(t,n,a){if(Gr)return t(n,a);Gr=!0;try{var l=t(n);return l}finally{if(Gr=!1,(ra!==null||li!==null)&&(ku(),ra&&(n=ra,t=li,li=ra=null,ar(n),t)))for(n=0;n<t.length;n++)ar(t[n])}}function kn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Me]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rr=!1;if(An)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){rr=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{rr=!1}var oi=null,cl=null,sr=null;function hl(){if(sr)return sr;var t,n=cl,a=n.length,l,h="value"in oi?oi.value:oi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&n[a-l]===h[f-l];l++);return sr=h.slice(t,1<l?1-l:void 0)}function lr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ri(){return!0}function Pn(){return!1}function ke(t){function n(a,l,h,f,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ri:Pn,this.isPropagationStopped=Pn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ri)},persist:function(){},isPersistent:Ri}),n}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ui=ke(Ci),la=A({},Ci,{view:0,detail:0}),fl=ke(la),oa,Qr,ci,Yr=A({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ua,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ci&&(ci&&t.type==="mousemove"?(oa=t.screenX-ci.screenX,Qr=t.screenY-ci.screenY):Qr=oa=0,ci=t),oa)},movementY:function(t){return"movementY"in t?t.movementY:Qr}}),dl=ke(Yr),or=A({},Yr,{dataTransfer:0}),Yo=ke(or),Ko=A({},la,{relatedTarget:0}),ur=ke(Ko),ml=A({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),Xo=ke(ml),Kr=A({},Ci,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$o=ke(Kr),Zo=A({},Ci,{data:0}),hi=ke(Zo),Jo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=tu[t])?!!n[t]:!1}function ua(){return eu}var Je=A({},la,{key:function(t){if(t.key){var n=Jo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ua,charCode:function(t){return t.type==="keypress"?lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nu=ke(Je),iu=A({},Yr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ni=ke(iu),u=A({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ua}),m=ke(u),v=A({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=ke(v),z=A({},Yr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=ke(z),rt=A({},Ci,{newState:0,oldState:0}),wt=ke(rt),de=[9,13,27,32],qt=An&&"CompositionEvent"in window,re=null;An&&"documentMode"in document&&(re=document.documentMode);var Sn=An&&"TextEvent"in window&&!re,fi=An&&(!qt||re&&8<re&&11>=re),Bn=" ",qn=!1;function cr(t,n){switch(t){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $r=!1;function qE(t,n){switch(t){case"compositionend":return Xr(n);case"keypress":return n.which!==32?null:(qn=!0,Bn);case"textInput":return t=n.data,t===Bn&&qn?null:t;default:return null}}function HE(t,n){if($r)return t==="compositionend"||!qt&&cr(t,n)?(t=hl(),sr=cl=oi=null,$r=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return fi&&n.locale!=="ko"?null:n.data;default:return null}}var FE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!FE[t.type]:n==="textarea"}function km(t,n,a,l){ra?li?li.push(l):li=[l]:ra=l,n=Qu(n,"onChange"),0<n.length&&(a=new ui("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var gl=null,pl=null;function GE(t){Ty(t,0)}function au(t){var n=cn(t);if(nr(n))return t}function Pm(t,n){if(t==="change")return n}var Bm=!1;if(An){var ch;if(An){var hh="oninput"in document;if(!hh){var qm=document.createElement("div");qm.setAttribute("oninput","return;"),hh=typeof qm.oninput=="function"}ch=hh}else ch=!1;Bm=ch&&(!document.documentMode||9<document.documentMode)}function Hm(){gl&&(gl.detachEvent("onpropertychange",Fm),pl=gl=null)}function Fm(t){if(t.propertyName==="value"&&au(pl)){var n=[];km(n,pl,t,bn(t)),sa(GE,n)}}function QE(t,n,a){t==="focusin"?(Hm(),gl=n,pl=a,gl.attachEvent("onpropertychange",Fm)):t==="focusout"&&Hm()}function YE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return au(pl)}function KE(t,n){if(t==="click")return au(n)}function XE(t,n){if(t==="input"||t==="change")return au(n)}function $E(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var fn=typeof Object.is=="function"?Object.is:$E;function yl(t,n){if(fn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ye.call(n,h)||!fn(t[h],n[h]))return!1}return!0}function Gm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qm(t,n){var a=Gm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Gm(a)}}function Ym(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ym(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Km(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=si(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=si(t.document)}return n}function fh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var ZE=An&&"documentMode"in document&&11>=document.documentMode,Zr=null,dh=null,_l=null,mh=!1;function Xm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;mh||Zr==null||Zr!==si(l)||(l=Zr,"selectionStart"in l&&fh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_l&&yl(_l,l)||(_l=l,l=Qu(dh,"onSelect"),0<l.length&&(n=new ui("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Zr)))}function hr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Jr={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},gh={},$m={};An&&($m=document.createElement("div").style,"AnimationEvent"in window||(delete Jr.animationend.animation,delete Jr.animationiteration.animation,delete Jr.animationstart.animation),"TransitionEvent"in window||delete Jr.transitionend.transition);function fr(t){if(gh[t])return gh[t];if(!Jr[t])return t;var n=Jr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in $m)return gh[t]=n[a];return t}var Zm=fr("animationend"),Jm=fr("animationiteration"),Wm=fr("animationstart"),JE=fr("transitionrun"),WE=fr("transitionstart"),tT=fr("transitioncancel"),tg=fr("transitionend"),eg=new Map,ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ph.push("scrollEnd");function Hn(t,n){eg.set(t,n),ai(n,[t])}var ru=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},wn=[],Wr=0,yh=0;function su(){for(var t=Wr,n=yh=Wr=0;n<t;){var a=wn[n];wn[n++]=null;var l=wn[n];wn[n++]=null;var h=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}f!==0&&ng(a,h,f)}}function lu(t,n,a,l){wn[Wr++]=t,wn[Wr++]=n,wn[Wr++]=a,wn[Wr++]=l,yh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function _h(t,n,a,l){return lu(t,n,a,l),ou(t)}function dr(t,n){return lu(t,null,null,n),ou(t)}function ng(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-fe(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function ou(t){if(50<Pl)throw Pl=0,Cf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ts={};function eT(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,n,a,l){return new eT(t,n,a,l)}function vh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Di(t,n){var a=t.alternate;return a===null?(a=dn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ig(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function uu(t,n,a,l,h,f){var _=0;if(l=t,typeof t=="function")vh(t)&&(_=1);else if(typeof t=="string")_=s1(t,a,ct.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=dn(31,a,n,h),t.elementType=R,t.lanes=f,t;case $:return mr(a.children,h,f,n);case H:_=8,h|=24;break;case et:return t=dn(12,a,n,h|2),t.elementType=et,t.lanes=f,t;case yt:return t=dn(13,a,n,h),t.elementType=yt,t.lanes=f,t;case vt:return t=dn(19,a,n,h),t.elementType=vt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nt:_=10;break t;case at:_=9;break t;case ft:_=11;break t;case C:_=14;break t;case x:_=16,l=null;break t}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=dn(_,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function mr(t,n,a,l){return t=dn(7,t,l,n),t.lanes=a,t}function Eh(t,n,a){return t=dn(6,t,null,n),t.lanes=a,t}function ag(t){var n=dn(18,null,null,0);return n.stateNode=t,n}function Th(t,n,a){return n=dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var rg=new WeakMap;function xn(t,n){if(typeof t=="object"&&t!==null){var a=rg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Xs(n)},rg.set(t,n),n)}return{value:t,source:n,stack:Xs(n)}}var es=[],ns=0,cu=null,vl=0,Rn=[],Cn=0,ca=null,di=1,mi="";function Ii(t,n){es[ns++]=vl,es[ns++]=cu,cu=t,vl=n}function sg(t,n,a){Rn[Cn++]=di,Rn[Cn++]=mi,Rn[Cn++]=ca,ca=t;var l=di;t=mi;var h=32-fe(l)-1;l&=~(1<<h),a+=1;var f=32-fe(n)+h;if(30<f){var _=h-h%5;f=(l&(1<<_)-1).toString(32),l>>=_,h-=_,di=1<<32-fe(n)+h|a<<h|l,mi=f+t}else di=1<<f|a<<h|l,mi=t}function bh(t){t.return!==null&&(Ii(t,1),sg(t,1,0))}function Ah(t){for(;t===cu;)cu=es[--ns],es[ns]=null,vl=es[--ns],es[ns]=null;for(;t===ca;)ca=Rn[--Cn],Rn[Cn]=null,mi=Rn[--Cn],Rn[Cn]=null,di=Rn[--Cn],Rn[Cn]=null}function lg(t,n){Rn[Cn++]=di,Rn[Cn++]=mi,Rn[Cn++]=ca,di=n.id,mi=n.overflow,ca=t}var Pe=null,ee=null,Ut=!1,ha=null,Nn=!1,Sh=Error(s(519));function fa(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw El(xn(n,t)),Sh}function og(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ve]=t,n[Me]=l,a){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(a=0;a<ql.length;a++)It(ql[a],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Ho(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),ia(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||wy(n.textContent,a)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||fa(t,!0)}function ug(t){for(Pe=t.return;Pe;)switch(Pe.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:Pe=Pe.return}}function is(t){if(t!==Pe)return!1;if(!Ut)return ug(t),Ut=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Hf(t.type,t.memoizedProps)),a=!a),a&&ee&&fa(t),ug(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ee=My(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ee=My(t)}else n===27?(n=ee,xa(t.type)?(t=Kf,Kf=null,ee=t):ee=n):ee=Pe?In(t.stateNode.nextSibling):null;return!0}function gr(){ee=Pe=null,Ut=!1}function wh(){var t=ha;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),ha=null),t}function El(t){ha===null?ha=[t]:ha.push(t)}var xh=V(null),pr=null,Vi=null;function da(t,n,a){st(xh,n._currentValue),n._currentValue=a}function Oi(t){t._currentValue=xh.current,Y(xh)}function Rh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Ch(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var D=0;D<n.length;D++)if(T.context===n[D]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),Rh(f.return,a,t),l||(_=null);break t}f=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),Rh(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function as(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;fn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Lt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Yl):t=[Yl])}h=h.return}t!==null&&Ch(n,t,a,l),n.flags|=262144}function hu(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function yr(t){pr=t,Vi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Be(t){return cg(pr,t)}function fu(t,n){return pr===null&&yr(t),cg(t,n)}function cg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Vi===null){if(t===null)throw Error(s(308));Vi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Vi=Vi.next=n;return a}var nT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},iT=r.unstable_scheduleCallback,aT=r.unstable_NormalPriority,be={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nh(){return{controller:new nT,data:new Map,refCount:0}}function Tl(t){t.refCount--,t.refCount===0&&iT(aT,function(){t.controller.abort()})}var bl=null,Dh=0,rs=0,ss=null;function rT(t,n){if(bl===null){var a=bl=[];Dh=0,rs=Mf(),ss={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Dh++,n.then(hg,hg),n}function hg(){if(--Dh===0&&bl!==null){ss!==null&&(ss.status="fulfilled");var t=bl;bl=null,rs=0,ss=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function sT(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var fg=K.S;K.S=function(t,n){Xp=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&rT(t,n),fg!==null&&fg(t,n)};var _r=V(null);function Ih(){var t=_r.current;return t!==null?t:Wt.pooledCache}function du(t,n){n===null?st(_r,_r.current):st(_r,n.pool)}function dg(){var t=Ih();return t===null?null:{parent:be._currentValue,pool:t}}var ls=Error(s(460)),Vh=Error(s(474)),mu=Error(s(542)),gu={then:function(){}};function mg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function gg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(zn,zn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,yg(t),t;default:if(typeof n.status=="string")n.then(zn,zn);else{if(t=Wt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,yg(t),t}throw Er=n,ls}}function vr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Er=a,ls):a}}var Er=null;function pg(){if(Er===null)throw Error(s(459));var t=Er;return Er=null,t}function yg(t){if(t===ls||t===mu)throw Error(s(483))}var os=null,Al=0;function pu(t){var n=Al;return Al+=1,os===null&&(os=[]),gg(os,t,n)}function Sl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function yu(t,n){throw n.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function _g(t){function n(U,O){if(t){var k=U.deletions;k===null?(U.deletions=[O],U.flags|=16):k.push(O)}}function a(U,O){if(!t)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=Di(U,O),U.index=0,U.sibling=null,U}function f(U,O,k){return U.index=k,t?(k=U.alternate,k!==null?(k=k.index,k<O?(U.flags|=67108866,O):k):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,O,k,Z){return O===null||O.tag!==6?(O=Eh(k,U.mode,Z),O.return=U,O):(O=h(O,k),O.return=U,O)}function D(U,O,k,Z){var gt=k.type;return gt===$?X(U,O,k.props.children,Z,k.key):O!==null&&(O.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===x&&vr(gt)===O.type)?(O=h(O,k.props),Sl(O,k),O.return=U,O):(O=uu(k.type,k.key,k.props,null,U.mode,Z),Sl(O,k),O.return=U,O)}function P(U,O,k,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==k.containerInfo||O.stateNode.implementation!==k.implementation?(O=Th(k,U.mode,Z),O.return=U,O):(O=h(O,k.children||[]),O.return=U,O)}function X(U,O,k,Z,gt){return O===null||O.tag!==7?(O=mr(k,U.mode,Z,gt),O.return=U,O):(O=h(O,k),O.return=U,O)}function W(U,O,k){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Eh(""+O,U.mode,k),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case j:return k=uu(O.type,O.key,O.props,null,U.mode,k),Sl(k,O),k.return=U,k;case Q:return O=Th(O,U.mode,k),O.return=U,O;case x:return O=vr(O),W(U,O,k)}if(he(O)||L(O))return O=mr(O,U.mode,k,null),O.return=U,O;if(typeof O.then=="function")return W(U,pu(O),k);if(O.$$typeof===nt)return W(U,fu(U,O),k);yu(U,O)}return null}function q(U,O,k,Z){var gt=O!==null?O.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return gt!==null?null:T(U,O,""+k,Z);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case j:return k.key===gt?D(U,O,k,Z):null;case Q:return k.key===gt?P(U,O,k,Z):null;case x:return k=vr(k),q(U,O,k,Z)}if(he(k)||L(k))return gt!==null?null:X(U,O,k,Z,null);if(typeof k.then=="function")return q(U,O,pu(k),Z);if(k.$$typeof===nt)return q(U,O,fu(U,k),Z);yu(U,k)}return null}function G(U,O,k,Z,gt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(k)||null,T(O,U,""+Z,gt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case j:return U=U.get(Z.key===null?k:Z.key)||null,D(O,U,Z,gt);case Q:return U=U.get(Z.key===null?k:Z.key)||null,P(O,U,Z,gt);case x:return Z=vr(Z),G(U,O,k,Z,gt)}if(he(Z)||L(Z))return U=U.get(k)||null,X(O,U,Z,gt,null);if(typeof Z.then=="function")return G(U,O,k,pu(Z),gt);if(Z.$$typeof===nt)return G(U,O,k,fu(O,Z),gt);yu(O,Z)}return null}function ht(U,O,k,Z){for(var gt=null,Pt=null,dt=O,Ct=O=0,Ot=null;dt!==null&&Ct<k.length;Ct++){dt.index>Ct?(Ot=dt,dt=null):Ot=dt.sibling;var Bt=q(U,dt,k[Ct],Z);if(Bt===null){dt===null&&(dt=Ot);break}t&&dt&&Bt.alternate===null&&n(U,dt),O=f(Bt,O,Ct),Pt===null?gt=Bt:Pt.sibling=Bt,Pt=Bt,dt=Ot}if(Ct===k.length)return a(U,dt),Ut&&Ii(U,Ct),gt;if(dt===null){for(;Ct<k.length;Ct++)dt=W(U,k[Ct],Z),dt!==null&&(O=f(dt,O,Ct),Pt===null?gt=dt:Pt.sibling=dt,Pt=dt);return Ut&&Ii(U,Ct),gt}for(dt=l(dt);Ct<k.length;Ct++)Ot=G(dt,U,Ct,k[Ct],Z),Ot!==null&&(t&&Ot.alternate!==null&&dt.delete(Ot.key===null?Ct:Ot.key),O=f(Ot,O,Ct),Pt===null?gt=Ot:Pt.sibling=Ot,Pt=Ot);return t&&dt.forEach(function(Ia){return n(U,Ia)}),Ut&&Ii(U,Ct),gt}function _t(U,O,k,Z){if(k==null)throw Error(s(151));for(var gt=null,Pt=null,dt=O,Ct=O=0,Ot=null,Bt=k.next();dt!==null&&!Bt.done;Ct++,Bt=k.next()){dt.index>Ct?(Ot=dt,dt=null):Ot=dt.sibling;var Ia=q(U,dt,Bt.value,Z);if(Ia===null){dt===null&&(dt=Ot);break}t&&dt&&Ia.alternate===null&&n(U,dt),O=f(Ia,O,Ct),Pt===null?gt=Ia:Pt.sibling=Ia,Pt=Ia,dt=Ot}if(Bt.done)return a(U,dt),Ut&&Ii(U,Ct),gt;if(dt===null){for(;!Bt.done;Ct++,Bt=k.next())Bt=W(U,Bt.value,Z),Bt!==null&&(O=f(Bt,O,Ct),Pt===null?gt=Bt:Pt.sibling=Bt,Pt=Bt);return Ut&&Ii(U,Ct),gt}for(dt=l(dt);!Bt.done;Ct++,Bt=k.next())Bt=G(dt,U,Ct,Bt.value,Z),Bt!==null&&(t&&Bt.alternate!==null&&dt.delete(Bt.key===null?Ct:Bt.key),O=f(Bt,O,Ct),Pt===null?gt=Bt:Pt.sibling=Bt,Pt=Bt);return t&&dt.forEach(function(y1){return n(U,y1)}),Ut&&Ii(U,Ct),gt}function Zt(U,O,k,Z){if(typeof k=="object"&&k!==null&&k.type===$&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case j:t:{for(var gt=k.key;O!==null;){if(O.key===gt){if(gt=k.type,gt===$){if(O.tag===7){a(U,O.sibling),Z=h(O,k.props.children),Z.return=U,U=Z;break t}}else if(O.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===x&&vr(gt)===O.type){a(U,O.sibling),Z=h(O,k.props),Sl(Z,k),Z.return=U,U=Z;break t}a(U,O);break}else n(U,O);O=O.sibling}k.type===$?(Z=mr(k.props.children,U.mode,Z,k.key),Z.return=U,U=Z):(Z=uu(k.type,k.key,k.props,null,U.mode,Z),Sl(Z,k),Z.return=U,U=Z)}return _(U);case Q:t:{for(gt=k.key;O!==null;){if(O.key===gt)if(O.tag===4&&O.stateNode.containerInfo===k.containerInfo&&O.stateNode.implementation===k.implementation){a(U,O.sibling),Z=h(O,k.children||[]),Z.return=U,U=Z;break t}else{a(U,O);break}else n(U,O);O=O.sibling}Z=Th(k,U.mode,Z),Z.return=U,U=Z}return _(U);case x:return k=vr(k),Zt(U,O,k,Z)}if(he(k))return ht(U,O,k,Z);if(L(k)){if(gt=L(k),typeof gt!="function")throw Error(s(150));return k=gt.call(k),_t(U,O,k,Z)}if(typeof k.then=="function")return Zt(U,O,pu(k),Z);if(k.$$typeof===nt)return Zt(U,O,fu(U,k),Z);yu(U,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,O!==null&&O.tag===6?(a(U,O.sibling),Z=h(O,k),Z.return=U,U=Z):(a(U,O),Z=Eh(k,U.mode,Z),Z.return=U,U=Z),_(U)):a(U,O)}return function(U,O,k,Z){try{Al=0;var gt=Zt(U,O,k,Z);return os=null,gt}catch(dt){if(dt===ls||dt===mu)throw dt;var Pt=dn(29,dt,null,U.mode);return Pt.lanes=Z,Pt.return=U,Pt}finally{}}}var Tr=_g(!0),vg=_g(!1),ma=!1;function Oh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ga(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function pa(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=ou(t),ng(t,null,a),n}return lu(t,l,n,a),ou(t)}function wl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Js(t,a)}}function jh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Uh=!1;function xl(){if(Uh){var t=ss;if(t!==null)throw t}}function Rl(t,n,a,l){Uh=!1;var h=t.updateQueue;ma=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,P=D.next;D.next=null,_===null?f=P:_.next=P,_=D;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==_&&(T===null?X.firstBaseUpdate=P:T.next=P,X.lastBaseUpdate=D))}if(f!==null){var W=h.baseState;_=0,X=P=D=null,T=f;do{var q=T.lane&-536870913,G=q!==T.lane;if(G?(Vt&q)===q:(l&q)===q){q!==0&&q===rs&&(Uh=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ht=t,_t=T;q=n;var Zt=a;switch(_t.tag){case 1:if(ht=_t.payload,typeof ht=="function"){W=ht.call(Zt,W,q);break t}W=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=_t.payload,q=typeof ht=="function"?ht.call(Zt,W,q):ht,q==null)break t;W=A({},W,q);break t;case 2:ma=!0}}q=T.callback,q!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[q]:G.push(q))}else G={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(P=X=G,D=W):X=X.next=G,_|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);X===null&&(D=W),h.baseState=D,h.firstBaseUpdate=P,h.lastBaseUpdate=X,f===null&&(h.shared.lanes=0),Ta|=_,t.lanes=_,t.memoizedState=W}}function Eg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Tg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Eg(a[t],n)}var us=V(null),_u=V(0);function bg(t,n){t=qi,st(_u,t),st(us,n),qi=t|n.baseLanes}function Lh(){st(_u,qi),st(us,us.current)}function zh(){qi=_u.current,Y(us),Y(_u)}var mn=V(null),Dn=null;function ya(t){var n=t.alternate;st(me,me.current&1),st(mn,t),Dn===null&&(n===null||us.current!==null||n.memoizedState!==null)&&(Dn=t)}function kh(t){st(me,me.current),st(mn,t),Dn===null&&(Dn=t)}function Ag(t){t.tag===22?(st(me,me.current),st(mn,t),Dn===null&&(Dn=t)):_a()}function _a(){st(me,me.current),st(mn,mn.current)}function gn(t){Y(mn),Dn===t&&(Dn=null),Y(me)}var me=V(0);function vu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Qf(a)||Yf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Mi=0,xt=null,Xt=null,Ae=null,Eu=!1,cs=!1,br=!1,Tu=0,Cl=0,hs=null,lT=0;function ue(){throw Error(s(321))}function Ph(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!fn(t[a],n[a]))return!1;return!0}function Bh(t,n,a,l,h,f){return Mi=f,xt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?sp:nf,br=!1,f=a(l,h),br=!1,cs&&(f=wg(n,a,l,h)),Sg(t),f}function Sg(t){K.H=Il;var n=Xt!==null&&Xt.next!==null;if(Mi=0,Ae=Xt=xt=null,Eu=!1,Cl=0,hs=null,n)throw Error(s(300));t===null||Se||(t=t.dependencies,t!==null&&hu(t)&&(Se=!0))}function wg(t,n,a,l){xt=t;var h=0;do{if(cs&&(hs=null),Cl=0,cs=!1,25<=h)throw Error(s(301));if(h+=1,Ae=Xt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}K.H=lp,f=n(a,l)}while(cs);return f}function oT(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?Nl(n):n,t=t.useState()[0],(Xt!==null?Xt.memoizedState:null)!==t&&(xt.flags|=1024),n}function qh(){var t=Tu!==0;return Tu=0,t}function Hh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Fh(t){if(Eu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Eu=!1}Mi=0,Ae=Xt=xt=null,cs=!1,Cl=Tu=0,hs=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?xt.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function ge(){if(Xt===null){var t=xt.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var n=Ae===null?xt.memoizedState:Ae.next;if(n!==null)Ae=n,Xt=t;else{if(t===null)throw xt.alternate===null?Error(s(467)):Error(s(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Ae===null?xt.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(t){var n=Cl;return Cl+=1,hs===null&&(hs=[]),t=gg(hs,t,n),n=xt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?sp:nf),t}function Au(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Nl(t);if(t.$$typeof===nt)return Be(t)}throw Error(s(438,String(t)))}function Gh(t){var n=null,a=xt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=xt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=bu(),xt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=M;return n.index++,a}function ji(t,n){return typeof n=="function"?n(t):n}function Su(t){var n=ge();return Qh(n,Xt,t)}function Qh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=_=null,D=null,P=n,X=!1;do{var W=P.lane&-536870913;if(W!==P.lane?(Vt&W)===W:(Mi&W)===W){var q=P.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),W===rs&&(X=!0);else if((Mi&q)===q){P=P.next,q===rs&&(X=!0);continue}else W={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(T=D=W,_=f):D=D.next=W,xt.lanes|=q,Ta|=q;W=P.action,br&&a(f,W),f=P.hasEagerState?P.eagerState:a(f,W)}else q={lane:W,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(T=D=q,_=f):D=D.next=q,xt.lanes|=W,Ta|=W;P=P.next}while(P!==null&&P!==n);if(D===null?_=f:D.next=T,!fn(f,t.memoizedState)&&(Se=!0,X&&(a=ss,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=D,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Yh(t){var n=ge(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);fn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function xg(t,n,a){var l=xt,h=ge(),f=Ut;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var _=!fn((Xt||h).memoizedState,a);if(_&&(h.memoizedState=a,Se=!0),h=h.queue,$h(Ng.bind(null,l,h,t),[t]),h.getSnapshot!==n||_||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,fs(9,{destroy:void 0},Cg.bind(null,l,h,a,n),null),Wt===null)throw Error(s(349));f||(Mi&127)!==0||Rg(l,n,a)}return a}function Rg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=xt.updateQueue,n===null?(n=bu(),xt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Cg(t,n,a,l){n.value=a,n.getSnapshot=l,Dg(n)&&Ig(t)}function Ng(t,n,a){return a(function(){Dg(n)&&Ig(t)})}function Dg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!fn(t,a)}catch{return!0}}function Ig(t){var n=dr(t,2);n!==null&&ln(n,t,2)}function Kh(t){var n=We();if(typeof t=="function"){var a=t;if(t=a(),br){En(!0);try{a()}finally{En(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:t},n}function Vg(t,n,a,l){return t.baseState=a,Qh(t,Xt,typeof l=="function"?l:ji)}function uT(t,n,a,l,h){if(Ru(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};K.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Og(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Og(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=K.T,_={};K.T=_;try{var T=a(h,l),D=K.S;D!==null&&D(_,T),Mg(t,n,T)}catch(P){Xh(t,n,P)}finally{f!==null&&_.types!==null&&(f.types=_.types),K.T=f}}else try{f=a(h,l),Mg(t,n,f)}catch(P){Xh(t,n,P)}}function Mg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){jg(t,n,l)},function(l){return Xh(t,n,l)}):jg(t,n,a)}function jg(t,n,a){n.status="fulfilled",n.value=a,Ug(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Og(t,a)))}function Xh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Ug(n),n=n.next;while(n!==l)}t.action=null}function Ug(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Lg(t,n){return n}function zg(t,n){if(Ut){var a=Wt.formState;if(a!==null){t:{var l=xt;if(Ut){if(ee){e:{for(var h=ee,f=Nn;h.nodeType!==8;){if(!f){h=null;break e}if(h=In(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ee=In(h.nextSibling),l=h.data==="F!";break t}}fa(l)}l=!1}l&&(n=a[0])}}return a=We(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lg,lastRenderedState:n},a.queue=l,a=ip.bind(null,xt,l),l.dispatch=a,l=Kh(!1),f=ef.bind(null,xt,!1,l.queue),l=We(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=uT.bind(null,xt,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function kg(t){var n=ge();return Pg(n,Xt,t)}function Pg(t,n,a){if(n=Qh(t,n,Lg)[0],t=Su(ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Nl(n)}catch(_){throw _===ls?mu:_}else l=n;n=ge();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(xt.flags|=2048,fs(9,{destroy:void 0},cT.bind(null,h,a),null)),[l,f,t]}function cT(t,n){t.action=n}function Bg(t){var n=ge(),a=Xt;if(a!==null)return Pg(n,a,t);ge(),n=n.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function fs(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=xt.updateQueue,n===null&&(n=bu(),xt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function qg(){return ge().memoizedState}function wu(t,n,a,l){var h=We();xt.flags|=t,h.memoizedState=fs(1|n,{destroy:void 0},a,l===void 0?null:l)}function xu(t,n,a,l){var h=ge();l=l===void 0?null:l;var f=h.memoizedState.inst;Xt!==null&&l!==null&&Ph(l,Xt.memoizedState.deps)?h.memoizedState=fs(n,f,a,l):(xt.flags|=t,h.memoizedState=fs(1|n,f,a,l))}function Hg(t,n){wu(8390656,8,t,n)}function $h(t,n){xu(2048,8,t,n)}function hT(t){xt.flags|=4;var n=xt.updateQueue;if(n===null)n=bu(),xt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Fg(t){var n=ge().memoizedState;return hT({ref:n,nextImpl:t}),function(){if((Ht&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Gg(t,n){return xu(4,2,t,n)}function Qg(t,n){return xu(4,4,t,n)}function Yg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Kg(t,n,a){a=a!=null?a.concat([t]):null,xu(4,4,Yg.bind(null,n,t),a)}function Zh(){}function Xg(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Ph(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function $g(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Ph(n,l[1]))return l[0];if(l=t(),br){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,n],l}function Jh(t,n,a){return a===void 0||(Mi&1073741824)!==0&&(Vt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Zp(),xt.lanes|=t,Ta|=t,a)}function Zg(t,n,a,l){return fn(a,n)?a:us.current!==null?(t=Jh(t,a,l),fn(t,n)||(Se=!0),t):(Mi&42)===0||(Mi&1073741824)!==0&&(Vt&261930)===0?(Se=!0,t.memoizedState=a):(t=Zp(),xt.lanes|=t,Ta|=t,n)}function Jg(t,n,a,l,h){var f=lt.p;lt.p=f!==0&&8>f?f:8;var _=K.T,T={};K.T=T,ef(t,!1,n,a);try{var D=h(),P=K.S;if(P!==null&&P(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var X=sT(D,l);Dl(t,n,X,_n(t))}else Dl(t,n,l,_n(t))}catch(W){Dl(t,n,{then:function(){},status:"rejected",reason:W},_n())}finally{lt.p=f,_!==null&&T.types!==null&&(_.types=T.types),K.T=_}}function fT(){}function Wh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=Wg(t).queue;Jg(t,h,n,mt,a===null?fT:function(){return tp(t),a(l)})}function Wg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:mt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function tp(t){var n=Wg(t);n.next===null&&(n=t.alternate.memoizedState),Dl(t,n.next.queue,{},_n())}function tf(){return Be(Yl)}function ep(){return ge().memoizedState}function np(){return ge().memoizedState}function dT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=_n();t=ga(a);var l=pa(n,t,a);l!==null&&(ln(l,n,a),wl(l,n,a)),n={cache:Nh()},t.payload=n;return}n=n.return}}function mT(t,n,a){var l=_n();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ru(t)?ap(n,a):(a=_h(t,n,a,l),a!==null&&(ln(a,t,l),rp(a,n,l)))}function ip(t,n,a){var l=_n();Dl(t,n,a,l)}function Dl(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ru(t))ap(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,T=f(_,a);if(h.hasEagerState=!0,h.eagerState=T,fn(T,_))return lu(t,n,h,0),Wt===null&&su(),!1}catch{}finally{}if(a=_h(t,n,h,l),a!==null)return ln(a,t,l),rp(a,n,l),!0}return!1}function ef(t,n,a,l){if(l={lane:2,revertLane:Mf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ru(t)){if(n)throw Error(s(479))}else n=_h(t,a,l,2),n!==null&&ln(n,t,2)}function Ru(t){var n=t.alternate;return t===xt||n!==null&&n===xt}function ap(t,n){cs=Eu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function rp(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Js(t,a)}}var Il={readContext:Be,use:Au,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Il.useEffectEvent=ue;var sp={readContext:Be,use:Au,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:Be,useEffect:Hg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,wu(4194308,4,Yg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return wu(4194308,4,t,n)},useInsertionEffect:function(t,n){wu(4,2,t,n)},useMemo:function(t,n){var a=We();n=n===void 0?null:n;var l=t();if(br){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=We();if(a!==void 0){var h=a(n);if(br){En(!0);try{a(n)}finally{En(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=mT.bind(null,xt,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=Kh(t);var n=t.queue,a=ip.bind(null,xt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Zh,useDeferredValue:function(t,n){var a=We();return Jh(a,t,n)},useTransition:function(){var t=Kh(!1);return t=Jg.bind(null,xt,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=xt,h=We();if(Ut){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Wt===null)throw Error(s(349));(Vt&127)!==0||Rg(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Hg(Ng.bind(null,l,f,t),[t]),l.flags|=2048,fs(9,{destroy:void 0},Cg.bind(null,l,f,a,n),null),a},useId:function(){var t=We(),n=Wt.identifierPrefix;if(Ut){var a=mi,l=di;a=(l&~(1<<32-fe(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Tu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=lT++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:tf,useFormState:zg,useActionState:zg,useOptimistic:function(t){var n=We();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=ef.bind(null,xt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Gh,useCacheRefresh:function(){return We().memoizedState=dT.bind(null,xt)},useEffectEvent:function(t){var n=We(),a={impl:t};return n.memoizedState=a,function(){if((Ht&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},nf={readContext:Be,use:Au,useCallback:Xg,useContext:Be,useEffect:$h,useImperativeHandle:Kg,useInsertionEffect:Gg,useLayoutEffect:Qg,useMemo:$g,useReducer:Su,useRef:qg,useState:function(){return Su(ji)},useDebugValue:Zh,useDeferredValue:function(t,n){var a=ge();return Zg(a,Xt.memoizedState,t,n)},useTransition:function(){var t=Su(ji)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:Nl(t),n]},useSyncExternalStore:xg,useId:ep,useHostTransitionStatus:tf,useFormState:kg,useActionState:kg,useOptimistic:function(t,n){var a=ge();return Vg(a,Xt,t,n)},useMemoCache:Gh,useCacheRefresh:np};nf.useEffectEvent=Fg;var lp={readContext:Be,use:Au,useCallback:Xg,useContext:Be,useEffect:$h,useImperativeHandle:Kg,useInsertionEffect:Gg,useLayoutEffect:Qg,useMemo:$g,useReducer:Yh,useRef:qg,useState:function(){return Yh(ji)},useDebugValue:Zh,useDeferredValue:function(t,n){var a=ge();return Xt===null?Jh(a,t,n):Zg(a,Xt.memoizedState,t,n)},useTransition:function(){var t=Yh(ji)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:Nl(t),n]},useSyncExternalStore:xg,useId:ep,useHostTransitionStatus:tf,useFormState:Bg,useActionState:Bg,useOptimistic:function(t,n){var a=ge();return Xt!==null?Vg(a,Xt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Gh,useCacheRefresh:np};lp.useEffectEvent=Fg;function af(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var rf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=_n(),h=ga(l);h.payload=n,a!=null&&(h.callback=a),n=pa(t,h,l),n!==null&&(ln(n,t,l),wl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=_n(),h=ga(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=pa(t,h,l),n!==null&&(ln(n,t,l),wl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=_n(),l=ga(a);l.tag=2,n!=null&&(l.callback=n),n=pa(t,l,a),n!==null&&(ln(n,t,a),wl(n,t,a))}};function op(t,n,a,l,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!yl(a,l)||!yl(h,f):!0}function up(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&rf.enqueueReplaceState(n,n.state,null)}function Ar(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function cp(t){ru(t)}function hp(t){console.error(t)}function fp(t){ru(t)}function Cu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function dp(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function sf(t,n,a){return a=ga(a),a.tag=3,a.payload={element:null},a.callback=function(){Cu(t,n)},a}function mp(t){return t=ga(t),t.tag=3,t}function gp(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){dp(n,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){dp(n,a,l),typeof h!="function"&&(ba===null?ba=new Set([this]):ba.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function gT(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&as(n,a,h,!0),a=mn.current,a!==null){switch(a.tag){case 31:case 13:return Dn===null?Pu():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===gu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),If(t,l,h)),!1;case 22:return a.flags|=65536,l===gu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),If(t,l,h)),!1}throw Error(s(435,a.tag))}return If(t,l,h),Pu(),!1}if(Ut)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Sh&&(t=Error(s(422),{cause:l}),El(xn(t,a)))):(l!==Sh&&(n=Error(s(423),{cause:l}),El(xn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=xn(l,a),h=sf(t.stateNode,l,h),jh(t,h),ce!==4&&(ce=2)),!1;var f=Error(s(520),{cause:l});if(f=xn(f,a),kl===null?kl=[f]:kl.push(f),ce!==4&&(ce=2),n===null)return!0;l=xn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=sf(a.stateNode,l,t),jh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ba===null||!ba.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=mp(h),gp(h,t,a,l),jh(a,h),!1}a=a.return}while(a!==null);return!1}var lf=Error(s(461)),Se=!1;function qe(t,n,a,l){n.child=t===null?vg(n,null,a,l):Tr(n,t.child,a,l)}function pp(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return yr(n),l=Bh(t,n,a,_,f,h),T=qh(),t!==null&&!Se?(Hh(t,n,h),Ui(t,n,h)):(Ut&&T&&bh(n),n.flags|=1,qe(t,n,l,h),n.child)}function yp(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!vh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,_p(t,n,f,l,h)):(t=uu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!gf(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:yl,a(_,l)&&t.ref===n.ref)return Ui(t,n,h)}return n.flags|=1,t=Di(f,l),t.ref=n.ref,t.return=n,n.child=t}function _p(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(yl(f,l)&&t.ref===n.ref)if(Se=!1,n.pendingProps=l=f,gf(t,h))(t.flags&131072)!==0&&(Se=!0);else return n.lanes=t.lanes,Ui(t,n,h)}return of(t,n,a,l,h)}function vp(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Ep(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&du(n,f!==null?f.cachePool:null),f!==null?bg(n,f):Lh(),Ag(n);else return l=n.lanes=536870912,Ep(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(du(n,f.cachePool),bg(n,f),_a(),n.memoizedState=null):(t!==null&&du(n,null),Lh(),_a());return qe(t,n,h,a),n.child}function Vl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ep(t,n,a,l,h){var f=Ih();return f=f===null?null:{parent:be._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&du(n,null),Lh(),Ag(n),t!==null&&as(t,n,l,!0),n.childLanes=h,null}function Nu(t,n){return n=Iu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Tp(t,n,a){return Tr(n,t.child,null,a),t=Nu(n,n.pendingProps),t.flags|=2,gn(n),n.memoizedState=null,t}function pT(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ut){if(l.mode==="hidden")return t=Nu(n,l),n.lanes=536870912,Vl(null,t);if(kh(n),(t=ee)?(t=Oy(t,Nn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ca!==null?{id:di,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},a=ag(t),a.return=n,n.child=a,Pe=n,ee=null)):t=null,t===null)throw fa(n);return n.lanes=536870912,null}return Nu(n,l)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(kh(n),h)if(n.flags&256)n.flags&=-257,n=Tp(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Se||as(t,n,a,!1),h=(a&t.childLanes)!==0,Se||h){if(l=Wt,l!==null&&(_=Ws(l,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,dr(t,_),ln(l,t,_),lf;Pu(),n=Tp(t,n,a)}else t=f.treeContext,ee=In(_.nextSibling),Pe=n,Ut=!0,ha=null,Nn=!1,t!==null&&lg(n,t),n=Nu(n,l),n.flags|=4096;return n}return t=Di(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Du(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function of(t,n,a,l,h){return yr(n),a=Bh(t,n,a,l,void 0,h),l=qh(),t!==null&&!Se?(Hh(t,n,h),Ui(t,n,h)):(Ut&&l&&bh(n),n.flags|=1,qe(t,n,a,h),n.child)}function bp(t,n,a,l,h,f){return yr(n),n.updateQueue=null,a=wg(n,l,a,h),Sg(t),l=qh(),t!==null&&!Se?(Hh(t,n,f),Ui(t,n,f)):(Ut&&l&&bh(n),n.flags|=1,qe(t,n,a,f),n.child)}function Ap(t,n,a,l,h){if(yr(n),n.stateNode===null){var f=ts,_=a.contextType;typeof _=="object"&&_!==null&&(f=Be(_)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=rf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Oh(n),_=a.contextType,f.context=typeof _=="object"&&_!==null?Be(_):ts,f.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(af(n,a,_,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&rf.enqueueReplaceState(f,f.state,null),Rl(n,l,f,h),xl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,D=Ar(a,T);f.props=D;var P=f.context,X=a.contextType;_=ts,typeof X=="object"&&X!==null&&(_=Be(X));var W=a.getDerivedStateFromProps;X=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,X||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==_)&&up(n,f,l,_),ma=!1;var q=n.memoizedState;f.state=q,Rl(n,l,f,h),xl(),P=n.memoizedState,T||q!==P||ma?(typeof W=="function"&&(af(n,a,W,l),P=n.memoizedState),(D=ma||op(n,a,D,l,q,P,_))?(X||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=_,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Mh(t,n),_=n.memoizedProps,X=Ar(a,_),f.props=X,W=n.pendingProps,q=f.context,P=a.contextType,D=ts,typeof P=="object"&&P!==null&&(D=Be(P)),T=a.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==W||q!==D)&&up(n,f,l,D),ma=!1,q=n.memoizedState,f.state=q,Rl(n,l,f,h),xl();var G=n.memoizedState;_!==W||q!==G||ma||t!==null&&t.dependencies!==null&&hu(t.dependencies)?(typeof T=="function"&&(af(n,a,T,l),G=n.memoizedState),(X=ma||op(n,a,X,l,q,G,D)||t!==null&&t.dependencies!==null&&hu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,G,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,G,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=G),f.props=l,f.state=G,f.context=D,l=X):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Du(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Tr(n,t.child,null,h),n.child=Tr(n,null,a,h)):qe(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Ui(t,n,h),t}function Sp(t,n,a,l){return gr(),n.flags|=256,qe(t,n,a,l),n.child}var uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cf(t){return{baseLanes:t,cachePool:dg()}}function hf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=yn),t}function wp(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(me.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ut){if(h?ya(n):_a(),(t=ee)?(t=Oy(t,Nn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ca!==null?{id:di,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},a=ag(t),a.return=n,n.child=a,Pe=n,ee=null)):t=null,t===null)throw fa(n);return Yf(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(_a(),h=n.mode,T=Iu({mode:"hidden",children:T},h),l=mr(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=cf(a),l.childLanes=hf(t,_,a),n.memoizedState=uf,Vl(null,l)):(ya(n),ff(n,T))}var D=t.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(f)n.flags&256?(ya(n),n.flags&=-257,n=df(t,n,a)):n.memoizedState!==null?(_a(),n.child=t.child,n.flags|=128,n=null):(_a(),T=l.fallback,h=n.mode,l=Iu({mode:"visible",children:l.children},h),T=mr(T,h,a,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Tr(n,t.child,null,a),l=n.child,l.memoizedState=cf(a),l.childLanes=hf(t,_,a),n.memoizedState=uf,n=Vl(null,l));else if(ya(n),Yf(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var P=_.dgst;_=P,l=Error(s(419)),l.stack="",l.digest=_,El({value:l,source:null,stack:null}),n=df(t,n,a)}else if(Se||as(t,n,a,!1),_=(a&t.childLanes)!==0,Se||_){if(_=Wt,_!==null&&(l=Ws(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,dr(t,l),ln(_,t,l),lf;Qf(T)||Pu(),n=df(t,n,a)}else Qf(T)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,ee=In(T.nextSibling),Pe=n,Ut=!0,ha=null,Nn=!1,t!==null&&lg(n,t),n=ff(n,l.children),n.flags|=4096);return n}return h?(_a(),T=l.fallback,h=n.mode,D=t.child,P=D.sibling,l=Di(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,P!==null?T=Di(P,T):(T=mr(T,h,a,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,Vl(null,l),l=n.child,T=t.child.memoizedState,T===null?T=cf(a):(h=T.cachePool,h!==null?(D=be._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=dg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=hf(t,_,a),n.memoizedState=uf,Vl(t.child,l)):(ya(n),a=t.child,t=a.sibling,a=Di(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=a,n.memoizedState=null,a)}function ff(t,n){return n=Iu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Iu(t,n){return t=dn(22,t,null,n),t.lanes=0,t}function df(t,n,a){return Tr(n,t.child,null,a),t=ff(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function xp(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Rh(t.return,n,a)}function mf(t,n,a,l,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function Rp(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var _=me.current,T=(_&2)!==0;if(T?(_=_&1|2,n.flags|=128):_&=1,st(me,_),qe(t,n,l,a),l=Ut?vl:0,!T&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xp(t,a,n);else if(t.tag===19)xp(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&vu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),mf(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&vu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}mf(n,!0,a,null,f,l);break;case"together":mf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ui(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ta|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(as(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Di(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Di(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function gf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&hu(t)))}function yT(t,n,a){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),da(n,be,t.memoizedState.cache),gr();break;case 27:case 5:Xa(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:da(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,kh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ya(n),n.flags|=128,null):(a&n.child.childLanes)!==0?wp(t,n,a):(ya(n),t=Ui(t,n,a),t!==null?t.sibling:null);ya(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(as(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Rp(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(me,me.current),l)break;return null;case 22:return n.lanes=0,vp(t,n,a,n.pendingProps);case 24:da(n,be,t.memoizedState.cache)}return Ui(t,n,a)}function Cp(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Se=!0;else{if(!gf(t,a)&&(n.flags&128)===0)return Se=!1,yT(t,n,a);Se=(t.flags&131072)!==0}else Se=!1,Ut&&(n.flags&1048576)!==0&&sg(n,vl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=vr(n.elementType),n.type=t,typeof t=="function")vh(t)?(l=Ar(t,l),n.tag=1,n=Ap(null,n,t,l,a)):(n.tag=0,n=of(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ft){n.tag=11,n=pp(null,n,t,l,a);break t}else if(h===C){n.tag=14,n=yp(null,n,t,l,a);break t}}throw n=Jt(t)||t,Error(s(306,n,""))}}return n;case 0:return of(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Ar(l,n.pendingProps),Ap(t,n,l,h,a);case 3:t:{if(De(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Mh(t,n),Rl(n,l,null,a);var _=n.memoizedState;if(l=_.cache,da(n,be,l),l!==f.cache&&Ch(n,[be],a,!0),xl(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Sp(t,n,l,a);break t}else if(l!==h){h=xn(Error(s(424)),n),El(h),n=Sp(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ee=In(t.firstChild),Pe=n,Ut=!0,ha=null,Nn=!0,a=vg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(gr(),l===h){n=Ui(t,n,a);break t}qe(t,n,l,a)}n=n.child}return n;case 26:return Du(t,n),t===null?(a=ky(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ut||(a=n.type,t=n.pendingProps,l=Yu(Rt.current).createElement(a),l[ve]=n,l[Me]=t,He(l,a,t),Ee(l),n.stateNode=l):n.memoizedState=ky(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Xa(n),t===null&&Ut&&(l=n.stateNode=Uy(n.type,n.pendingProps,Rt.current),Pe=n,Nn=!0,h=ee,xa(n.type)?(Kf=h,ee=In(l.firstChild)):ee=h),qe(t,n,n.pendingProps.children,a),Du(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ut&&((h=l=ee)&&(l=YT(l,n.type,n.pendingProps,Nn),l!==null?(n.stateNode=l,Pe=n,ee=In(l.firstChild),Nn=!1,h=!0):h=!1),h||fa(n)),Xa(n),h=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,Hf(h,f)?l=null:_!==null&&Hf(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Bh(t,n,oT,null,null,a),Yl._currentValue=h),Du(t,n),qe(t,n,l,a),n.child;case 6:return t===null&&Ut&&((t=a=ee)&&(a=KT(a,n.pendingProps,Nn),a!==null?(n.stateNode=a,Pe=n,ee=null,t=!0):t=!1),t||fa(n)),null;case 13:return wp(t,n,a);case 4:return De(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Tr(n,null,l,a):qe(t,n,l,a),n.child;case 11:return pp(t,n,n.type,n.pendingProps,a);case 7:return qe(t,n,n.pendingProps,a),n.child;case 8:return qe(t,n,n.pendingProps.children,a),n.child;case 12:return qe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,da(n,n.type,l.value),qe(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,yr(n),h=Be(h),l=l(h),n.flags|=1,qe(t,n,l,a),n.child;case 14:return yp(t,n,n.type,n.pendingProps,a);case 15:return _p(t,n,n.type,n.pendingProps,a);case 19:return Rp(t,n,a);case 31:return pT(t,n,a);case 22:return vp(t,n,a,n.pendingProps);case 24:return yr(n),l=Be(be),t===null?(h=Ih(),h===null&&(h=Wt,f=Nh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},Oh(n),da(n,be,h)):((t.lanes&a)!==0&&(Mh(t,n),Rl(n,null,null,a),xl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),da(n,be,l)):(l=f.cache,da(n,be,l),l!==h.cache&&Ch(n,[be],a,!0))),qe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Li(t){t.flags|=4}function pf(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(ey())t.flags|=8192;else throw Er=gu,Vh}else t.flags&=-16777217}function Np(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Fy(n))if(ey())t.flags|=8192;else throw Er=gu,Vh}function Vu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?zo():536870912,t.lanes|=n,ps|=n)}function Ol(t,n){if(!Ut)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function _T(t,n,a){var l=n.pendingProps;switch(Ah(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Oi(be),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(is(n)?Li(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,wh())),ne(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Li(n),f!==null?(ne(n),Np(n,f)):(ne(n),pf(n,h,null,l,a))):f?f!==t.memoizedState?(Li(n),ne(n),Np(n,f)):(ne(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Li(n),ne(n),pf(n,h,t,l,a)),null;case 27:if(jr(n),a=Rt.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}t=ct.current,is(n)?og(n):(t=Uy(h,l,a),n.stateNode=t,Li(n))}return ne(n),null;case 5:if(jr(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(f=ct.current,is(n))og(n);else{var _=Yu(Rt.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}f[ve]=n,f[Me]=l;t:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break t;for(;_.sibling===null;){if(_.return===null||_.return===n)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=f;t:switch(He(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Li(n)}}return ne(n),pf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Rt.current,is(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=Pe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[ve]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||wy(t.nodeValue,a)),t||fa(n,!0)}else t=Yu(t).createTextNode(l),t[ve]=n,n.stateNode=t}return ne(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=is(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[ve]=n}else gr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),t=!1}else a=wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=is(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ve]=n}else gr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Vu(n,n.updateQueue),ne(n),null);case 4:return ae(),t===null&&zf(n.stateNode.containerInfo),ne(n),null;case 10:return Oi(n.type),ne(n),null;case 19:if(Y(me),l=n.memoizedState,l===null)return ne(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Ol(l,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=vu(t),f!==null){for(n.flags|=128,Ol(l,!1),t=f.updateQueue,n.updateQueue=t,Vu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)ig(a,t),a=a.sibling;return st(me,me.current&1|2),Ut&&Ii(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ze()>Lu&&(n.flags|=128,h=!0,Ol(l,!1),n.lanes=4194304)}else{if(!h)if(t=vu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Vu(n,t),Ol(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ut)return ne(n),null}else 2*Ze()-l.renderingStartTime>Lu&&a!==536870912&&(n.flags|=128,h=!0,Ol(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,a=me.current,st(me,h?a&1|2:a&1),Ut&&Ii(n,l.treeForkCount),t):(ne(n),null);case 22:case 23:return gn(n),zh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),a=n.updateQueue,a!==null&&Vu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Y(_r),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Oi(be),ne(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function vT(t,n){switch(Ah(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Oi(be),ae(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return jr(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(s(340));gr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(gn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));gr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(me),null;case 4:return ae(),null;case 10:return Oi(n.type),null;case 22:case 23:return gn(n),zh(),t!==null&&Y(_r),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Oi(be),null;case 25:return null;default:return null}}function Dp(t,n){switch(Ah(n),n.tag){case 3:Oi(be),ae();break;case 26:case 27:case 5:jr(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:Y(me);break;case 10:Oi(n.type);break;case 22:case 23:gn(n),zh(),t!==null&&Y(_r);break;case 24:Oi(be)}}function Ml(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Yt(n,n.return,T)}}function va(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=n;var D=a,P=T;try{P()}catch(X){Yt(h,D,X)}}}l=l.next}while(l!==f)}}catch(X){Yt(n,n.return,X)}}function Ip(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Tg(n,a)}catch(l){Yt(t,t.return,l)}}}function Vp(t,n,a){a.props=Ar(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(t,n,l)}}function jl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Yt(t,n,h)}}function gi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Yt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(t,n,h)}else a.current=null}function Op(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Yt(t,t.return,h)}}function yf(t,n,a){try{var l=t.stateNode;BT(l,t.type,a,n),l[Me]=n}catch(h){Yt(t,t.return,h)}}function Mp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&xa(t.type)||t.tag===4}function _f(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Mp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&xa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=zn));else if(l!==4&&(l===27&&xa(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(vf(t,n,a),t=t.sibling;t!==null;)vf(t,n,a),t=t.sibling}function Ou(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&xa(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ou(t,n,a),t=t.sibling;t!==null;)Ou(t,n,a),t=t.sibling}function jp(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,l,a),n[ve]=t,n[Me]=a}catch(f){Yt(t,t.return,f)}}var zi=!1,we=!1,Ef=!1,Up=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function ET(t,n){if(t=t.containerInfo,Bf=tc,t=Km(t),fh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var _=0,T=-1,D=-1,P=0,X=0,W=t,q=null;e:for(;;){for(var G;W!==a||h!==0&&W.nodeType!==3||(T=_+h),W!==f||l!==0&&W.nodeType!==3||(D=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(G=W.firstChild)!==null;)q=W,W=G;for(;;){if(W===t)break e;if(q===a&&++P===h&&(T=_),q===f&&++X===l&&(D=_),(G=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=G}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(qf={focusedElem:t,selectionRange:a},tc=!1,Ue=n;Ue!==null;)if(n=Ue,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ue=t;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ht=Ar(a.type,h);t=l.getSnapshotBeforeUpdate(ht,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_t){Yt(a,a.return,_t)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Gf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ue=t;break}Ue=n.return}}function Lp(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Pi(t,a),l&4&&Ml(5,a);break;case 1:if(Pi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(_){Yt(a,a.return,_)}else{var h=Ar(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Yt(a,a.return,_)}}l&64&&Ip(a),l&512&&jl(a,a.return);break;case 3:if(Pi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Tg(t,n)}catch(_){Yt(a,a.return,_)}}break;case 27:n===null&&l&4&&jp(a);case 26:case 5:Pi(t,a),n===null&&l&4&&Op(a),l&512&&jl(a,a.return);break;case 12:Pi(t,a);break;case 31:Pi(t,a),l&4&&Pp(t,a);break;case 13:Pi(t,a),l&4&&Bp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=NT.bind(null,a),XT(t,a))));break;case 22:if(l=a.memoizedState!==null||zi,!l){n=n!==null&&n.memoizedState!==null||we,h=zi;var f=we;zi=l,(we=n)&&!f?Bi(t,a,(a.subtreeFlags&8772)!==0):Pi(t,a),zi=h,we=f}break;case 30:break;default:Pi(t,a)}}function zp(t){var n=t.alternate;n!==null&&(t.alternate=null,zp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Pr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var se=null,nn=!1;function ki(t,n,a){for(a=a.child;a!==null;)kp(t,n,a),a=a.sibling}function kp(t,n,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Mn,a)}catch{}switch(a.tag){case 26:we||gi(a,n),ki(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:we||gi(a,n);var l=se,h=nn;xa(a.type)&&(se=a.stateNode,nn=!1),ki(t,n,a),Fl(a.stateNode),se=l,nn=h;break;case 5:we||gi(a,n);case 6:if(l=se,h=nn,se=null,ki(t,n,a),se=l,nn=h,se!==null)if(nn)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(a.stateNode)}catch(f){Yt(a,n,f)}else try{se.removeChild(a.stateNode)}catch(f){Yt(a,n,f)}break;case 18:se!==null&&(nn?(t=se,Iy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ss(t)):Iy(se,a.stateNode));break;case 4:l=se,h=nn,se=a.stateNode.containerInfo,nn=!0,ki(t,n,a),se=l,nn=h;break;case 0:case 11:case 14:case 15:va(2,a,n),we||va(4,a,n),ki(t,n,a);break;case 1:we||(gi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Vp(a,n,l)),ki(t,n,a);break;case 21:ki(t,n,a);break;case 22:we=(l=we)||a.memoizedState!==null,ki(t,n,a),we=l;break;default:ki(t,n,a)}}function Pp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ss(t)}catch(a){Yt(n,n.return,a)}}}function Bp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ss(t)}catch(a){Yt(n,n.return,a)}}function TT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Up),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Up),n;default:throw Error(s(435,t.tag))}}function Mu(t,n){var a=TT(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=DT.bind(null,t,l);l.then(h,h)}})}function an(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,_=n,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(xa(T.type)){se=T.stateNode,nn=!1;break t}break;case 5:se=T.stateNode,nn=!1;break t;case 3:case 4:se=T.stateNode.containerInfo,nn=!0;break t}T=T.return}if(se===null)throw Error(s(160));kp(f,_,h),se=null,nn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)qp(n,t),n=n.sibling}var Fn=null;function qp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(n,t),rn(t),l&4&&(va(3,t,t.return),Ml(3,t),va(5,t,t.return));break;case 1:an(n,t),rn(t),l&512&&(we||a===null||gi(a,a.return)),l&64&&zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Fn;if(an(n,t),rn(t),l&512&&(we||a===null||gi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ei]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,l,a),f[ve]=t,Ee(f),l=f;break t;case"link":var _=qy("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(f=_[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}f=h.createElement(l),He(f,l,a),h.head.appendChild(f);break;case"meta":if(_=qy("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(f=_[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}f=h.createElement(l),He(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[ve]=t,Ee(f),l=f}t.stateNode=l}else Hy(h,t.type,t.stateNode);else t.stateNode=By(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Hy(h,t.type,t.stateNode):By(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&yf(t,t.memoizedProps,a.memoizedProps)}break;case 27:an(n,t),rn(t),l&512&&(we||a===null||gi(a,a.return)),a!==null&&l&4&&yf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(an(n,t),rn(t),l&512&&(we||a===null||gi(a,a.return)),t.flags&32){h=t.stateNode;try{en(h,"")}catch(ht){Yt(t,t.return,ht)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,yf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Ef=!0);break;case 6:if(an(n,t),rn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ht){Yt(t,t.return,ht)}}break;case 3:if($u=null,h=Fn,Fn=Ku(n.containerInfo),an(n,t),Fn=h,rn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ss(n.containerInfo)}catch(ht){Yt(t,t.return,ht)}Ef&&(Ef=!1,Hp(t));break;case 4:l=Fn,Fn=Ku(t.stateNode.containerInfo),an(n,t),rn(t),Fn=l;break;case 12:an(n,t),rn(t);break;case 31:an(n,t),rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mu(t,l)));break;case 13:an(n,t),rn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Uu=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mu(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,P=zi,X=we;if(zi=P||h,we=X||D,an(n,t),we=X,zi=P,rn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||D||zi||we||Sr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(f=D.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=D.stateNode;var W=D.memoizedProps.style,q=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ht){Yt(D,D.return,ht)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(ht){Yt(D,D.return,ht)}}}else if(n.tag===18){if(a===null){D=n;try{var G=D.stateNode;h?Vy(G,!0):Vy(D.stateNode,!1)}catch(ht){Yt(D,D.return,ht)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Mu(t,a))));break;case 19:an(n,t),rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mu(t,l)));break;case 30:break;case 21:break;default:an(n,t),rn(t)}}function rn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Mp(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=_f(t);Ou(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(en(_,""),a.flags&=-33);var T=_f(t);Ou(t,T,_);break;case 3:case 4:var D=a.stateNode.containerInfo,P=_f(t);vf(t,P,D);break;default:throw Error(s(161))}}catch(X){Yt(t,t.return,X)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Hp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Hp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Pi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Lp(t,n.alternate,n),n=n.sibling}function Sr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:va(4,n,n.return),Sr(n);break;case 1:gi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Vp(n,n.return,a),Sr(n);break;case 27:Fl(n.stateNode);case 26:case 5:gi(n,n.return),Sr(n);break;case 22:n.memoizedState===null&&Sr(n);break;case 30:Sr(n);break;default:Sr(n)}t=t.sibling}}function Bi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:Bi(h,f,a),Ml(4,f);break;case 1:if(Bi(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Yt(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Eg(D[h],T)}catch(P){Yt(l,l.return,P)}}a&&_&64&&Ip(f),jl(f,f.return);break;case 27:jp(f);case 26:case 5:Bi(h,f,a),a&&l===null&&_&4&&Op(f),jl(f,f.return);break;case 12:Bi(h,f,a);break;case 31:Bi(h,f,a),a&&_&4&&Pp(h,f);break;case 13:Bi(h,f,a),a&&_&4&&Bp(h,f);break;case 22:f.memoizedState===null&&Bi(h,f,a),jl(f,f.return);break;case 30:break;default:Bi(h,f,a)}n=n.sibling}}function Tf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Tl(a))}function bf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Tl(t))}function Gn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fp(t,n,a,l),n=n.sibling}function Fp(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Gn(t,n,a,l),h&2048&&Ml(9,n);break;case 1:Gn(t,n,a,l);break;case 3:Gn(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Tl(t)));break;case 12:if(h&2048){Gn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,T=f.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Yt(n,n.return,D)}}else Gn(t,n,a,l);break;case 31:Gn(t,n,a,l);break;case 13:Gn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?Gn(t,n,a,l):Ul(t,n):f._visibility&2?Gn(t,n,a,l):(f._visibility|=2,ds(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Tf(_,n);break;case 24:Gn(t,n,a,l),h&2048&&bf(n.alternate,n);break;default:Gn(t,n,a,l)}}function ds(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,_=n,T=a,D=l,P=_.flags;switch(_.tag){case 0:case 11:case 15:ds(f,_,T,D,h),Ml(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?ds(f,_,T,D,h):Ul(f,_):(X._visibility|=2,ds(f,_,T,D,h)),h&&P&2048&&Tf(_.alternate,_);break;case 24:ds(f,_,T,D,h),h&&P&2048&&bf(_.alternate,_);break;default:ds(f,_,T,D,h)}n=n.sibling}}function Ul(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Ul(a,l),h&2048&&Tf(l.alternate,l);break;case 24:Ul(a,l),h&2048&&bf(l.alternate,l);break;default:Ul(a,l)}n=n.sibling}}var Ll=8192;function ms(t,n,a){if(t.subtreeFlags&Ll)for(t=t.child;t!==null;)Gp(t,n,a),t=t.sibling}function Gp(t,n,a){switch(t.tag){case 26:ms(t,n,a),t.flags&Ll&&t.memoizedState!==null&&l1(a,Fn,t.memoizedState,t.memoizedProps);break;case 5:ms(t,n,a);break;case 3:case 4:var l=Fn;Fn=Ku(t.stateNode.containerInfo),ms(t,n,a),Fn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ll,Ll=16777216,ms(t,n,a),Ll=l):ms(t,n,a));break;default:ms(t,n,a)}}function Qp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function zl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ue=l,Kp(l,t)}Qp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Yp(t),t=t.sibling}function Yp(t){switch(t.tag){case 0:case 11:case 15:zl(t),t.flags&2048&&va(9,t,t.return);break;case 3:zl(t);break;case 12:zl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ju(t)):zl(t);break;default:zl(t)}}function ju(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ue=l,Kp(l,t)}Qp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:va(8,n,n.return),ju(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ju(n));break;default:ju(n)}t=t.sibling}}function Kp(t,n){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:va(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ue=l;else t:for(a=t;Ue!==null;){l=Ue;var h=l.sibling,f=l.return;if(zp(l),l===a){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var bT={getCacheForType:function(t){var n=Be(be),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Be(be).controller.signal}},AT=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Wt=null,Dt=null,Vt=0,Qt=0,pn=null,Ea=!1,gs=!1,Af=!1,qi=0,ce=0,Ta=0,wr=0,Sf=0,yn=0,ps=0,kl=null,sn=null,wf=!1,Uu=0,Xp=0,Lu=1/0,zu=null,ba=null,Ve=0,Aa=null,ys=null,Hi=0,xf=0,Rf=null,$p=null,Pl=0,Cf=null;function _n(){return(Ht&2)!==0&&Vt!==0?Vt&-Vt:K.T!==null?Mf():ko()}function Zp(){if(yn===0)if((Vt&536870912)===0||Ut){var t=Ja;Ja<<=1,(Ja&3932160)===0&&(Ja=262144),yn=t}else yn=536870912;return t=mn.current,t!==null&&(t.flags|=32),yn}function ln(t,n,a){(t===Wt&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)&&(_s(t,0),Sa(t,Vt,yn,!1)),Wa(t,a),((Ht&2)===0||t!==Wt)&&(t===Wt&&((Ht&2)===0&&(wr|=a),ce===4&&Sa(t,Vt,yn,!1)),pi(t))}function Jp(t,n,a){if((Ht&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||jn(t,n),h=l?xT(t,n):Df(t,n,!0),f=l;do{if(h===0){gs&&!l&&Sa(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!ST(a)){h=Df(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var T=t;h=kl;var D=T.current.memoizedState.isDehydrated;if(D&&(_s(T,_).flags|=256),_=Df(T,_,!1),_!==2){if(Af&&!D){T.errorRecoveryDisabledLanes|=f,wr|=f,h=4;break t}f=sn,sn=h,f!==null&&(sn===null?sn=f:sn.push.apply(sn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){_s(t,0),Sa(t,n,0,!0);break}t:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Sa(l,n,yn,!Ea);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Uu+300-Ze(),10<h)){if(Sa(l,n,yn,!Ea),Jn(l,0,!0)!==0)break t;Hi=n,l.timeoutHandle=Ny(Wp.bind(null,l,a,sn,zu,wf,n,yn,wr,ps,Ea,f,"Throttled",-0,0),h);break t}Wp(l,a,sn,zu,wf,n,yn,wr,ps,Ea,f,null,-0,0)}}break}while(!0);pi(t)}function Wp(t,n,a,l,h,f,_,T,D,P,X,W,q,G){if(t.timeoutHandle=-1,W=n.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},Gp(n,f,W);var ht=(f&62914560)===f?Uu-Ze():(f&4194048)===f?Xp-Ze():0;if(ht=o1(W,ht),ht!==null){Hi=f,t.cancelPendingCommit=ht(ly.bind(null,t,n,f,a,l,h,_,T,D,X,W,null,q,G)),Sa(t,f,_,!P);return}}ly(t,n,f,a,l,h,_,T,D)}function ST(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!fn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Sa(t,n,a,l){n&=~Sf,n&=~wr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-fe(h),_=1<<f;l[f]=-1,h&=~_}a!==0&&tr(t,a,n)}function ku(){return(Ht&6)===0?(Bl(0),!1):!0}function Nf(){if(Dt!==null){if(Qt===0)var t=Dt.return;else t=Dt,Vi=pr=null,Fh(t),os=null,Al=0,t=Dt;for(;t!==null;)Dp(t.alternate,t),t=t.return;Dt=null}}function _s(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,FT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Hi=0,Nf(),Wt=t,Dt=a=Di(t.current,null),Vt=n,Qt=0,pn=null,Ea=!1,gs=jn(t,n),Af=!1,ps=yn=Sf=wr=Ta=ce=0,sn=kl=null,wf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-fe(l),f=1<<h;n|=t[h],l&=~f}return qi=n,su(),a}function ty(t,n){xt=null,K.H=Il,n===ls||n===mu?(n=pg(),Qt=3):n===Vh?(n=pg(),Qt=4):Qt=n===lf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,Dt===null&&(ce=1,Cu(t,xn(n,t.current)))}function ey(){var t=mn.current;return t===null?!0:(Vt&4194048)===Vt?Dn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?t===Dn:!1}function ny(){var t=K.H;return K.H=Il,t===null?Il:t}function iy(){var t=K.A;return K.A=bT,t}function Pu(){ce=4,Ea||(Vt&4194048)!==Vt&&mn.current!==null||(gs=!0),(Ta&134217727)===0&&(wr&134217727)===0||Wt===null||Sa(Wt,Vt,yn,!1)}function Df(t,n,a){var l=Ht;Ht|=2;var h=ny(),f=iy();(Wt!==t||Vt!==n)&&(zu=null,_s(t,n)),n=!1;var _=ce;t:do try{if(Qt!==0&&Dt!==null){var T=Dt,D=pn;switch(Qt){case 8:Nf(),_=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var P=Qt;if(Qt=0,pn=null,vs(t,T,D,P),a&&gs){_=0;break t}break;default:P=Qt,Qt=0,pn=null,vs(t,T,D,P)}}wT(),_=ce;break}catch(X){ty(t,X)}while(!0);return n&&t.shellSuspendCounter++,Vi=pr=null,Ht=l,K.H=h,K.A=f,Dt===null&&(Wt=null,Vt=0,su()),_}function wT(){for(;Dt!==null;)ay(Dt)}function xT(t,n){var a=Ht;Ht|=2;var l=ny(),h=iy();Wt!==t||Vt!==n?(zu=null,Lu=Ze()+500,_s(t,n)):gs=jn(t,n);t:do try{if(Qt!==0&&Dt!==null){n=Dt;var f=pn;e:switch(Qt){case 1:Qt=0,pn=null,vs(t,n,f,1);break;case 2:case 9:if(mg(f)){Qt=0,pn=null,ry(n);break}n=function(){Qt!==2&&Qt!==9||Wt!==t||(Qt=7),pi(t)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:mg(f)?(Qt=0,pn=null,ry(n)):(Qt=0,pn=null,vs(t,n,f,7));break;case 5:var _=null;switch(Dt.tag){case 26:_=Dt.memoizedState;case 5:case 27:var T=Dt;if(_?Fy(_):T.stateNode.complete){Qt=0,pn=null;var D=T.sibling;if(D!==null)Dt=D;else{var P=T.return;P!==null?(Dt=P,Bu(P)):Dt=null}break e}}Qt=0,pn=null,vs(t,n,f,5);break;case 6:Qt=0,pn=null,vs(t,n,f,6);break;case 8:Nf(),ce=6;break t;default:throw Error(s(462))}}RT();break}catch(X){ty(t,X)}while(!0);return Vi=pr=null,K.H=l,K.A=h,Ht=a,Dt!==null?0:(Wt=null,Vt=0,su(),ce)}function RT(){for(;Dt!==null&&!rh();)ay(Dt)}function ay(t){var n=Cp(t.alternate,t,qi);t.memoizedProps=t.pendingProps,n===null?Bu(t):Dt=n}function ry(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=bp(a,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=bp(a,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:Fh(n);default:Dp(a,n),n=Dt=ig(n,qi),n=Cp(a,n,qi)}t.memoizedProps=t.pendingProps,n===null?Bu(t):Dt=n}function vs(t,n,a,l){Vi=pr=null,Fh(n),os=null,Al=0;var h=n.return;try{if(gT(t,h,n,a,Vt)){ce=1,Cu(t,xn(a,t.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;ce=1,Cu(t,xn(a,t.current)),Dt=null;return}n.flags&32768?(Ut||l===1?t=!0:gs||(Vt&536870912)!==0?t=!1:(Ea=t=!0,(l===2||l===9||l===3||l===6)&&(l=mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),sy(n,t)):Bu(n)}function Bu(t){var n=t;do{if((n.flags&32768)!==0){sy(n,Ea);return}t=n.return;var a=_T(n.alternate,n,qi);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);ce===0&&(ce=5)}function sy(t,n){do{var a=vT(t.alternate,t);if(a!==null){a.flags&=32767,Dt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=a}while(t!==null);ce=6,Dt=null}function ly(t,n,a,l,h,f,_,T,D){t.cancelPendingCommit=null;do qu();while(Ve!==0);if((Ht&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=yh,oh(t,a,f,_,T,D),t===Wt&&(Dt=Wt=null,Vt=0),ys=n,Aa=t,Hi=a,xf=f,Rf=h,$p=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,IT(ta,function(){return fy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=lt.p,lt.p=2,_=Ht,Ht|=4;try{ET(t,n,a)}finally{Ht=_,lt.p=h,K.T=l}}Ve=1,oy(),uy(),cy()}}function oy(){if(Ve===1){Ve=0;var t=Aa,n=ys,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=lt.p;lt.p=2;var h=Ht;Ht|=4;try{qp(n,t);var f=qf,_=Km(t.containerInfo),T=f.focusedElem,D=f.selectionRange;if(_!==T&&T&&T.ownerDocument&&Ym(T.ownerDocument.documentElement,T)){if(D!==null&&fh(T)){var P=D.start,X=D.end;if(X===void 0&&(X=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(X,T.value.length);else{var W=T.ownerDocument||document,q=W&&W.defaultView||window;if(q.getSelection){var G=q.getSelection(),ht=T.textContent.length,_t=Math.min(D.start,ht),Zt=D.end===void 0?_t:Math.min(D.end,ht);!G.extend&&_t>Zt&&(_=Zt,Zt=_t,_t=_);var U=Qm(T,_t),O=Qm(T,Zt);if(U&&O&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==O.node||G.focusOffset!==O.offset)){var k=W.createRange();k.setStart(U.node,U.offset),G.removeAllRanges(),_t>Zt?(G.addRange(k),G.extend(O.node,O.offset)):(k.setEnd(O.node,O.offset),G.addRange(k))}}}}for(W=[],G=T;G=G.parentNode;)G.nodeType===1&&W.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var Z=W[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}tc=!!Bf,qf=Bf=null}finally{Ht=h,lt.p=l,K.T=a}}t.current=n,Ve=2}}function uy(){if(Ve===2){Ve=0;var t=Aa,n=ys,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=lt.p;lt.p=2;var h=Ht;Ht|=4;try{Lp(t,n.alternate,n)}finally{Ht=h,lt.p=l,K.T=a}}Ve=3}}function cy(){if(Ve===4||Ve===3){Ve=0,Vo();var t=Aa,n=ys,a=Hi,l=$p;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,ys=Aa=null,hy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ba=null),xi(a),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Mn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=K.T,h=lt.p,lt.p=2,K.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];f(T.value,{componentStack:T.stack})}}finally{K.T=n,lt.p=h}}(Hi&3)!==0&&qu(),pi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Cf?Pl++:(Pl=0,Cf=t):Pl=0,Bl(0)}}function hy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Tl(n)))}function qu(){return oy(),uy(),cy(),fy()}function fy(){if(Ve!==5)return!1;var t=Aa,n=xf;xf=0;var a=xi(Hi),l=K.T,h=lt.p;try{lt.p=32>a?32:a,K.T=null,a=Rf,Rf=null;var f=Aa,_=Hi;if(Ve=0,ys=Aa=null,Hi=0,(Ht&6)!==0)throw Error(s(331));var T=Ht;if(Ht|=4,Yp(f.current),Fp(f,f.current,_,a),Ht=T,Bl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Mn,f)}catch{}return!0}finally{lt.p=h,K.T=l,hy(t,n)}}function dy(t,n,a){n=xn(a,n),n=sf(t.stateNode,n,2),t=pa(t,n,2),t!==null&&(Wa(t,2),pi(t))}function Yt(t,n,a){if(t.tag===3)dy(t,t,a);else for(;n!==null;){if(n.tag===3){dy(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ba===null||!ba.has(l))){t=xn(a,t),a=mp(2),l=pa(n,a,2),l!==null&&(gp(a,l,n,t),Wa(l,2),pi(l));break}}n=n.return}}function If(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new AT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(Af=!0,h.add(a),t=CT.bind(null,t,n,a),n.then(t,t))}function CT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Wt===t&&(Vt&a)===a&&(ce===4||ce===3&&(Vt&62914560)===Vt&&300>Ze()-Uu?(Ht&2)===0&&_s(t,0):Sf|=a,ps===Vt&&(ps=0)),pi(t)}function my(t,n){n===0&&(n=zo()),t=dr(t,n),t!==null&&(Wa(t,n),pi(t))}function NT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),my(t,a)}function DT(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),my(t,a)}function IT(t,n){return Ie(t,n)}var Hu=null,Es=null,Vf=!1,Fu=!1,Of=!1,wa=0;function pi(t){t!==Es&&t.next===null&&(Es===null?Hu=Es=t:Es=Es.next=t),Fu=!0,Vf||(Vf=!0,OT())}function Bl(t,n){if(!Of&&Fu){Of=!0;do for(var a=!1,l=Hu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var _=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-fe(42|t)+1)-1,f&=h&~(_&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,_y(l,f))}else f=Vt,f=Jn(l,l===Wt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||jn(l,f)||(a=!0,_y(l,f));l=l.next}while(a);Of=!1}}function VT(){gy()}function gy(){Fu=Vf=!1;var t=0;wa!==0&&HT()&&(t=wa);for(var n=Ze(),a=null,l=Hu;l!==null;){var h=l.next,f=py(l,n);f===0?(l.next=null,a===null?Hu=h:a.next=h,h===null&&(Es=a)):(a=l,(t!==0||(f&3)!==0)&&(Fu=!0)),l=h}Ve!==0&&Ve!==5||Bl(t),wa!==0&&(wa=0)}function py(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-fe(f),T=1<<_,D=h[_];D===-1?((T&a)===0||(T&l)!==0)&&(h[_]=lh(T,n)):D<=n&&(t.expiredLanes|=T),f&=~T}if(n=Wt,a=Vt,a=Jn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Wi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||jn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Wi(l),xi(a)){case 2:case 8:a=Zs;break;case 32:a=ta;break;case 268435456:a=Oo;break;default:a=ta}return l=yy.bind(null,t),a=Ie(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Wi(l),t.callbackPriority=2,t.callbackNode=null,2}function yy(t,n){if(Ve!==0&&Ve!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(qu()&&t.callbackNode!==a)return null;var l=Vt;return l=Jn(t,t===Wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Jp(t,l,n),py(t,Ze()),t.callbackNode!=null&&t.callbackNode===a?yy.bind(null,t):null)}function _y(t,n){if(qu())return null;Jp(t,n,!0)}function OT(){GT(function(){(Ht&6)!==0?Ie($s,VT):gy()})}function Mf(){if(wa===0){var t=rs;t===0&&(t=$n,$n<<=1,($n&261888)===0&&($n=256)),wa=t}return wa}function vy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Fr(""+t)}function Ey(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function MT(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=vy((h[Me]||null).action),_=l.submitter;_&&(n=(n=_[Me]||null)?vy(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var T=new ui("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(wa!==0){var D=_?Ey(h,_):new FormData(h);Wh(a,{pending:!0,data:D,method:h.method,action:f},null,D)}}else typeof f=="function"&&(T.preventDefault(),D=_?Ey(h,_):new FormData(h),Wh(a,{pending:!0,data:D,method:h.method,action:f},f,D))},currentTarget:h}]})}}for(var jf=0;jf<ph.length;jf++){var Uf=ph[jf],jT=Uf.toLowerCase(),UT=Uf[0].toUpperCase()+Uf.slice(1);Hn(jT,"on"+UT)}Hn(Zm,"onAnimationEnd"),Hn(Jm,"onAnimationIteration"),Hn(Wm,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(JE,"onTransitionRun"),Hn(WE,"onTransitionStart"),Hn(tT,"onTransitionCancel"),Hn(tg,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function Ty(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var T=l[_],D=T.instance,P=T.currentTarget;if(T=T.listener,D!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=P;try{f(h)}catch(X){ru(X)}h.currentTarget=null,f=D}else for(_=0;_<l.length;_++){if(T=l[_],D=T.instance,P=T.currentTarget,T=T.listener,D!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=P;try{f(h)}catch(X){ru(X)}h.currentTarget=null,f=D}}}}function It(t,n){var a=n[kr];a===void 0&&(a=n[kr]=new Set);var l=t+"__bubble";a.has(l)||(by(n,t,2,!1),a.add(l))}function Lf(t,n,a){var l=0;n&&(l|=4),by(a,t,l,n)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function zf(t){if(!t[Gu]){t[Gu]=!0,tl.forEach(function(a){a!=="selectionchange"&&(LT.has(a)||Lf(a,!1,t),Lf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Gu]||(n[Gu]=!0,Lf("selectionchange",!1,n))}}function by(t,n,a,l){switch(Zy(n)){case 2:var h=h1;break;case 8:h=f1;break;default:h=Wf}a=h.bind(null,n,a,t),h=void 0,!rr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function kf(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=ni(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=f=_;continue t}T=T.parentNode}}l=l.return}sa(function(){var P=f,X=bn(a),W=[];t:{var q=eg.get(t);if(q!==void 0){var G=ui,ht=t;switch(t){case"keypress":if(lr(a)===0)break t;case"keydown":case"keyup":G=nu;break;case"focusin":ht="focus",G=ur;break;case"focusout":ht="blur",G=ur;break;case"beforeblur":case"afterblur":G=ur;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Yo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=m;break;case Zm:case Jm:case Wm:G=Xo;break;case tg:G=S;break;case"scroll":case"scrollend":G=fl;break;case"wheel":G=F;break;case"copy":case"cut":case"paste":G=$o;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Ni;break;case"toggle":case"beforetoggle":G=wt}var _t=(n&4)!==0,Zt=!_t&&(t==="scroll"||t==="scrollend"),U=_t?q!==null?q+"Capture":null:q;_t=[];for(var O=P,k;O!==null;){var Z=O;if(k=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||k===null||U===null||(Z=kn(O,U),Z!=null&&_t.push(Hl(O,Z,k))),Zt)break;O=O.return}0<_t.length&&(q=new G(q,ht,null,a,X),W.push({event:q,listeners:_t}))}}if((n&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",q&&a!==ul&&(ht=a.relatedTarget||a.fromElement)&&(ni(ht)||ht[ti]))break t;if((G||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,G?(ht=a.relatedTarget||a.toElement,G=P,ht=ht?ni(ht):null,ht!==null&&(Zt=c(ht),_t=ht.tag,ht!==Zt||_t!==5&&_t!==27&&_t!==6)&&(ht=null)):(G=null,ht=P),G!==ht)){if(_t=dl,Z="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(_t=Ni,Z="onPointerLeave",U="onPointerEnter",O="pointer"),Zt=G==null?q:cn(G),k=ht==null?q:cn(ht),q=new _t(Z,O+"leave",G,a,X),q.target=Zt,q.relatedTarget=k,Z=null,ni(X)===P&&(_t=new _t(U,O+"enter",ht,a,X),_t.target=k,_t.relatedTarget=Zt,Z=_t),Zt=Z,G&&ht)e:{for(_t=zT,U=G,O=ht,k=0,Z=U;Z;Z=_t(Z))k++;Z=0;for(var gt=O;gt;gt=_t(gt))Z++;for(;0<k-Z;)U=_t(U),k--;for(;0<Z-k;)O=_t(O),Z--;for(;k--;){if(U===O||O!==null&&U===O.alternate){_t=U;break e}U=_t(U),O=_t(O)}_t=null}else _t=null;G!==null&&Ay(W,q,G,_t,!1),ht!==null&&Zt!==null&&Ay(W,Zt,ht,_t,!0)}}t:{if(q=P?cn(P):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var Pt=Pm;else if(zm(q))if(Bm)Pt=XE;else{Pt=YE;var dt=QE}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?P&&Hr(P.elementType)&&(Pt=Pm):Pt=KE;if(Pt&&(Pt=Pt(t,P))){km(W,Pt,a,X);break t}dt&&dt(t,q,P),t==="focusout"&&P&&q.type==="number"&&P.memoizedProps.value!=null&&sl(q,"number",q.value)}switch(dt=P?cn(P):window,t){case"focusin":(zm(dt)||dt.contentEditable==="true")&&(Zr=dt,dh=P,_l=null);break;case"focusout":_l=dh=Zr=null;break;case"mousedown":mh=!0;break;case"contextmenu":case"mouseup":case"dragend":mh=!1,Xm(W,a,X);break;case"selectionchange":if(ZE)break;case"keydown":case"keyup":Xm(W,a,X)}var Ct;if(qt)t:{switch(t){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else $r?cr(t,a)&&(Ot="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ot="onCompositionStart");Ot&&(fi&&a.locale!=="ko"&&($r||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&$r&&(Ct=hl()):(oi=X,cl="value"in oi?oi.value:oi.textContent,$r=!0)),dt=Qu(P,Ot),0<dt.length&&(Ot=new hi(Ot,t,null,a,X),W.push({event:Ot,listeners:dt}),Ct?Ot.data=Ct:(Ct=Xr(a),Ct!==null&&(Ot.data=Ct)))),(Ct=Sn?qE(t,a):HE(t,a))&&(Ot=Qu(P,"onBeforeInput"),0<Ot.length&&(dt=new hi("onBeforeInput","beforeinput",null,a,X),W.push({event:dt,listeners:Ot}),dt.data=Ct)),MT(W,t,P,a,X)}Ty(W,n)})}function Hl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Qu(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=kn(t,a),h!=null&&l.unshift(Hl(t,h,f)),h=kn(t,n),h!=null&&l.push(Hl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function zT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ay(t,n,a,l,h){for(var f=n._reactName,_=[];a!==null&&a!==l;){var T=a,D=T.alternate,P=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||P===null||(D=P,h?(P=kn(a,f),P!=null&&_.unshift(Hl(a,P,D))):h||(P=kn(a,f),P!=null&&_.push(Hl(a,P,D)))),a=a.return}_.length!==0&&t.push({event:n,listeners:_})}var kT=/\r\n?/g,PT=/\u0000|\uFFFD/g;function Sy(t){return(typeof t=="string"?t:""+t).replace(kT,`
`).replace(PT,"")}function wy(t,n){return n=Sy(n),Sy(t)===n}function $t(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||en(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&en(t,""+l);break;case"className":hn(t,"class",l);break;case"tabIndex":hn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(t,a,l);break;case"style":ol(t,l,f);break;case"data":if(n!=="object"){hn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Fr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&$t(t,n,"name",h.name,h,null),$t(t,n,"formEncType",h.formEncType,h,null),$t(t,n,"formMethod",h.formMethod,h,null),$t(t,n,"formTarget",h.formTarget,h,null)):($t(t,n,"encType",h.encType,h,null),$t(t,n,"method",h.method,h,null),$t(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Fr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=zn);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Fr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":It("beforetoggle",t),It("toggle",t),Br(t,"popover",l);break;case"xlinkActuate":Te(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Te(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Te(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Te(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Te(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Te(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Te(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Te(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Te(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Br(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Qo.get(a)||a,Br(t,a,l))}}function Pf(t,n,a,l,h,f){switch(a){case"style":ol(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?en(t,l):(typeof l=="number"||typeof l=="bigint")&&en(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!el.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Me]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Br(t,a,l)}}}function He(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(t,n,f,_,a,null)}}h&&$t(t,n,"srcSet",a.srcSet,a,null),l&&$t(t,n,"src",a.src,a,null);return;case"input":It("invalid",t);var T=f=_=h=null,D=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":D=X;break;case"defaultChecked":P=X;break;case"value":f=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,n));break;default:$t(t,n,l,X,a,null)}}Ho(t,f,T,D,P,_,h,!1);return;case"select":It("invalid",t),l=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:$t(t,n,h,T,a,null)}n=f,a=_,t.multiple=!!l,n!=null?na(t,!!l,n,!1):a!=null&&na(t,!!l,a,!0);return;case"textarea":It("invalid",t),f=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:$t(t,n,_,T,a,null)}ia(t,l,h,f);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(t,n,D,l,a,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<ql.length;l++)It(ql[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(t,n,P,l,a,null)}return;default:if(Hr(n)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Pf(t,n,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&$t(t,n,T,l,a,null))}function BT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,T=null,D=null,P=null,X=null;for(G in a){var W=a[G];if(a.hasOwnProperty(G)&&W!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":D=W;default:l.hasOwnProperty(G)||$t(t,n,G,null,l,W)}}for(var q in l){var G=l[q];if(W=a[q],l.hasOwnProperty(q)&&(G!=null||W!=null))switch(q){case"type":f=G;break;case"name":h=G;break;case"checked":P=G;break;case"defaultChecked":X=G;break;case"value":_=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:G!==W&&$t(t,n,q,G,l,W)}}qr(t,_,T,D,P,X,f,h);return;case"select":G=_=T=q=null;for(f in a)if(D=a[f],a.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":G=D;default:l.hasOwnProperty(f)||$t(t,n,f,null,l,D)}for(h in l)if(f=l[h],D=a[h],l.hasOwnProperty(h)&&(f!=null||D!=null))switch(h){case"value":q=f;break;case"defaultValue":T=f;break;case"multiple":_=f;default:f!==D&&$t(t,n,h,f,l,D)}n=T,a=_,l=G,q!=null?na(t,!!a,q,!1):!!l!=!!a&&(n!=null?na(t,!!a,n,!0):na(t,!!a,a?[]:"",!1));return;case"textarea":G=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$t(t,n,T,null,l,h)}for(_ in l)if(h=l[_],f=a[_],l.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":q=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&$t(t,n,_,h,l,f)}Fo(t,q,G);return;case"option":for(var ht in a)if(q=a[ht],a.hasOwnProperty(ht)&&q!=null&&!l.hasOwnProperty(ht))switch(ht){case"selected":t.selected=!1;break;default:$t(t,n,ht,null,l,q)}for(D in l)if(q=l[D],G=a[D],l.hasOwnProperty(D)&&q!==G&&(q!=null||G!=null))switch(D){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:$t(t,n,D,q,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)q=a[_t],a.hasOwnProperty(_t)&&q!=null&&!l.hasOwnProperty(_t)&&$t(t,n,_t,null,l,q);for(P in l)if(q=l[P],G=a[P],l.hasOwnProperty(P)&&q!==G&&(q!=null||G!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:$t(t,n,P,q,l,G)}return;default:if(Hr(n)){for(var Zt in a)q=a[Zt],a.hasOwnProperty(Zt)&&q!==void 0&&!l.hasOwnProperty(Zt)&&Pf(t,n,Zt,void 0,l,q);for(X in l)q=l[X],G=a[X],!l.hasOwnProperty(X)||q===G||q===void 0&&G===void 0||Pf(t,n,X,q,l,G);return}}for(var U in a)q=a[U],a.hasOwnProperty(U)&&q!=null&&!l.hasOwnProperty(U)&&$t(t,n,U,null,l,q);for(W in l)q=l[W],G=a[W],!l.hasOwnProperty(W)||q===G||q==null&&G==null||$t(t,n,W,q,l,G)}function xy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,_=h.initiatorType,T=h.duration;if(f&&T&&xy(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var D=a[l],P=D.startTime;if(P>T)break;var X=D.transferSize,W=D.initiatorType;X&&xy(W)&&(D=D.responseEnd,_+=X*(D<T?1:(T-P)/(D-P)))}if(--l,n+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Bf=null,qf=null;function Yu(t){return t.nodeType===9?t:t.ownerDocument}function Ry(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Hf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ff=null;function HT(){var t=window.event;return t&&t.type==="popstate"?t===Ff?!1:(Ff=t,!0):(Ff=null,!1)}var Ny=typeof setTimeout=="function"?setTimeout:void 0,FT=typeof clearTimeout=="function"?clearTimeout:void 0,Dy=typeof Promise=="function"?Promise:void 0,GT=typeof queueMicrotask=="function"?queueMicrotask:typeof Dy<"u"?function(t){return Dy.resolve(null).then(t).catch(QT)}:Ny;function QT(t){setTimeout(function(){throw t})}function xa(t){return t==="head"}function Iy(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ss(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Fl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Fl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,T=f.nodeName;f[ei]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Fl(t.ownerDocument.body);a=h}while(a);Ss(n)}function Vy(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Gf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gf(a),Pr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function YT(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ei])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=In(t.nextSibling),t===null)break}return null}function KT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=In(t.nextSibling),t===null))return null;return t}function Oy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=In(t.nextSibling),t===null))return null;return t}function Qf(t){return t.data==="$?"||t.data==="$~"}function Yf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function XT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function In(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Kf=null;function My(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return In(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function jy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Uy(t,n,a){switch(n=Yu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Fl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Pr(t)}var Vn=new Map,Ly=new Set;function Ku(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Fi=lt.d;lt.d={f:$T,r:ZT,D:JT,C:WT,L:t1,m:e1,X:i1,S:n1,M:a1};function $T(){var t=Fi.f(),n=ku();return t||n}function ZT(t){var n=Tn(t);n!==null&&n.tag===5&&n.type==="form"?tp(n):Fi.r(t)}var Ts=typeof document>"u"?null:document;function zy(t,n,a){var l=Ts;if(l&&typeof n=="string"&&n){var h=tn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ly.has(h)||(Ly.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),He(n,"link",t),Ee(n),l.head.appendChild(n)))}}function JT(t){Fi.D(t),zy("dns-prefetch",t,null)}function WT(t,n){Fi.C(t,n),zy("preconnect",t,n)}function t1(t,n,a){Fi.L(t,n,a);var l=Ts;if(l&&t&&n){var h='link[rel="preload"][as="'+tn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+tn(a.imageSizes)+'"]')):h+='[href="'+tn(t)+'"]';var f=h;switch(n){case"style":f=bs(t);break;case"script":f=As(t)}Vn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Vn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Gl(f))||n==="script"&&l.querySelector(Ql(f))||(n=l.createElement("link"),He(n,"link",t),Ee(n),l.head.appendChild(n)))}}function e1(t,n){Fi.m(t,n);var a=Ts;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+tn(l)+'"][href="'+tn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=As(t)}if(!Vn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Vn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ql(f)))return}l=a.createElement("link"),He(l,"link",t),Ee(l),a.head.appendChild(l)}}}function n1(t,n,a){Fi.S(t,n,a);var l=Ts;if(l&&t){var h=ii(l).hoistableStyles,f=bs(t);n=n||"default";var _=h.get(f);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Gl(f)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Vn.get(f))&&Xf(t,a);var D=_=l.createElement("link");Ee(D),He(D,"link",t),D._p=new Promise(function(P,X){D.onload=P,D.onerror=X}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Xu(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(f,_)}}}function i1(t,n){Fi.X(t,n);var a=Ts;if(a&&t){var l=ii(a).hoistableScripts,h=As(t),f=l.get(h);f||(f=a.querySelector(Ql(h)),f||(t=A({src:t,async:!0},n),(n=Vn.get(h))&&$f(t,n),f=a.createElement("script"),Ee(f),He(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function a1(t,n){Fi.M(t,n);var a=Ts;if(a&&t){var l=ii(a).hoistableScripts,h=As(t),f=l.get(h);f||(f=a.querySelector(Ql(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Vn.get(h))&&$f(t,n),f=a.createElement("script"),Ee(f),He(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function ky(t,n,a,l){var h=(h=Rt.current)?Ku(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=bs(a.href),a=ii(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=bs(a.href);var f=ii(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(Gl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),f||r1(h,t,a,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=As(a),a=ii(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function bs(t){return'href="'+tn(t)+'"'}function Gl(t){return'link[rel="stylesheet"]['+t+"]"}function Py(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function r1(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),He(n,"link",a),Ee(n),t.head.appendChild(n))}function As(t){return'[src="'+tn(t)+'"]'}function Ql(t){return"script[async]"+t}function By(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+tn(a.href)+'"]');if(l)return n.instance=l,Ee(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ee(l),He(l,"style",h),Xu(l,a.precedence,t),n.instance=l;case"stylesheet":h=bs(a.href);var f=t.querySelector(Gl(h));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;l=Py(a),(h=Vn.get(h))&&Xf(l,h),f=(t.ownerDocument||t).createElement("link"),Ee(f);var _=f;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),He(f,"link",l),n.state.loading|=4,Xu(f,a.precedence,t),n.instance=f;case"script":return f=As(a.src),(h=t.querySelector(Ql(f)))?(n.instance=h,Ee(h),h):(l=a,(h=Vn.get(f))&&(l=A({},a),$f(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ee(h),He(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Xu(l,a.precedence,t));return n.instance}function Xu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Xf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function $f(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var $u=null;function qy(t,n,a){if($u===null){var l=new Map,h=$u=new Map;h.set(a,l)}else h=$u,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[ei]||f[ve]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var T=l.get(_);T?T.push(f):l.set(_,[f])}}return l}function Hy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function s1(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Fy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function l1(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=bs(l.href),f=n.querySelector(Gl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Zu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Ee(f);return}f=n.ownerDocument||n,l=Py(l),(h=Vn.get(h))&&Xf(l,h),f=f.createElement("link"),Ee(f);var _=f;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),He(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Zu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Zf=0;function o1(t,n){return t.stylesheets&&t.count===0&&Wu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Wu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Zf===0&&(Zf=62500*qT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Wu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Zf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Zu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ju=null;function Wu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ju=new Map,n.forEach(u1,t),Ju=null,Zu.call(t))}function u1(t,n){if(!(n.state.loading&4)){var a=Ju.get(t);if(a)var l=a.get(null);else{a=new Map,Ju.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,h),a.set(_,h),this.count++,l=Zu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Yl={$$typeof:nt,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function c1(t,n,a,l,h,f,_,T,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wn(0),this.hiddenUpdates=Wn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Gy(t,n,a,l,h,f,_,T,D,P,X,W){return t=new c1(t,n,a,_,D,P,X,W,T),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),t.current=f,f.stateNode=t,n=Nh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Oh(f),t}function Qy(t){return t?(t=ts,t):ts}function Yy(t,n,a,l,h,f){h=Qy(h),l.context===null?l.context=h:l.pendingContext=h,l=ga(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=pa(t,l,n),a!==null&&(ln(a,t,n),wl(a,t,n))}function Ky(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Jf(t,n){Ky(t,n),(t=t.alternate)&&Ky(t,n)}function Xy(t){if(t.tag===13||t.tag===31){var n=dr(t,67108864);n!==null&&ln(n,t,67108864),Jf(t,67108864)}}function $y(t){if(t.tag===13||t.tag===31){var n=_n();n=er(n);var a=dr(t,n);a!==null&&ln(a,t,n),Jf(t,n)}}var tc=!0;function h1(t,n,a,l){var h=K.T;K.T=null;var f=lt.p;try{lt.p=2,Wf(t,n,a,l)}finally{lt.p=f,K.T=h}}function f1(t,n,a,l){var h=K.T;K.T=null;var f=lt.p;try{lt.p=8,Wf(t,n,a,l)}finally{lt.p=f,K.T=h}}function Wf(t,n,a,l){if(tc){var h=td(l);if(h===null)kf(t,n,l,ec,a),Jy(t,l);else if(m1(h,t,n,a,l))l.stopPropagation();else if(Jy(t,l),n&4&&-1<d1.indexOf(t)){for(;h!==null;){var f=Tn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Zn(f.pendingLanes);if(_!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-fe(_);T.entanglements[1]|=D,_&=~D}pi(f),(Ht&6)===0&&(Lu=Ze()+500,Bl(0))}}break;case 31:case 13:T=dr(f,2),T!==null&&ln(T,f,2),ku(),Jf(f,2)}if(f=td(l),f===null&&kf(t,n,l,ec,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else kf(t,n,l,null,a)}}function td(t){return t=bn(t),ed(t)}var ec=null;function ed(t){if(ec=null,t=ni(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return ec=t,null}function Zy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Za()){case $s:return 2;case Zs:return 8;case ta:case sh:return 32;case Oo:return 268435456;default:return 32}default:return 32}}var nd=!1,Ra=null,Ca=null,Na=null,Kl=new Map,Xl=new Map,Da=[],d1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jy(t,n){switch(t){case"focusin":case"focusout":Ra=null;break;case"dragenter":case"dragleave":Ca=null;break;case"mouseover":case"mouseout":Na=null;break;case"pointerover":case"pointerout":Kl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(n.pointerId)}}function $l(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Tn(n),n!==null&&Xy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function m1(t,n,a,l,h){switch(n){case"focusin":return Ra=$l(Ra,t,n,a,l,h),!0;case"dragenter":return Ca=$l(Ca,t,n,a,l,h),!0;case"mouseover":return Na=$l(Na,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return Kl.set(f,$l(Kl.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Xl.set(f,$l(Xl.get(f)||null,t,n,a,l,h)),!0}return!1}function Wy(t){var n=ni(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Un(t.priority,function(){$y(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,Un(t.priority,function(){$y(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=td(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ul=l,a.target.dispatchEvent(l),ul=null}else return n=Tn(a),n!==null&&Xy(n),t.blockedOn=a,!1;n.shift()}return!0}function t_(t,n,a){nc(t)&&a.delete(n)}function g1(){nd=!1,Ra!==null&&nc(Ra)&&(Ra=null),Ca!==null&&nc(Ca)&&(Ca=null),Na!==null&&nc(Na)&&(Na=null),Kl.forEach(t_),Xl.forEach(t_)}function ic(t,n){t.blockedOn===n&&(t.blockedOn=null,nd||(nd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,g1)))}var ac=null;function e_(t){ac!==t&&(ac=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ac===t&&(ac=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(ed(l||a)===null)continue;break}var f=Tn(a);f!==null&&(t.splice(n,3),n-=3,Wh(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ss(t){function n(D){return ic(D,t)}Ra!==null&&ic(Ra,t),Ca!==null&&ic(Ca,t),Na!==null&&ic(Na,t),Kl.forEach(n),Xl.forEach(n);for(var a=0;a<Da.length;a++){var l=Da[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Da.length&&(a=Da[0],a.blockedOn===null);)Wy(a),a.blockedOn===null&&Da.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],_=h[Me]||null;if(typeof f=="function")_||e_(a);else if(_){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Me]||null)T=_.formAction;else if(ed(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),e_(a)}}}function n_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function id(t){this._internalRoot=t}rc.prototype.render=id.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=_n();Yy(a,l,t,n,null,null)},rc.prototype.unmount=id.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Yy(t.current,2,null,t,null,null),ku(),n[ti]=null}};function rc(t){this._internalRoot=t}rc.prototype.unstable_scheduleHydration=function(t){if(t){var n=ko();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Da.length&&n!==0&&n<Da[a].priority;a++);Da.splice(a,0,t),a===0&&Wy(t)}};var i_=e.version;if(i_!=="19.2.0")throw Error(s(527,i_,"19.2.0"));lt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var p1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{Mn=sc.inject(p1),ze=sc}catch{}}return Jl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=cp,f=hp,_=fp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=Gy(t,1,!1,null,null,a,l,null,h,f,_,n_),t[ti]=n.current,zf(t),new id(n)},Jl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=cp,_=hp,T=fp,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),n=Gy(t,1,!0,n,a??null,l,h,D,f,_,T,n_),n.context=Qy(null),a=n.current,l=_n(),l=er(l),h=ga(l),h.callback=null,pa(a,h,l),a=l,n.current.lanes=a,Wa(n,a),pi(n),t[ti]=n.current,zf(t),new rc(n)},Jl.version="19.2.0",Jl}var d_;function x1(){if(d_)return sd.exports;d_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),sd.exports=w1(),sd.exports}var R1=x1();const C1=Iv(R1);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var m_="popstate";function N1(r={}){function e(o,c){let{pathname:d="/",search:g="",hash:p=""}=Ir(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Td("",{pathname:d,search:g,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){let d=o.document.querySelector("base"),g="";if(d&&d.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");g=y===-1?p:p.slice(0,y)}return g+"#"+(typeof c=="string"?c:co(c))}function s(o,c){Yn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return I1(e,i,s,r)}function le(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Yn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function D1(){return Math.random().toString(36).substring(2,10)}function g_(r,e){return{usr:r.state,key:r.key,idx:e}}function Td(r,e,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ir(e):e,state:i,key:e&&e.key||s||D1()}}function co({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Ir(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function I1(r,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,g="POP",p=null,y=E();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function E(){return(d.state||{idx:null}).idx}function A(){g="POP";let H=E(),et=H==null?null:H-y;y=H,p&&p({action:g,location:$.location,delta:et})}function w(H,et){g="PUSH";let at=Td($.location,H,et);i&&i(at,H),y=E()+1;let nt=g_(at,y),ft=$.createHref(at);try{d.pushState(nt,"",ft)}catch(yt){if(yt instanceof DOMException&&yt.name==="DataCloneError")throw yt;o.location.assign(ft)}c&&p&&p({action:g,location:$.location,delta:1})}function j(H,et){g="REPLACE";let at=Td($.location,H,et);i&&i(at,H),y=E();let nt=g_(at,y),ft=$.createHref(at);d.replaceState(nt,"",ft),c&&p&&p({action:g,location:$.location,delta:0})}function Q(H){return V1(H)}let $={get action(){return g},get location(){return r(o,d)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(m_,A),p=H,()=>{o.removeEventListener(m_,A),p=null}},createHref(H){return e(o,H)},createURL:Q,encodeLocation(H){let et=Q(H);return{pathname:et.pathname,search:et.search,hash:et.hash}},push:w,replace:j,go(H){return d.go(H)}};return $}function V1(r,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),le(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:co(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function Ov(r,e,i="/"){return O1(r,e,i,!1)}function O1(r,e,i,s){let o=typeof e=="string"?Ir(e):e,c=Yi(o.pathname||"/",i);if(c==null)return null;let d=Mv(r);M1(d);let g=null;for(let p=0;g==null&&p<d.length;++p){let y=G1(c);g=H1(d[p],y,s)}return g}function Mv(r,e=[],i=[],s="",o=!1){let c=(d,g,p=o,y)=>{let E={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:g,route:d};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;le(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let A=Gi([s,E.relativePath]),w=i.concat(E);d.children&&d.children.length>0&&(le(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),Mv(d.children,e,w,A,p)),!(d.path==null&&!d.index)&&e.push({path:A,score:B1(A,d.index),routesMeta:w})};return r.forEach((d,g)=>{var p;if(d.path===""||!((p=d.path)!=null&&p.includes("?")))c(d,g);else for(let y of jv(d.path))c(d,g,!0,y)}),e}function jv(r){let e=r.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=jv(s.join("/")),g=[];return g.push(...d.map(p=>p===""?c:[c,p].join("/"))),o&&g.push(...d),g.map(p=>r.startsWith("/")&&p===""?"/":p)}function M1(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:q1(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var j1=/^:[\w-]+$/,U1=3,L1=2,z1=1,k1=10,P1=-2,p_=r=>r==="*";function B1(r,e){let i=r.split("/"),s=i.length;return i.some(p_)&&(s+=P1),e&&(s+=L1),i.filter(o=>!p_(o)).reduce((o,c)=>o+(j1.test(c)?U1:c===""?z1:k1),s)}function q1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function H1(r,e,i=!1){let{routesMeta:s}=r,o={},c="/",d=[];for(let g=0;g<s.length;++g){let p=s[g],y=g===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",A=Tc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),w=p.route;if(!A&&y&&i&&!s[s.length-1].route.index&&(A=Tc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),d.push({params:o,pathname:Gi([c,A.pathname]),pathnameBase:X1(Gi([c,A.pathnameBase])),route:w}),A.pathnameBase!=="/"&&(c=Gi([c,A.pathnameBase]))}return d}function Tc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=F1(r.path,r.caseSensitive,r.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:A},w)=>{if(E==="*"){let Q=g[w]||"";d=c.slice(0,c.length-Q.length).replace(/(.)\/+$/,"$1")}const j=g[w];return A&&!j?y[E]=void 0:y[E]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:r}}function F1(r,e=!1,i=!0){Yn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,p)=>(s.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function G1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Yi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function Q1(r,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?Ir(r):r;return{pathname:i?i.startsWith("/")?i:Y1(i,e):e,search:$1(s),hash:Z1(o)}}function Y1(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function cd(r,e,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function K1(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Uv(r){let e=K1(r);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Lv(r,e,i,s=!1){let o;typeof r=="string"?o=Ir(r):(o={...r},le(!o.pathname||!o.pathname.includes("?"),cd("?","pathname","search",o)),le(!o.pathname||!o.pathname.includes("#"),cd("#","pathname","hash",o)),le(!o.search||!o.search.includes("#"),cd("#","search","hash",o)));let c=r===""||o.pathname==="",d=c?"/":o.pathname,g;if(d==null)g=i;else{let A=e.length-1;if(!s&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),A-=1;o.pathname=w.join("/")}g=A>=0?e[A]:"/"}let p=Q1(o,g),y=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Gi=r=>r.join("/").replace(/\/\/+/g,"/"),X1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),$1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Z1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function J1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var zv=["POST","PUT","PATCH","DELETE"];new Set(zv);var W1=["GET",...zv];new Set(W1);var ks=B.createContext(null);ks.displayName="DataRouter";var zc=B.createContext(null);zc.displayName="DataRouterState";B.createContext(!1);var kv=B.createContext({isTransitioning:!1});kv.displayName="ViewTransition";var tb=B.createContext(new Map);tb.displayName="Fetchers";var eb=B.createContext(null);eb.displayName="Await";var Si=B.createContext(null);Si.displayName="Navigation";var bo=B.createContext(null);bo.displayName="Location";var wi=B.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var Kd=B.createContext(null);Kd.displayName="RouteError";function nb(r,{relative:e}={}){le(Ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=B.useContext(Si),{hash:o,pathname:c,search:d}=So(r,{relative:e}),g=c;return i!=="/"&&(g=c==="/"?i:Gi([i,c])),s.createHref({pathname:g,search:d,hash:o})}function Ao(){return B.useContext(bo)!=null}function Qa(){return le(Ao(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(bo).location}var Pv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Bv(r){B.useContext(Si).static||B.useLayoutEffect(r)}function qv(){let{isDataRoute:r}=B.useContext(wi);return r?pb():ib()}function ib(){le(Ao(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(ks),{basename:e,navigator:i}=B.useContext(Si),{matches:s}=B.useContext(wi),{pathname:o}=Qa(),c=JSON.stringify(Uv(s)),d=B.useRef(!1);return Bv(()=>{d.current=!0}),B.useCallback((p,y={})=>{if(Yn(d.current,Pv),!d.current)return;if(typeof p=="number"){i.go(p);return}let E=Lv(p,JSON.parse(c),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Gi([e,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[e,i,c,o,r])}B.createContext(null);function ab(){let{matches:r}=B.useContext(wi),e=r[r.length-1];return e?e.params:{}}function So(r,{relative:e}={}){let{matches:i}=B.useContext(wi),{pathname:s}=Qa(),o=JSON.stringify(Uv(i));return B.useMemo(()=>Lv(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function rb(r,e){return Hv(r,e)}function Hv(r,e,i,s,o){var at;le(Ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=B.useContext(Si),{matches:d}=B.useContext(wi),g=d[d.length-1],p=g?g.params:{},y=g?g.pathname:"/",E=g?g.pathnameBase:"/",A=g&&g.route;{let nt=A&&A.path||"";Fv(y,!A||nt.endsWith("*")||nt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${nt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${nt}"> to <Route path="${nt==="/"?"*":`${nt}/*`}">.`)}let w=Qa(),j;if(e){let nt=typeof e=="string"?Ir(e):e;le(E==="/"||((at=nt.pathname)==null?void 0:at.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${nt.pathname}" was given in the \`location\` prop.`),j=nt}else j=w;let Q=j.pathname||"/",$=Q;if(E!=="/"){let nt=E.replace(/^\//,"").split("/");$="/"+Q.replace(/^\//,"").split("/").slice(nt.length).join("/")}let H=Ov(r,{pathname:$});Yn(A||H!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Yn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let et=cb(H&&H.map(nt=>Object.assign({},nt,{params:Object.assign({},p,nt.params),pathname:Gi([E,c.encodeLocation?c.encodeLocation(nt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:nt.pathname]),pathnameBase:nt.pathnameBase==="/"?E:Gi([E,c.encodeLocation?c.encodeLocation(nt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:nt.pathnameBase])})),d,i,s,o);return e&&et?B.createElement(bo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},et):et}function sb(){let r=gb(),e=J1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:c},"ErrorBoundary")," or"," ",B.createElement("code",{style:c},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),i?B.createElement("pre",{style:o},i):null,d)}var lb=B.createElement(sb,null),ob=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?B.createElement(wi.Provider,{value:this.props.routeContext},B.createElement(Kd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ub({routeContext:r,match:e,children:i}){let s=B.useContext(ks);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(wi.Provider,{value:r},i)}function cb(r,e=[],i=null,s=null,o=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let c=r,d=i==null?void 0:i.errors;if(d!=null){let y=c.findIndex(E=>E.route.id&&(d==null?void 0:d[E.route.id])!==void 0);le(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let g=!1,p=-1;if(i)for(let y=0;y<c.length;y++){let E=c[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=y),E.route.id){let{loaderData:A,errors:w}=i,j=E.route.loader&&!A.hasOwnProperty(E.route.id)&&(!w||w[E.route.id]===void 0);if(E.route.lazy||j){g=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((y,E,A)=>{let w,j=!1,Q=null,$=null;i&&(w=d&&E.route.id?d[E.route.id]:void 0,Q=E.route.errorElement||lb,g&&(p<0&&A===0?(Fv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,$=null):p===A&&(j=!0,$=E.route.hydrateFallbackElement||null)));let H=e.concat(c.slice(0,A+1)),et=()=>{let at;return w?at=Q:j?at=$:E.route.Component?at=B.createElement(E.route.Component,null):E.route.element?at=E.route.element:at=y,B.createElement(ub,{match:E,routeContext:{outlet:y,matches:H,isDataRoute:i!=null},children:at})};return i&&(E.route.ErrorBoundary||E.route.errorElement||A===0)?B.createElement(ob,{location:i.location,revalidation:i.revalidation,component:Q,error:w,children:et(),routeContext:{outlet:null,matches:H,isDataRoute:!0},unstable_onError:s}):et()},null)}function Xd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hb(r){let e=B.useContext(ks);return le(e,Xd(r)),e}function fb(r){let e=B.useContext(zc);return le(e,Xd(r)),e}function db(r){let e=B.useContext(wi);return le(e,Xd(r)),e}function $d(r){let e=db(r),i=e.matches[e.matches.length-1];return le(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function mb(){return $d("useRouteId")}function gb(){var s;let r=B.useContext(Kd),e=fb("useRouteError"),i=$d("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[i]}function pb(){let{router:r}=hb("useNavigate"),e=$d("useNavigate"),i=B.useRef(!1);return Bv(()=>{i.current=!0}),B.useCallback(async(o,c={})=>{Yn(i.current,Pv),i.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var y_={};function Fv(r,e,i){!e&&!y_[r]&&(y_[r]=!0,Yn(!1,i))}B.memo(yb);function yb({routes:r,future:e,state:i,unstable_onError:s}){return Hv(r,void 0,i,s,e)}function Va(r){le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _b({basename:r="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){le(!Ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),g=B.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof i=="string"&&(i=Ir(i));let{pathname:p="/",search:y="",hash:E="",state:A=null,key:w="default"}=i,j=B.useMemo(()=>{let Q=Yi(p,d);return Q==null?null:{location:{pathname:Q,search:y,hash:E,state:A,key:w},navigationType:s}},[d,p,y,E,A,w,s]);return Yn(j!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:B.createElement(Si.Provider,{value:g},B.createElement(bo.Provider,{children:e,value:j}))}function vb({children:r,location:e}){return rb(bd(r),e)}function bd(r,e=[]){let i=[];return B.Children.forEach(r,(s,o)=>{if(!B.isValidElement(s))return;let c=[...e,o];if(s.type===B.Fragment){i.push.apply(i,bd(s.props.children,c));return}le(s.type===Va,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),le(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=bd(s.props.children,c)),i.push(d)}),i}var dc="get",mc="application/x-www-form-urlencoded";function kc(r){return r!=null&&typeof r.tagName=="string"}function Eb(r){return kc(r)&&r.tagName.toLowerCase()==="button"}function Tb(r){return kc(r)&&r.tagName.toLowerCase()==="form"}function bb(r){return kc(r)&&r.tagName.toLowerCase()==="input"}function Ab(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Sb(r,e){return r.button===0&&(!e||e==="_self")&&!Ab(r)}var lc=null;function wb(){if(lc===null)try{new FormData(document.createElement("form"),0),lc=!1}catch{lc=!0}return lc}var xb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hd(r){return r!=null&&!xb.has(r)?(Yn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mc}"`),null):r}function Rb(r,e){let i,s,o,c,d;if(Tb(r)){let g=r.getAttribute("action");s=g?Yi(g,e):null,i=r.getAttribute("method")||dc,o=hd(r.getAttribute("enctype"))||mc,c=new FormData(r)}else if(Eb(r)||bb(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||g.getAttribute("action");if(s=p?Yi(p,e):null,i=r.getAttribute("formmethod")||g.getAttribute("method")||dc,o=hd(r.getAttribute("formenctype"))||hd(g.getAttribute("enctype"))||mc,c=new FormData(g,r),!wb()){let{name:y,type:E,value:A}=r;if(E==="image"){let w=y?`${y}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else y&&c.append(y,A)}}else{if(kc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=dc,s=null,o=mc,d=r}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zd(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Cb(r,e,i){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${i}`:e&&Yi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function Nb(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Db(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Ib(r,e,i){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await Nb(c,i);return d.links?d.links():[]}return[]}));return jb(s.flat(1).filter(Db).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function __(r,e,i,s,o,c){let d=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,g=(p,y)=>{var E;return i[y].pathname!==p.pathname||((E=i[y].route.path)==null?void 0:E.endsWith("*"))&&i[y].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,y)=>d(p,y)||g(p,y)):c==="data"?e.filter((p,y)=>{var A;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(d(p,y)||g(p,y))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=i[0])==null?void 0:A.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Vb(r,e,{includeHydrateFallback:i}={}){return Ob(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function Ob(r){return[...new Set(r)]}function Mb(r){let e={},i=Object.keys(r).sort();for(let s of i)e[s]=r[s];return e}function jb(r,e){let i=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(Mb(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function Gv(){let r=B.useContext(ks);return Zd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Ub(){let r=B.useContext(zc);return Zd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Jd=B.createContext(void 0);Jd.displayName="FrameworkContext";function Qv(){let r=B.useContext(Jd);return Zd(r,"You must render this element inside a <HydratedRouter> element"),r}function Lb(r,e){let i=B.useContext(Jd),[s,o]=B.useState(!1),[c,d]=B.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:A}=e,w=B.useRef(null);B.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let $=et=>{et.forEach(at=>{d(at.isIntersecting)})},H=new IntersectionObserver($,{threshold:.5});return w.current&&H.observe(w.current),()=>{H.disconnect()}}},[r]),B.useEffect(()=>{if(s){let $=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout($)}}},[s]);let j=()=>{o(!0)},Q=()=>{o(!1),d(!1)};return i?r!=="intent"?[c,w,{}]:[c,w,{onFocus:Wl(g,j),onBlur:Wl(p,Q),onMouseEnter:Wl(y,j),onMouseLeave:Wl(E,Q),onTouchStart:Wl(A,j)}]:[!1,w,{}]}function Wl(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function zb({page:r,...e}){let{router:i}=Gv(),s=B.useMemo(()=>Ov(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?B.createElement(Pb,{page:r,matches:s,...e}):null}function kb(r){let{manifest:e,routeModules:i}=Qv(),[s,o]=B.useState([]);return B.useEffect(()=>{let c=!1;return Ib(r,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[r,e,i]),s}function Pb({page:r,matches:e,...i}){let s=Qa(),{manifest:o,routeModules:c}=Qv(),{basename:d}=Gv(),{loaderData:g,matches:p}=Ub(),y=B.useMemo(()=>__(r,e,p,o,s,"data"),[r,e,p,o,s]),E=B.useMemo(()=>__(r,e,p,o,s,"assets"),[r,e,p,o,s]),A=B.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Q=new Set,$=!1;if(e.forEach(et=>{var nt;let at=o.routes[et.route.id];!at||!at.hasLoader||(!y.some(ft=>ft.route.id===et.route.id)&&et.route.id in g&&((nt=c[et.route.id])!=null&&nt.shouldRevalidate)||at.hasClientLoader?$=!0:Q.add(et.route.id))}),Q.size===0)return[];let H=Cb(r,d,"data");return $&&Q.size>0&&H.searchParams.set("_routes",e.filter(et=>Q.has(et.route.id)).map(et=>et.route.id).join(",")),[H.pathname+H.search]},[d,g,s,o,y,e,r,c]),w=B.useMemo(()=>Vb(E,o),[E,o]),j=kb(E);return B.createElement(B.Fragment,null,A.map(Q=>B.createElement("link",{key:Q,rel:"prefetch",as:"fetch",href:Q,...i})),w.map(Q=>B.createElement("link",{key:Q,rel:"modulepreload",href:Q,...i})),j.map(({key:Q,link:$})=>B.createElement("link",{key:Q,nonce:i.nonce,...$})))}function Bb(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var Yv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Yv&&(window.__reactRouterVersion="7.9.4")}catch{}function qb({basename:r,children:e,window:i}){let s=B.useRef();s.current==null&&(s.current=N1({window:i,v5Compat:!0}));let o=s.current,[c,d]=B.useState({action:o.action,location:o.location}),g=B.useCallback(p=>{B.startTransition(()=>d(p))},[d]);return B.useLayoutEffect(()=>o.listen(g),[o,g]),B.createElement(_b,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:o})}var Kv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ka=B.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:g,target:p,to:y,preventScrollReset:E,viewTransition:A,...w},j){let{basename:Q}=B.useContext(Si),$=typeof y=="string"&&Kv.test(y),H,et=!1;if(typeof y=="string"&&$&&(H=y,Yv))try{let R=new URL(window.location.href),M=y.startsWith("//")?new URL(R.protocol+y):new URL(y),I=Yi(M.pathname,Q);M.origin===R.origin&&I!=null?y=I+M.search+M.hash:et=!0}catch{Yn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let at=nb(y,{relative:o}),[nt,ft,yt]=Lb(s,w),vt=Gb(y,{replace:d,state:g,target:p,preventScrollReset:E,relative:o,viewTransition:A});function C(R){e&&e(R),R.defaultPrevented||vt(R)}let x=B.createElement("a",{...w,...yt,href:H||at,onClick:et||c?e:C,ref:Bb(j,ft),target:p,"data-discover":!$&&i==="render"?"true":void 0});return nt&&!$?B.createElement(B.Fragment,null,x,B.createElement(zb,{page:at})):x});ka.displayName="Link";var Oa=B.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:g,children:p,...y},E){let A=So(d,{relative:y.relative}),w=Qa(),j=B.useContext(zc),{navigator:Q,basename:$}=B.useContext(Si),H=j!=null&&$b(A)&&g===!0,et=Q.encodeLocation?Q.encodeLocation(A).pathname:A.pathname,at=w.pathname,nt=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;i||(at=at.toLowerCase(),nt=nt?nt.toLowerCase():null,et=et.toLowerCase()),nt&&$&&(nt=Yi(nt,$)||nt);const ft=et!=="/"&&et.endsWith("/")?et.length-1:et.length;let yt=at===et||!o&&at.startsWith(et)&&at.charAt(ft)==="/",vt=nt!=null&&(nt===et||!o&&nt.startsWith(et)&&nt.charAt(et.length)==="/"),C={isActive:yt,isPending:vt,isTransitioning:H},x=yt?e:void 0,R;typeof s=="function"?R=s(C):R=[s,yt?"active":null,vt?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let M=typeof c=="function"?c(C):c;return B.createElement(ka,{...y,"aria-current":x,className:R,ref:E,style:M,to:d,viewTransition:g},typeof p=="function"?p(C):p)});Oa.displayName="NavLink";var Hb=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:d=dc,action:g,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:A,...w},j)=>{let Q=Kb(),$=Xb(g,{relative:y}),H=d.toLowerCase()==="get"?"get":"post",et=typeof g=="string"&&Kv.test(g),at=nt=>{if(p&&p(nt),nt.defaultPrevented)return;nt.preventDefault();let ft=nt.nativeEvent.submitter,yt=(ft==null?void 0:ft.getAttribute("formmethod"))||d;Q(ft||nt.currentTarget,{fetcherKey:e,method:yt,navigate:i,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:A})};return B.createElement("form",{ref:j,method:H,action:$,onSubmit:s?p:at,...w,"data-discover":!et&&r==="render"?"true":void 0})});Hb.displayName="Form";function Fb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xv(r){let e=B.useContext(ks);return le(e,Fb(r)),e}function Gb(r,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let g=qv(),p=Qa(),y=So(r,{relative:c});return B.useCallback(E=>{if(Sb(E,e)){E.preventDefault();let A=i!==void 0?i:co(p)===co(y);g(r,{replace:A,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[p,g,y,i,s,e,r,o,c,d])}var Qb=0,Yb=()=>`__${String(++Qb)}__`;function Kb(){let{router:r}=Xv("useSubmit"),{basename:e}=B.useContext(Si),i=mb();return B.useCallback(async(s,o={})=>{let{action:c,method:d,encType:g,formData:p,body:y}=Rb(s,e);if(o.navigate===!1){let E=o.fetcherKey||Yb();await r.fetch(E,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||g,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,i])}function Xb(r,{relative:e}={}){let{basename:i}=B.useContext(Si),s=B.useContext(wi);le(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...So(r||".",{relative:e})},d=Qa();if(r==null){c.search=d.search;let g=new URLSearchParams(c.search),p=g.getAll("index");if(p.some(E=>E==="")){g.delete("index"),p.filter(A=>A).forEach(A=>g.append("index",A));let E=g.toString();c.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Gi([i,c.pathname])),co(c)}function $b(r,{relative:e}={}){let i=B.useContext(kv);le(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Xv("useViewTransitionState"),o=So(r,{relative:e});if(!i.isTransitioning)return!1;let c=Yi(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=Yi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Tc(o.pathname,d)!=null||Tc(o.pathname,c)!=null}const $v=B.createContext(void 0),Zb=({children:r})=>{const[e,i]=B.useState(()=>{try{const p=localStorage.getItem("cartItems");return p?JSON.parse(p):[]}catch(p){return console.error("Could not parse cart items from localStorage",p),[]}});B.useEffect(()=>{localStorage.setItem("cartItems",JSON.stringify(e))},[e]);const s=p=>{i(y=>y.find(A=>A.id===p.id)?y.map(A=>A.id===p.id?{...A,quantity:A.quantity+1}:A):[...y,{...p,quantity:1}])},o=p=>{i(y=>y.filter(E=>E.id!==p))},c=(p,y)=>{y<=0?o(p):i(E=>E.map(A=>A.id===p?{...A,quantity:y}:A))},d=()=>{i([])},g=e.reduce((p,y)=>p+y.quantity,0);return b.jsx($v.Provider,{value:{cartItems:e,addToCart:s,removeFromCart:o,updateQuantity:c,clearCart:d,itemCount:g},children:r})},Pc=()=>{const r=B.useContext($v);if(r===void 0)throw new Error("useCart must be used within a CartProvider");return r},Jb=()=>{const{itemCount:r}=Pc(),[e,i]=B.useState(!1),s={color:"#ec4899",fontWeight:"600"},o="block py-2 text-gray-700 hover:text-pink-500 transition-colors";return b.jsxs("header",{className:"bg-white/80 backdrop-blur-md shadow-md sticky top-0 z-50",children:[b.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center",children:[b.jsxs(ka,{to:"/",className:"flex items-center space-x-2",children:[b.jsx("div",{className:"w-12 h-12 rounded-full bg-pink-400 flex items-center justify-center text-white font-bold text-xs p-1 text-center font-serif",children:"JbK"}),b.jsx("span",{className:"text-xl font-serif font-bold text-pink-500",children:"Jewels by Khadijah"})]}),b.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[b.jsx(Oa,{to:"/",className:"text-gray-600 hover:text-pink-500 transition-colors font-medium",style:({isActive:c})=>c?s:void 0,children:"Shop"}),b.jsx(Oa,{to:"/track-order",className:"text-gray-600 hover:text-pink-500 transition-colors font-medium",style:({isActive:c})=>c?s:void 0,children:"Track Order"}),b.jsx(Oa,{to:"/admin",className:"text-gray-600 hover:text-pink-500 transition-colors font-medium",style:({isActive:c})=>c?s:void 0,children:"Admin"}),b.jsxs(Oa,{to:"/cart",className:"relative text-gray-600 hover:text-pink-500 transition-colors",style:({isActive:c})=>c?s:void 0,children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),r>0&&b.jsx("span",{className:"absolute -top-2 -right-3 bg-pink-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:r})]})]}),b.jsxs("div",{className:"md:hidden flex items-center",children:[b.jsxs(ka,{to:"/cart",className:"relative text-gray-600 hover:text-pink-500 transition-colors mr-4",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),r>0&&b.jsx("span",{className:"absolute -top-2 -right-3 bg-pink-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:r})]}),b.jsx("button",{onClick:()=>i(!e),className:"outline-none mobile-menu-button",children:b.jsx("svg",{className:"w-6 h-6 text-gray-600 hover:text-pink-500","x-show":"!showMenu",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{d:e?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),b.jsx("div",{className:`${e?"block":"hidden"} md:hidden bg-white`,children:b.jsxs("div",{className:"px-4 pt-2 pb-3 space-y-1 sm:px-3 border-t",children:[b.jsx(Oa,{to:"/",onClick:()=>i(!1),className:o,style:({isActive:c})=>c?s:void 0,children:"Shop"}),b.jsx(Oa,{to:"/track-order",onClick:()=>i(!1),className:o,style:({isActive:c})=>c?s:void 0,children:"Track Order"}),b.jsx(Oa,{to:"/admin",onClick:()=>i(!1),className:o,style:({isActive:c})=>c?s:void 0,children:"Admin"})]})})]})},Wb=()=>b.jsx("footer",{className:"bg-white mt-12 py-8 border-t",children:b.jsxs("div",{className:"container mx-auto px-4 text-center text-gray-500",children:[b.jsx("h3",{className:"font-serif text-2xl text-pink-500 mb-4",children:"Jewels by Khadijah"}),b.jsx("p",{className:"text-sm",children:"Unique. As you... "}),b.jsxs("div",{className:"flex justify-center space-x-6 my-4",children:[b.jsx("a",{href:"#",className:"text-gray-500 hover:text-pink-500 transition-colors",children:"Instagram"}),b.jsx("a",{href:"#",className:"text-gray-500 hover:text-pink-500 transition-colors",children:"Facebook"}),b.jsx("a",{href:"#",className:"text-gray-500 hover:text-pink-500 transition-colors",children:"Pinterest"})]}),b.jsxs("p",{className:"text-xs",children:[" ",new Date().getFullYear()," Jewels by Khadijah. All Rights Reserved."]})]})}),tA=()=>{};var v_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},eA=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Jv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=c>>2,A=(c&3)<<4|g>>4;let w=(g&15)<<2|y>>6,j=y&63;p||(j=64,d||(w=64)),s.push(i[E],i[A],i[w],i[j])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Zv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):eA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const A=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||y==null||A==null)throw new nA;const w=c<<2|g>>4;if(s.push(w),y!==64){const j=g<<4&240|y>>2;if(s.push(j),A!==64){const Q=y<<6&192|A;s.push(Q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class nA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iA=function(r){const e=Zv(r);return Jv.encodeByteArray(e,!0)},bc=function(r){return iA(r).replace(/\./g,"")},aA=function(r){try{return Jv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=()=>rA().__FIREBASE_DEFAULTS__,lA=()=>{if(typeof process>"u"||typeof v_>"u")return;const r=v_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},oA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&aA(r[1]);return e&&JSON.parse(e)},Wd=()=>{try{return tA()||sA()||lA()||oA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},uA=r=>{var e,i;return(i=(e=Wd())==null?void 0:e.emulatorHosts)==null?void 0:i[r]},cA=r=>{const e=uA(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Wv=()=>{var r;return(r=Wd())==null?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fA(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[bc(JSON.stringify(i)),bc(JSON.stringify(d)),""].join(".")}const ao={};function mA(){const r={prod:[],emulator:[]};for(const e of Object.keys(ao))ao[e]?r.emulator.push(e):r.prod.push(e);return r}function gA(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let E_=!1;function pA(r,e){if(typeof window>"u"||typeof document>"u"||!tm(window.location.host)||ao[r]===e||ao[r]||E_)return;ao[r]=e;function i(w){return`__firebase__banner__${w}`}const s="__firebase__banner",c=mA().prod.length>0;function d(){const w=document.getElementById(s);w&&w.remove()}function g(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,j){w.setAttribute("width","24"),w.setAttribute("id",j),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{E_=!0,d()},w}function E(w,j){w.setAttribute("id",j),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function A(){const w=gA(s),j=i("text"),Q=document.getElementById(j)||document.createElement("span"),$=i("learnmore"),H=document.getElementById($)||document.createElement("a"),et=i("preprendIcon"),at=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const nt=w.element;g(nt),E(H,$);const ft=y();p(at,et),nt.append(at,Q,H,ft),document.body.appendChild(nt)}c?(Q.innerText="Preview backend disconnected.",at.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(at.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _A(){var e;const r=(e=Wd())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vA(){return!_A()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function EA(){try{return typeof indexedDB=="object"}catch{return!1}}function TA(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)==null?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="FirebaseError";class Ps extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=bA,Object.setPrototypeOf(this,Ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,t0.prototype.create)}}class t0{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?AA(c,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ps(o,g,s)}}function AA(r,e){return r.replace(SA,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const SA=/\{\$([^}]+)}/g;function Ac(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=r[o],d=e[o];if(T_(c)&&T_(d)){if(!Ac(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function T_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(r){return r&&r._delegate?r._delegate:r}class ho{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new hA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RA(e))try{this.getOrInitializeService({instanceIdentifier:xr})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xr){return this.instances.has(e)}getOptions(e=xr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:xA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=xr){return this.component?this.component.multipleInstances?e:xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xA(r){return r===xr?void 0:r}function RA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new wA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const NA={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},DA=kt.INFO,IA={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},VA=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=IA[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class e0{constructor(e){this.name=e,this._logLevel=DA,this._logHandler=VA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...e),this._logHandler(this,kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...e),this._logHandler(this,kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...e),this._logHandler(this,kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...e),this._logHandler(this,kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...e),this._logHandler(this,kt.ERROR,...e)}}const OA=(r,e)=>e.some(i=>r instanceof i);let b_,A_;function MA(){return b_||(b_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jA(){return A_||(A_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const n0=new WeakMap,Ad=new WeakMap,i0=new WeakMap,fd=new WeakMap,em=new WeakMap;function UA(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(ja(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&n0.set(i,r)}).catch(()=>{}),em.set(e,r),e}function LA(r){if(Ad.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Ad.set(r,e)}let Sd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Ad.get(r);if(e==="objectStoreNames")return r.objectStoreNames||i0.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ja(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function zA(r){Sd=r(Sd)}function kA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(dd(this),e,...i);return i0.set(s,e.sort?e.sort():[e]),ja(s)}:jA().includes(r)?function(...e){return r.apply(dd(this),e),ja(n0.get(this))}:function(...e){return ja(r.apply(dd(this),e))}}function PA(r){return typeof r=="function"?kA(r):(r instanceof IDBTransaction&&LA(r),OA(r,MA())?new Proxy(r,Sd):r)}function ja(r){if(r instanceof IDBRequest)return UA(r);if(fd.has(r))return fd.get(r);const e=PA(r);return e!==r&&(fd.set(r,e),em.set(e,r)),e}const dd=r=>em.get(r);function BA(r,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),g=ja(d);return s&&d.addEventListener("upgradeneeded",p=>{s(ja(d.result),p.oldVersion,p.newVersion,ja(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const qA=["get","getKey","getAll","getAllKeys","count"],HA=["put","add","delete","clear"],md=new Map;function S_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(md.get(e))return md.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=HA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||qA.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&p.done]))[0]};return md.set(e,c),c}zA(r=>({...r,get:(e,i,s)=>S_(e,i)||r.get(e,i,s),has:(e,i)=>!!S_(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(GA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function GA(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wd="@firebase/app",w_="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new e0("@firebase/app"),QA="@firebase/app-compat",YA="@firebase/analytics-compat",KA="@firebase/analytics",XA="@firebase/app-check-compat",$A="@firebase/app-check",ZA="@firebase/auth",JA="@firebase/auth-compat",WA="@firebase/database",tS="@firebase/data-connect",eS="@firebase/database-compat",nS="@firebase/functions",iS="@firebase/functions-compat",aS="@firebase/installations",rS="@firebase/installations-compat",sS="@firebase/messaging",lS="@firebase/messaging-compat",oS="@firebase/performance",uS="@firebase/performance-compat",cS="@firebase/remote-config",hS="@firebase/remote-config-compat",fS="@firebase/storage",dS="@firebase/storage-compat",mS="@firebase/firestore",gS="@firebase/ai",pS="@firebase/firestore-compat",yS="firebase",_S="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="[DEFAULT]",vS={[wd]:"fire-core",[QA]:"fire-core-compat",[KA]:"fire-analytics",[YA]:"fire-analytics-compat",[$A]:"fire-app-check",[XA]:"fire-app-check-compat",[ZA]:"fire-auth",[JA]:"fire-auth-compat",[WA]:"fire-rtdb",[tS]:"fire-data-connect",[eS]:"fire-rtdb-compat",[nS]:"fire-fn",[iS]:"fire-fn-compat",[aS]:"fire-iid",[rS]:"fire-iid-compat",[sS]:"fire-fcm",[lS]:"fire-fcm-compat",[oS]:"fire-perf",[uS]:"fire-perf-compat",[cS]:"fire-rc",[hS]:"fire-rc-compat",[fS]:"fire-gcs",[dS]:"fire-gcs-compat",[mS]:"fire-fst",[pS]:"fire-fst-compat",[gS]:"fire-vertex","fire-js":"fire-js",[yS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=new Map,ES=new Map,Rd=new Map;function x_(r,e){try{r.container.addComponent(e)}catch(i){Xi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function wc(r){const e=r.name;if(Rd.has(e))return Xi.debug(`There were multiple attempts to register component ${e}.`),!1;Rd.set(e,r);for(const i of Sc.values())x_(i,r);for(const i of ES.values())x_(i,r);return!0}function TS(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function bS(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ua=new t0("app","Firebase",AS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ua.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=_S;function a0(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:xd,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ua.create("bad-app-name",{appName:String(o)});if(i||(i=Wv()),!i)throw Ua.create("no-options");const c=Sc.get(o);if(c){if(Ac(i,c.options)&&Ac(s,c.config))return c;throw Ua.create("duplicate-app",{appName:o})}const d=new CA(o);for(const p of Rd.values())d.addComponent(p);const g=new SS(i,s,d);return Sc.set(o,g),g}function xS(r=xd){const e=Sc.get(r);if(!e&&r===xd&&Wv())return a0();if(!e)throw Ua.create("no-app",{appName:r});return e}function Ns(r,e,i){let s=vS[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xi.warn(d.join(" "));return}wc(new ho(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="firebase-heartbeat-database",CS=1,fo="firebase-heartbeat-store";let gd=null;function r0(){return gd||(gd=BA(RS,CS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(fo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ua.create("idb-open",{originalErrorMessage:r.message})})),gd}async function NS(r){try{const i=(await r0()).transaction(fo),s=await i.objectStore(fo).get(s0(r));return await i.done,s}catch(e){if(e instanceof Ps)Xi.warn(e.message);else{const i=Ua.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xi.warn(i.message)}}}async function R_(r,e){try{const s=(await r0()).transaction(fo,"readwrite");await s.objectStore(fo).put(e,s0(r)),await s.done}catch(i){if(i instanceof Ps)Xi.warn(i.message);else{const s=Ua.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Xi.warn(s.message)}}}function s0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=1024,IS=30;class VS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new MS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=C_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>IS){const d=jS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Xi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=C_(),{heartbeatsToSend:s,unsentEntries:o}=OS(this._heartbeatsCache.heartbeats),c=bc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Xi.warn(i),""}}}function C_(){return new Date().toISOString().substring(0,10)}function OS(r,e=DS){const i=[];let s=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),N_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),N_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class MS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EA()?TA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await NS(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return R_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return R_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function N_(r){return bc(JSON.stringify({version:2,heartbeats:r})).length}function jS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(r){wc(new ho("platform-logger",e=>new FA(e),"PRIVATE")),wc(new ho("heartbeat",e=>new VS(e),"PRIVATE")),Ns(wd,w_,r),Ns(wd,w_,"esm2020"),Ns("fire-js","")}US("");var D_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var La,l0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,x){function R(){}R.prototype=x.prototype,C.F=x.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(M,I,L){for(var N=Array(arguments.length-2),Jt=2;Jt<arguments.length;Jt++)N[Jt-2]=arguments[Jt];return x.prototype[I].apply(M,N)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,x,R){R||(R=0);const M=Array(16);if(typeof x=="string")for(var I=0;I<16;++I)M[I]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(I=0;I<16;++I)M[I]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=C.g[0],R=C.g[1],I=C.g[2];let L=C.g[3],N;N=x+(L^R&(I^L))+M[0]+3614090360&4294967295,x=R+(N<<7&4294967295|N>>>25),N=L+(I^x&(R^I))+M[1]+3905402710&4294967295,L=x+(N<<12&4294967295|N>>>20),N=I+(R^L&(x^R))+M[2]+606105819&4294967295,I=L+(N<<17&4294967295|N>>>15),N=R+(x^I&(L^x))+M[3]+3250441966&4294967295,R=I+(N<<22&4294967295|N>>>10),N=x+(L^R&(I^L))+M[4]+4118548399&4294967295,x=R+(N<<7&4294967295|N>>>25),N=L+(I^x&(R^I))+M[5]+1200080426&4294967295,L=x+(N<<12&4294967295|N>>>20),N=I+(R^L&(x^R))+M[6]+2821735955&4294967295,I=L+(N<<17&4294967295|N>>>15),N=R+(x^I&(L^x))+M[7]+4249261313&4294967295,R=I+(N<<22&4294967295|N>>>10),N=x+(L^R&(I^L))+M[8]+1770035416&4294967295,x=R+(N<<7&4294967295|N>>>25),N=L+(I^x&(R^I))+M[9]+2336552879&4294967295,L=x+(N<<12&4294967295|N>>>20),N=I+(R^L&(x^R))+M[10]+4294925233&4294967295,I=L+(N<<17&4294967295|N>>>15),N=R+(x^I&(L^x))+M[11]+2304563134&4294967295,R=I+(N<<22&4294967295|N>>>10),N=x+(L^R&(I^L))+M[12]+1804603682&4294967295,x=R+(N<<7&4294967295|N>>>25),N=L+(I^x&(R^I))+M[13]+4254626195&4294967295,L=x+(N<<12&4294967295|N>>>20),N=I+(R^L&(x^R))+M[14]+2792965006&4294967295,I=L+(N<<17&4294967295|N>>>15),N=R+(x^I&(L^x))+M[15]+1236535329&4294967295,R=I+(N<<22&4294967295|N>>>10),N=x+(I^L&(R^I))+M[1]+4129170786&4294967295,x=R+(N<<5&4294967295|N>>>27),N=L+(R^I&(x^R))+M[6]+3225465664&4294967295,L=x+(N<<9&4294967295|N>>>23),N=I+(x^R&(L^x))+M[11]+643717713&4294967295,I=L+(N<<14&4294967295|N>>>18),N=R+(L^x&(I^L))+M[0]+3921069994&4294967295,R=I+(N<<20&4294967295|N>>>12),N=x+(I^L&(R^I))+M[5]+3593408605&4294967295,x=R+(N<<5&4294967295|N>>>27),N=L+(R^I&(x^R))+M[10]+38016083&4294967295,L=x+(N<<9&4294967295|N>>>23),N=I+(x^R&(L^x))+M[15]+3634488961&4294967295,I=L+(N<<14&4294967295|N>>>18),N=R+(L^x&(I^L))+M[4]+3889429448&4294967295,R=I+(N<<20&4294967295|N>>>12),N=x+(I^L&(R^I))+M[9]+568446438&4294967295,x=R+(N<<5&4294967295|N>>>27),N=L+(R^I&(x^R))+M[14]+3275163606&4294967295,L=x+(N<<9&4294967295|N>>>23),N=I+(x^R&(L^x))+M[3]+4107603335&4294967295,I=L+(N<<14&4294967295|N>>>18),N=R+(L^x&(I^L))+M[8]+1163531501&4294967295,R=I+(N<<20&4294967295|N>>>12),N=x+(I^L&(R^I))+M[13]+2850285829&4294967295,x=R+(N<<5&4294967295|N>>>27),N=L+(R^I&(x^R))+M[2]+4243563512&4294967295,L=x+(N<<9&4294967295|N>>>23),N=I+(x^R&(L^x))+M[7]+1735328473&4294967295,I=L+(N<<14&4294967295|N>>>18),N=R+(L^x&(I^L))+M[12]+2368359562&4294967295,R=I+(N<<20&4294967295|N>>>12),N=x+(R^I^L)+M[5]+4294588738&4294967295,x=R+(N<<4&4294967295|N>>>28),N=L+(x^R^I)+M[8]+2272392833&4294967295,L=x+(N<<11&4294967295|N>>>21),N=I+(L^x^R)+M[11]+1839030562&4294967295,I=L+(N<<16&4294967295|N>>>16),N=R+(I^L^x)+M[14]+4259657740&4294967295,R=I+(N<<23&4294967295|N>>>9),N=x+(R^I^L)+M[1]+2763975236&4294967295,x=R+(N<<4&4294967295|N>>>28),N=L+(x^R^I)+M[4]+1272893353&4294967295,L=x+(N<<11&4294967295|N>>>21),N=I+(L^x^R)+M[7]+4139469664&4294967295,I=L+(N<<16&4294967295|N>>>16),N=R+(I^L^x)+M[10]+3200236656&4294967295,R=I+(N<<23&4294967295|N>>>9),N=x+(R^I^L)+M[13]+681279174&4294967295,x=R+(N<<4&4294967295|N>>>28),N=L+(x^R^I)+M[0]+3936430074&4294967295,L=x+(N<<11&4294967295|N>>>21),N=I+(L^x^R)+M[3]+3572445317&4294967295,I=L+(N<<16&4294967295|N>>>16),N=R+(I^L^x)+M[6]+76029189&4294967295,R=I+(N<<23&4294967295|N>>>9),N=x+(R^I^L)+M[9]+3654602809&4294967295,x=R+(N<<4&4294967295|N>>>28),N=L+(x^R^I)+M[12]+3873151461&4294967295,L=x+(N<<11&4294967295|N>>>21),N=I+(L^x^R)+M[15]+530742520&4294967295,I=L+(N<<16&4294967295|N>>>16),N=R+(I^L^x)+M[2]+3299628645&4294967295,R=I+(N<<23&4294967295|N>>>9),N=x+(I^(R|~L))+M[0]+4096336452&4294967295,x=R+(N<<6&4294967295|N>>>26),N=L+(R^(x|~I))+M[7]+1126891415&4294967295,L=x+(N<<10&4294967295|N>>>22),N=I+(x^(L|~R))+M[14]+2878612391&4294967295,I=L+(N<<15&4294967295|N>>>17),N=R+(L^(I|~x))+M[5]+4237533241&4294967295,R=I+(N<<21&4294967295|N>>>11),N=x+(I^(R|~L))+M[12]+1700485571&4294967295,x=R+(N<<6&4294967295|N>>>26),N=L+(R^(x|~I))+M[3]+2399980690&4294967295,L=x+(N<<10&4294967295|N>>>22),N=I+(x^(L|~R))+M[10]+4293915773&4294967295,I=L+(N<<15&4294967295|N>>>17),N=R+(L^(I|~x))+M[1]+2240044497&4294967295,R=I+(N<<21&4294967295|N>>>11),N=x+(I^(R|~L))+M[8]+1873313359&4294967295,x=R+(N<<6&4294967295|N>>>26),N=L+(R^(x|~I))+M[15]+4264355552&4294967295,L=x+(N<<10&4294967295|N>>>22),N=I+(x^(L|~R))+M[6]+2734768916&4294967295,I=L+(N<<15&4294967295|N>>>17),N=R+(L^(I|~x))+M[13]+1309151649&4294967295,R=I+(N<<21&4294967295|N>>>11),N=x+(I^(R|~L))+M[4]+4149444226&4294967295,x=R+(N<<6&4294967295|N>>>26),N=L+(R^(x|~I))+M[11]+3174756917&4294967295,L=x+(N<<10&4294967295|N>>>22),N=I+(x^(L|~R))+M[2]+718787259&4294967295,I=L+(N<<15&4294967295|N>>>17),N=R+(L^(I|~x))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(I+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+I&4294967295,C.g[3]=C.g[3]+L&4294967295}s.prototype.v=function(C,x){x===void 0&&(x=C.length);const R=x-this.blockSize,M=this.C;let I=this.h,L=0;for(;L<x;){if(I==0)for(;L<=R;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<x;)if(M[I++]=C.charCodeAt(L++),I==this.blockSize){o(this,M),I=0;break}}else for(;L<x;)if(M[I++]=C[L++],I==this.blockSize){o(this,M),I=0;break}}this.h=I,this.o+=x},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;x=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=x&255,x/=256;for(this.v(C),C=Array(16),x=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)C[x++]=this.g[R]>>>M&255;return C};function c(C,x){var R=g;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=x(C)}function d(C,x){this.h=x;const R=[];let M=!0;for(let I=C.length-1;I>=0;I--){const L=C[I]|0;M&&L==x||(R[I]=L,M=!1)}this.g=R}var g={};function p(C){return-128<=C&&C<128?c(C,function(x){return new d([x|0],x<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return H(y(-C));const x=[];let R=1;for(let M=0;C>=R;M++)x[M]=C/R|0,R*=4294967296;return new d(x,0)}function E(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return H(E(C.substring(1),x));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(x,8));let M=A;for(let L=0;L<C.length;L+=8){var I=Math.min(8,C.length-L);const N=parseInt(C.substring(L,L+I),x);I<8?(I=y(Math.pow(x,I)),M=M.j(I).add(y(N))):(M=M.j(R),M=M.add(y(N)))}return M}var A=p(0),w=p(1),j=p(16777216);r=d.prototype,r.m=function(){if($(this))return-H(this).m();let C=0,x=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);C+=(M>=0?M:4294967296+M)*x,x*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Q(this))return"0";if($(this))return"-"+H(this).toString(C);const x=y(Math.pow(C,6));var R=this;let M="";for(;;){const I=ft(R,x).g;R=et(R,I.j(x));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=I,Q(R))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Q(C){if(C.h!=0)return!1;for(let x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function $(C){return C.h==-1}r.l=function(C){return C=et(this,C),$(C)?-1:Q(C)?0:1};function H(C){const x=C.g.length,R=[];for(let M=0;M<x;M++)R[M]=~C.g[M];return new d(R,~C.h).add(w)}r.abs=function(){return $(this)?H(this):this},r.add=function(C){const x=Math.max(this.g.length,C.g.length),R=[];let M=0;for(let I=0;I<=x;I++){let L=M+(this.i(I)&65535)+(C.i(I)&65535),N=(L>>>16)+(this.i(I)>>>16)+(C.i(I)>>>16);M=N>>>16,L&=65535,N&=65535,R[I]=N<<16|L}return new d(R,R[R.length-1]&-2147483648?-1:0)};function et(C,x){return C.add(H(x))}r.j=function(C){if(Q(this)||Q(C))return A;if($(this))return $(C)?H(this).j(H(C)):H(H(this).j(C));if($(C))return H(this.j(H(C)));if(this.l(j)<0&&C.l(j)<0)return y(this.m()*C.m());const x=this.g.length+C.g.length,R=[];for(var M=0;M<2*x;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let I=0;I<C.g.length;I++){const L=this.i(M)>>>16,N=this.i(M)&65535,Jt=C.i(I)>>>16,he=C.i(I)&65535;R[2*M+2*I]+=N*he,at(R,2*M+2*I),R[2*M+2*I+1]+=L*he,at(R,2*M+2*I+1),R[2*M+2*I+1]+=N*Jt,at(R,2*M+2*I+1),R[2*M+2*I+2]+=L*Jt,at(R,2*M+2*I+2)}for(C=0;C<x;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=x;C<2*x;C++)R[C]=0;return new d(R,0)};function at(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function nt(C,x){this.g=C,this.h=x}function ft(C,x){if(Q(x))throw Error("division by zero");if(Q(C))return new nt(A,A);if($(C))return x=ft(H(C),x),new nt(H(x.g),H(x.h));if($(x))return x=ft(C,H(x)),new nt(H(x.g),x.h);if(C.g.length>30){if($(C)||$(x))throw Error("slowDivide_ only works with positive integers.");for(var R=w,M=x;M.l(C)<=0;)R=yt(R),M=yt(M);var I=vt(R,1),L=vt(M,1);for(M=vt(M,2),R=vt(R,2);!Q(M);){var N=L.add(M);N.l(C)<=0&&(I=I.add(R),L=N),M=vt(M,1),R=vt(R,1)}return x=et(C,I.j(x)),new nt(I,x)}for(I=A;C.l(x)>=0;){for(R=Math.max(1,Math.floor(C.m()/x.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=y(R),N=L.j(x);$(N)||N.l(C)>0;)R-=M,L=y(R),N=L.j(x);Q(L)&&(L=w),I=I.add(L),C=et(C,N)}return new nt(I,C)}r.B=function(C){return ft(this,C).h},r.and=function(C){const x=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<x;M++)R[M]=this.i(M)&C.i(M);return new d(R,this.h&C.h)},r.or=function(C){const x=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<x;M++)R[M]=this.i(M)|C.i(M);return new d(R,this.h|C.h)},r.xor=function(C){const x=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<x;M++)R[M]=this.i(M)^C.i(M);return new d(R,this.h^C.h)};function yt(C){const x=C.g.length+1,R=[];for(let M=0;M<x;M++)R[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(R,C.h)}function vt(C,x){const R=x>>5;x%=32;const M=C.g.length-R,I=[];for(let L=0;L<M;L++)I[L]=x>0?C.i(L+R)>>>x|C.i(L+R+1)<<32-x:C.i(L+R);return new d(I,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,l0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,La=d}).apply(typeof D_<"u"?D_:typeof self<"u"?self:typeof window<"u"?window:{});var oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var o0,to,u0,gc,Cd,c0,h0,f0;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof oc=="object"&&oc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var v=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var z=u[S];if(!(z in v))break t;v=v[z]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function p(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=p,y.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,z,F){for(var rt=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)rt[wt-2]=arguments[wt];return m.prototype[z].apply(S,rt)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function j(u){const m=u.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function Q(u,m){for(let S=1;S<arguments.length;S++){const z=arguments[S];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=u.length||0;const F=z.length||0;u.length=v+F;for(let rt=0;rt<F;rt++)u[v+rt]=z[rt]}else u.push(z)}}class ${constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function H(u){d.setTimeout(()=>{throw u},0)}function et(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class at{constructor(){this.h=this.g=null}add(m,v){const S=nt.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var nt=new $(()=>new ft,u=>u.reset());class ft{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,vt=!1,C=new at,x=()=>{const u=Promise.resolve(void 0);yt=()=>{u.then(R)}};function R(){for(var u;u=et();){try{u.h.call(u.g)}catch(v){H(v)}var m=nt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}vt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function Jt(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(Jt,I),Jt.prototype.init=function(u,m){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Jt.Z.h.call(this)},Jt.prototype.h=function(){Jt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),K=0;function lt(u,m,v,S,z){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=z,this.key=++K,this.da=this.fa=!1}function mt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function it(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function Nt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let v,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(v in S)u[v]=S[v];for(let F=0;F<Y.length;F++)v=Y[F],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function ct(u){this.src=u,this.g={},this.h=0}ct.prototype.add=function(u,m,v,S,z){const F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);const rt=Rt(u,m,S,z);return rt>-1?(m=u[rt],v||(m.fa=!1)):(m=new lt(m,this.src,F,!!S,z),m.fa=v,u.push(m)),m};function Tt(u,m){const v=m.type;if(v in u.g){var S=u.g[v],z=Array.prototype.indexOf.call(S,m,void 0),F;(F=z>=0)&&Array.prototype.splice.call(S,z,1),F&&(mt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Rt(u,m,v,S){for(let z=0;z<u.length;++z){const F=u[z];if(!F.da&&F.listener==m&&F.capture==!!v&&F.ha==S)return z}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),De={};function ae(u,m,v,S,z){if(Array.isArray(m)){for(let F=0;F<m.length;F++)ae(u,m[F],v,S,z);return null}return v=Xs(v),u&&u[he]?u.J(m,v,g(S)?!!S.capture:!1,z):Xa(u,m,v,!1,S,z)}function Xa(u,m,v,S,z,F){if(!m)throw Error("Invalid event type");const rt=g(z)?!!z.capture:!!z;let wt=$a(u);if(wt||(u[Lt]=wt=new ct(u)),v=wt.add(m,v,S,rt,F),v.proxy)return v;if(S=jr(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)L||(z=rt),z===void 0&&(z=!1),u.addEventListener(m.toString(),S,z);else if(u.attachEvent)u.attachEvent(Xn(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function jr(){function u(v){return m.call(u.src,u.listener,v)}const m=Ys;return u}function Ur(u,m,v,S,z){if(Array.isArray(m))for(var F=0;F<m.length;F++)Ur(u,m[F],v,S,z);else S=g(S)?!!S.capture:!!S,v=Xs(v),u&&u[he]?(u=u.i,F=String(m).toString(),F in u.g&&(m=u.g[F],v=Rt(m,v,S,z),v>-1&&(mt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[F],u.h--)))):u&&(u=$a(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Rt(m,v,S,z)),(v=u>-1?m[u]:null)&&Lr(v))}function Lr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[he])Tt(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(Xn(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=$a(m))?(Tt(v,u),v.h==0&&(v.src=null,m[Lt]=null)):mt(u)}}}function Xn(u){return u in De?De[u]:De[u]="on"+u}function Ys(u,m){if(u.da)u=!0;else{m=new Jt(m,this);const v=u.listener,S=u.ha||u.src;u.fa&&Lr(u),u=v.call(S,m)}return u}function $a(u){return u=u[Lt],u instanceof ct?u:null}var Ks="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xs(u){return typeof u=="function"?u:(u[Ks]||(u[Ks]=function(m){return u.handleEvent(m)}),u[Ks])}function ye(){M.call(this),this.i=new ct(this),this.M=this,this.G=null}A(ye,M),ye.prototype[he]=!0,ye.prototype.removeEventListener=function(u,m,v,S){Ur(this,u,m,v,S)};function Ie(u,m){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var z=m;m=new I(S,u),st(m,z)}z=!0;let F,rt;if(v)for(rt=v.length-1;rt>=0;rt--)F=m.g=v[rt],z=Wi(F,S,!0,m)&&z;if(F=m.g=u,z=Wi(F,S,!0,m)&&z,z=Wi(F,S,!1,m)&&z,v)for(rt=0;rt<v.length;rt++)F=m.g=v[rt],z=Wi(F,S,!1,m)&&z}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let S=0;S<v.length;S++)mt(v[S]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},ye.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function Wi(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let z=!0;for(let F=0;F<m.length;++F){const rt=m[F];if(rt&&!rt.da&&rt.capture==v){const wt=rt.listener,de=rt.ha||rt.src;rt.fa&&Tt(u.i,rt),z=wt.call(de,S)!==!1&&z}}return z&&!S.defaultPrevented}function rh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Vo(u){u.g=rh(()=>{u.g=null,u.i&&(u.i=!1,Vo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Vo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Za(u){M.call(this),this.h=u,this.g={}}A(Za,M);var $s=[];function Zs(u){it(u.g,function(m,v){this.g.hasOwnProperty(v)&&Lr(m)},u),u.g={}}Za.prototype.N=function(){Za.Z.N.call(this),Zs(this)},Za.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ta=d.JSON.stringify,sh=d.JSON.parse,Oo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Mo(){}function jo(){}var Mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){I.call(this,"d")}A(ze,I);function En(){I.call(this,"c")}A(En,I);var fe={},Uo=null;function zr(){return Uo=Uo||new ye}fe.Ia="serverreachability";function Lo(u){I.call(this,fe.Ia,u)}A(Lo,I);function $n(u){const m=zr();Ie(m,new Lo(m))}fe.STAT_EVENT="statevent";function Ja(u,m){I.call(this,fe.STAT_EVENT,u),this.stat=m}A(Ja,I);function _e(u){const m=zr();Ie(m,new Ja(m,u))}fe.Ja="timingevent";function Zn(u,m){I.call(this,fe.Ja,u),this.size=m}A(Zn,I);function Jn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function lh(u,m,v,S,z,F){u.info(function(){if(u.g)if(F){var rt="",wt=F.split("&");for(let qt=0;qt<wt.length;qt++){var de=wt[qt].split("=");if(de.length>1){const re=de[0];de=de[1];const Sn=re.split("_");rt=Sn.length>=2&&Sn[1]=="type"?rt+(re+"="+de+"&"):rt+(re+"=redacted&")}}}else rt=null;else rt=F;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+m+`
`+v+`
`+rt})}function zo(u,m,v,S,z,F,rt){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+m+`
`+v+`
`+F+" "+rt})}function Wn(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+oh(u,v)+(S?" "+S:"")})}function Wa(u,m){u.info(function(){return"TIMEOUT: "+m})}jn.prototype.info=function(){};function oh(u,m){if(!u.g)return m;if(!m)return null;try{const F=JSON.parse(m);if(F){for(u=0;u<F.length;u++)if(Array.isArray(F[u])){var v=F[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var z=S[0];if(z!="noop"&&z!="stop"&&z!="close")for(let rt=1;rt<S.length;rt++)S[rt]=""}}}}return ta(F)}catch{return m}}var tr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Js={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ws;function er(){}A(er,Mo),er.prototype.g=function(){return new XMLHttpRequest},Ws=new er;function xi(u){return encodeURIComponent(String(u))}function ko(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Un(u,m,v,S){this.j=u,this.i=m,this.l=v,this.S=S||1,this.V=new Za(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ln}function Ln(){this.i=null,this.g="",this.h=!1}var ve={},Me={};function ti(u,m,v){u.M=1,u.A=nr(Te(m)),u.u=v,u.R=!0,kr(u,null)}function kr(u,m){u.F=Date.now(),ei(u),u.B=Te(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Hr(v.i,"t",S),u.C=0,v=u.j.L,u.h=new Ln,u.g=tu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Ze(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,S=u.ba;var z="readystatechange";Array.isArray(z)||(z&&($s[0]=z.toString()),z=$s);for(let F=0;F<z.length;F++){const rt=ae(v,z[F],S||m.handleEvent,!1,m.h||m);if(!rt)break;m.g[rt.key]=rt}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),$n(),lh(u.i,u.v,u.B,u.l,u.S,u.u)}Un.prototype.ba=function(u){u=u.target;const m=this.O;m&&Pn(u)==3?m.j():this.Y(u)},Un.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Pn(this.g),de=this.g.ya(),qt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||ke(this.g)))){this.K||wt!=4||de==7||(de==8||qt<=0?$n(3):$n(2)),ni(this);var m=this.g.ca();this.X=m;var v=uh(this);if(this.o=m==200,zo(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var S,z=this.g;if((S=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(S)){var F=S;break e}}F=null}if(u=F)Wn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ii(this,u);else{this.o=!1,this.m=3,_e(12),cn(this),Tn(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<v.length;)if(re=Bo(this,v),re==Me){wt==4&&(this.m=4,_e(14),u=!1),Wn(this.i,this.l,null,"[Incomplete Response]");break}else if(re==ve){this.m=4,_e(15),Wn(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Wn(this.i,this.l,re,null),ii(this,re);if(Po(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)Wn(this.i,this.l,v,"[Invalid Chunked Response]"),cn(this),Tn(this);else if(v.length>0&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.aa&&!rt.P&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ml(rt),rt.P=!0,_e(11))}}else Wn(this.i,this.l,v,null),ii(this,v);wt==4&&cn(this),this.o&&!this.K&&(wt==4?$o(this.j,this):(this.o=!1,ei(this)))}else Ci(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),cn(this),Tn(this)}}}catch{}finally{}};function uh(u){if(!Po(u))return u.g.la();const m=ke(u.g);if(m==="")return"";let v="";const S=m.length,z=Pn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cn(u),Tn(u),"";u.h.i=new d.TextDecoder}for(let F=0;F<S;F++)u.h.h=!0,v+=u.h.i.decode(m[F],{stream:!(z&&F==S-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Po(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Bo(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?Me:(v=Number(m.substring(v,S)),isNaN(v)?ve:(S+=1,S+v>m.length?Me:(m=m.slice(S,S+v),u.C=S+v,m)))}Un.prototype.cancel=function(){this.K=!0,cn(this)};function ei(u){u.T=Date.now()+u.H,Pr(u,u.H)}function Pr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Jn(y(u.aa,u),m)}function ni(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Un.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Wa(this.i,this.B),this.M!=2&&($n(),_e(17)),cn(this),this.m=2,Tn(this)):Pr(this,this.T-u)};function Tn(u){u.j.I==0||u.K||$o(u.j,u)}function cn(u){ni(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Zs(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ii(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ri(v.h,u))){if(!u.L&&ri(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Kr(v),oa(v);else break t;ur(v),_e(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Jn(y(v.Va,v),6e3));ai(v.h)<=1&&v.ta&&(v.ta=void 0)}else hi(v,11)}else if((u.L||v.g==u)&&Kr(v),!N(m))for(z=v.Ba.g.parse(m),m=0;m<z.length;m++){let qt=z[m];const re=qt[0];if(!(re<=v.K))if(v.K=re,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const Sn=qt[3];Sn!=null&&(v.ka=Sn,v.j.info("VER="+v.ka));const fi=qt[4];fi!=null&&(v.za=fi,v.j.info("SVER="+v.za));const Bn=qt[5];Bn!=null&&typeof Bn=="number"&&Bn>0&&(S=1.5*Bn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const qn=u.g;if(qn){const cr=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cr){var F=S.h;F.g||cr.indexOf("spdy")==-1&&cr.indexOf("quic")==-1&&cr.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(nl(F,F.h),F.h=null))}if(S.G){const Xr=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xr&&(S.wa=Xr,Gt(S.J,S.G,Xr))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var rt=u;if(S.na=Wo(S,S.L?S.ba:null,S.W),rt.L){il(S.h,rt);var wt=rt,de=S.O;de&&(wt.H=de),wt.D&&(ni(wt),ei(wt)),S.g=rt}else Ko(S);v.i.length>0&&ci(v)}else qt[0]!="stop"&&qt[0]!="close"||hi(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?hi(v,7):fl(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}$n(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function tl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function el(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ai(u){return u.h?1:u.g?u.g.size:0}function ri(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function nl(u,m){u.g?u.g.add(m):u.h=m}function il(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}tl.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function al(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return j(u.i)}var qo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Br(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let z,F=null;S>=0?(z=u[v].substring(0,S),F=u[v].substring(S+1)):z=u[v],m(z,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof hn?(this.l=u.l,je(this,u.j),this.o=u.o,this.g=u.g,ea(this,u.u),this.h=u.h,rl(this,Qo(u.i)),this.m=u.m):u&&(m=String(u).match(qo))?(this.l=!1,je(this,m[1]||"",!0),this.o=si(m[2]||""),this.g=si(m[3]||"",!0),ea(this,m[4]),this.h=si(m[5]||"",!0),rl(this,m[6]||"",!0),this.m=si(m[7]||"")):(this.l=!1,this.i=new ia(null,this.l))}hn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ir(m,qr,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ir(m,qr,!0),"@"),u.push(xi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ir(v,v.charAt(0)=="/"?sl:Ho,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ir(v,Fo)),u.join("")},hn.prototype.resolve=function(u){const m=Te(this);let v=!!u.j;v?je(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var S=u.h;if(v)ea(m,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var z=m.h.lastIndexOf("/");z!=-1&&(S=m.h.slice(0,z+1)+S)}if(z=S,z==".."||z==".")S="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){S=z.lastIndexOf("/",0)==0,z=z.split("/");const F=[];for(let rt=0;rt<z.length;){const wt=z[rt++];wt=="."?S&&rt==z.length&&F.push(""):wt==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),S&&rt==z.length&&F.push("")):(F.push(wt),S=!0)}S=F.join("/")}else S=z}return v?m.h=S:v=u.i.toString()!=="",v?rl(m,Qo(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Te(u){return new hn(u)}function je(u,m,v){u.j=v?si(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ea(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function rl(u,m,v){m instanceof ia?(u.i=m,Fr(u.i,u.l)):(v||(m=ir(m,na)),u.i=new ia(m,u.l))}function Gt(u,m,v){u.i.set(m,v)}function nr(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function si(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ir(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,tn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function tn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var qr=/[#\/\?@]/g,Ho=/[#\?:]/g,sl=/[#\?]/g,na=/[#\?@]/g,Fo=/#/g;function ia(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function en(u){u.g||(u.g=new Map,u.h=0,u.i&&Br(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=ia.prototype,r.add=function(u,m){en(this),this.i=null,u=aa(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Go(u,m){en(u),m=aa(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ll(u,m){return en(u),m=aa(u,m),u.g.has(m)}r.forEach=function(u,m){en(this),this.g.forEach(function(v,S){v.forEach(function(z){u.call(m,z,S,this)},this)},this)};function ol(u,m){en(u);let v=[];if(typeof m=="string")ll(u,m)&&(v=v.concat(u.g.get(aa(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return en(this),this.i=null,u=aa(this,u),ll(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=ol(this,u),u.length>0?String(u[0]):m):m};function Hr(u,m,v){Go(u,m),v.length>0&&(u.i=null,u.g.set(aa(u,m),j(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const z=xi(v);v=ol(this,v);for(let F=0;F<v.length;F++){let rt=z;v[F]!==""&&(rt+="="+xi(v[F])),u.push(rt)}}return this.i=u.join("&")};function Qo(u){const m=new ia;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function aa(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Fr(u,m){m&&!u.j&&(en(u),u.i=null,u.g.forEach(function(v,S){const z=S.toLowerCase();S!=z&&(Go(this,S),Hr(this,z,v))},u)),u.j=m}function zn(u,m){const v=new jn;if(d.Image){const S=new Image;S.onload=E(bn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=E(bn,v,"TestLoadImage: error",!1,m,S),S.onabort=E(bn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=E(bn,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function ul(u,m){const v=new jn,S=new AbortController,z=setTimeout(()=>{S.abort(),bn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(F=>{clearTimeout(z),F.ok?bn(v,"TestPingServer: ok",!0,m):bn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),bn(v,"TestPingServer: error",!1,m)})}function bn(u,m,v,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(v)}catch{}}function ra(){this.g=new Oo}function li(u){this.i=u.Sb||null,this.h=u.ab||!1}A(li,Mo),li.prototype.g=function(){return new ar(this.i,this.h)};function ar(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(ar,ye),r=ar.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,kn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,sa(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Gr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Gr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?sa(this):kn(this),this.readyState==3&&Gr(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,sa(this))},r.Na=function(u){this.g&&(this.response=u,sa(this))},r.ga=function(){this.g&&sa(this)};function sa(u){u.readyState=4,u.l=null,u.j=null,u.B=null,kn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function An(u){let m="";return it(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function rr(u,m,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=An(v),typeof u=="string"?v!=null&&xi(v):Gt(u,m,v))}function Kt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Kt,ye);var oi=/^https?$/i,cl=["POST","PUT"];r=Kt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ws.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(F){sr(this,F);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)v.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())v.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(cl,m,void 0)>=0)||S||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,rt]of v)this.g.setRequestHeader(F,rt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(F){sr(this,F)}};function sr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,hl(u),Ri(u)}function hl(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ie(this,"complete"),Ie(this,"abort"),Ri(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ri(this,!0)),Kt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?lr(this):this.Xa())},r.Xa=function(){lr(this)};function lr(u){if(u.h&&typeof c<"u"){if(u.v&&Pn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ie(u,"readystatechange"),Pn(u)==4){u.h=!1;try{const F=u.ca();t:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var S;if(S=F===0){let rt=String(u.D).match(qo)[1]||null;!rt&&d.self&&d.self.location&&(rt=d.self.location.protocol.slice(0,-1)),S=!oi.test(rt?rt.toLowerCase():"")}v=S}if(v)Ie(u,"complete"),Ie(u,"success");else{u.o=6;try{var z=Pn(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",hl(u)}}finally{Ri(u)}}}}function Ri(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ie(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Pn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Pn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),sh(m)}};function ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ci(u){const m={};u=(u.g&&Pn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(N(u[S]))continue;var v=ko(u[S]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=m[z]||[];m[z]=F,F.push(v)}Nt(m,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ui(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function la(u){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ui("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ui("baseRetryDelayMs",5e3,u),this.Za=ui("retryDelaySeedMs",1e4,u),this.Ta=ui("forwardChannelMaxRetries",2,u),this.va=ui("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new tl(u&&u.concurrentRequestLimit),this.Ba=new ra,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=la.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,S){_e(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Wo(this,null,this.W),ci(this)};function fl(u){if(Qr(u),u.I==3){var m=u.V++,v=Te(u.J);if(Gt(v,"SID",u.M),Gt(v,"RID",m),Gt(v,"TYPE","terminate"),or(u,v),m=new Un(u,u.j,m),m.M=2,m.A=nr(Te(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ei(m)}Jo(u)}function oa(u){u.g&&(ml(u),u.g.cancel(),u.g=null)}function Qr(u){oa(u),u.v&&(d.clearTimeout(u.v),u.v=null),Kr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ci(u){if(!el(u.h)&&!u.m){u.m=!0;var m=u.Ea;yt||x(),vt||(yt(),vt=!0),C.add(m,u),u.D=0}}function Yr(u,m){return ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Jn(y(u.Ea,u,m),Zo(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new Un(this,this.j,u);let F=this.o;if(this.U&&(F?(F=V(F),st(F,this.U)):F=this.U),this.u!==null||this.R||(z.J=F,F=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Yo(this,z,m),v=Te(this.J),Gt(v,"RID",u),Gt(v,"CVER",22),this.G&&Gt(v,"X-HTTP-Session-Id",this.G),or(this,v),F&&(this.R?m="headers="+xi(An(F))+"&"+m:this.u&&rr(v,this.u,F)),nl(this.h,z),this.Ra&&Gt(v,"TYPE","init"),this.S?(Gt(v,"$req",m),Gt(v,"SID","null"),z.U=!0,ti(z,v,null)):ti(z,v,m),this.I=2}}else this.I==3&&(u?dl(this,u):this.i.length==0||el(this.h)||dl(this))};function dl(u,m){var v;m?v=m.l:v=u.V++;const S=Te(u.J);Gt(S,"SID",u.M),Gt(S,"RID",v),Gt(S,"AID",u.K),or(u,S),u.u&&u.o&&rr(S,u.u,u.o),v=new Un(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Yo(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),nl(u.h,v),ti(v,S,m)}function or(u,m){u.H&&it(u.H,function(v,S){Gt(m,S,v)}),u.l&&it({},function(v,S){Gt(m,S,v)})}function Yo(u,m,v){v=Math.min(u.i.length,v);const S=u.l?y(u.l.Ka,u.l,u):null;t:{var z=u.i;let wt=-1;for(;;){const de=["count="+v];wt==-1?v>0?(wt=z[0].g,de.push("ofs="+wt)):wt=0:de.push("ofs="+wt);let qt=!0;for(let re=0;re<v;re++){var F=z[re].g;const Sn=z[re].map;if(F-=wt,F<0)wt=Math.max(0,z[re].g-100),qt=!1;else try{F="req"+F+"_"||"";try{var rt=Sn instanceof Map?Sn:Object.entries(Sn);for(const[fi,Bn]of rt){let qn=Bn;g(Bn)&&(qn=ta(Bn)),de.push(F+fi+"="+encodeURIComponent(qn))}}catch(fi){throw de.push(F+"type="+encodeURIComponent("_badmap")),fi}}catch{S&&S(Sn)}}if(qt){rt=de.join("&");break t}}rt=void 0}return u=u.i.splice(0,v),m.G=u,rt}function Ko(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;yt||x(),vt||(yt(),vt=!0),C.add(m,u),u.A=0}}function ur(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Jn(y(u.Da,u),Zo(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Xo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Jn(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),oa(this),Xo(this))};function ml(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Xo(u){u.g=new Un(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),or(u,m),u.u&&u.o&&rr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=nr(Te(m)),v.u=null,v.R=!0,kr(v,u)}r.Va=function(){this.C!=null&&(this.C=null,oa(this),ur(this),_e(19))};function Kr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function $o(u,m){var v=null;if(u.g==m){Kr(u),ml(u),u.g=null;var S=2}else if(ri(u.h,m))v=m.G,il(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var z=u.D;S=zr(),Ie(S,new Zn(S,v)),ci(u)}else Ko(u);else if(z=m.m,z==3||z==0&&m.X>0||!(S==1&&Yr(u,m)||S==2&&ur(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),z){case 1:hi(u,5);break;case 4:hi(u,10);break;case 3:hi(u,6);break;default:hi(u,2)}}}function Zo(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function hi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),S=u.Ua;const z=!S;S=new hn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||je(S,"https"),nr(S),z?zn(S.toString(),v):ul(S.toString(),v)}else _e(2);u.I=0,u.l&&u.l.pa(m),Jo(u),Qr(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function Jo(u){if(u.I=0,u.ja=[],u.l){const m=al(u.h);(m.length!=0||u.i.length!=0)&&(Q(u.ja,m),Q(u.ja,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.oa()}}function Wo(u,m,v){var S=v instanceof hn?Te(v):new hn(v);if(S.g!="")m&&(S.g=m+"."+S.g),ea(S,S.u);else{var z=d.location;S=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;const F=new hn(null);S&&je(F,S),m&&(F.g=m),z&&ea(F,z),v&&(F.h=v),S=F}return v=u.G,m=u.wa,v&&m&&Gt(S,v,m),Gt(S,"VER",u.ka),or(u,S),S}function tu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new li({ab:v})):new Kt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function eu(){}r=eu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ua(){}ua.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){ye.call(this),this.g=new la(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!N(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!N(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ni(this)}A(Je,ye),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){fl(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ta(u),u=v);m.i.push(new Ee(m.Ya++,u)),m.I==3&&ci(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,fl(this.g),delete this.g,Je.Z.N.call(this)};function nu(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(nu,ze);function iu(){En.call(this),this.status=1}A(iu,En);function Ni(u){this.g=u}A(Ni,eu),Ni.prototype.ra=function(){Ie(this.g,"a")},Ni.prototype.qa=function(u){Ie(this.g,new nu(u))},Ni.prototype.pa=function(u){Ie(this.g,new iu)},Ni.prototype.oa=function(){Ie(this.g,"b")},ua.prototype.createWebChannel=ua.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,f0=function(){return new ua},h0=function(){return zr()},c0=fe,Cd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},tr.NO_ERROR=0,tr.TIMEOUT=8,tr.HTTP_ERROR=6,gc=tr,Js.COMPLETE="complete",u0=Js,jo.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,to=jo,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,o0=Kt}).apply(typeof oc<"u"?oc:typeof self<"u"?self:typeof window<"u"?window:{});const I_="@firebase/firestore",V_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bs="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new e0("@firebase/firestore");function ws(){return Nr.logLevel}function ut(r,...e){if(Nr.logLevel<=kt.DEBUG){const i=e.map(nm);Nr.debug(`Firestore (${Bs}): ${r}`,...i)}}function $i(r,...e){if(Nr.logLevel<=kt.ERROR){const i=e.map(nm);Nr.error(`Firestore (${Bs}): ${r}`,...i)}}function Os(r,...e){if(Nr.logLevel<=kt.WARN){const i=e.map(nm);Nr.warn(`Firestore (${Bs}): ${r}`,...i)}}function nm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,d0(r,s,i)}function d0(r,e,i){let s=`FIRESTORE (${Bs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw $i(s),new Error(s)}function Ft(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||d0(e,o,s)}function St(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Ps{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class zS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class kS{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ft(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new Qi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Qi,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},g=p=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Qi)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new m0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string",2055,{h:e}),new Xe(e)}}class PS{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BS{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new PS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class O_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bS(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ft(this.o===void 0,3512);const s=c=>{c.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new O_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new O_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=HS(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function Mt(r,e){return r<e?-1:r>e?1:0}function Nd(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),c=e.charAt(s);if(o!==c)return pd(o)===pd(c)?Mt(o,c):pd(o)?1:-1}return Mt(r.length,e.length)}const FS=55296,GS=57343;function pd(r){const e=r.charCodeAt(0);return e>=FS&&e<=GS}function Ms(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="__name__";class yi{constructor(e,i,s){i===void 0?i=0:i>e.length&&Et(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&Et(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return yi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof yi?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=yi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Mt(e.length,i.length)}static compareSegments(e,i){const s=yi.isNumericId(e),o=yi.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?yi.extractNumericId(e).compare(yi.extractNumericId(i)):Nd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return La.fromString(e.substring(4,e.length-2))}}class te extends yi{construct(e,i,s){return new te(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ot(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new te(i)}static emptyPath(){return new te([])}}const QS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends yi{construct(e,i,s){return new Ge(e,i,s)}static isValidIdentifier(e){return QS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M_}static keyField(){return new Ge([M_])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ot(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ot(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ot(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(c(),o++)}if(c(),d)throw new ot(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(i)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.path=e}static fromPath(e){return new pt(te.fromString(e))}static fromName(e){return new pt(te.fromString(e).popFirst(5))}static empty(){return new pt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return te.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new te(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(r,e,i){if(!i)throw new ot(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function YS(r,e,i,s){if(e===!0&&s===!0)throw new ot(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function j_(r){if(!pt.isDocumentKey(r))throw new ot(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function U_(r){if(pt.isDocumentKey(r))throw new ot(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function p0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Bc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function Zi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ot(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Bc(r);throw new ot(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r,e){const i={typeString:r};return e&&(i.value=e),i}function wo(r,e){if(!p0(r))throw new ot(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new ot(J.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=-62135596800,z_=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(e){return ie.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*z_);return new ie(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<L_)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z_}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wo(e,ie._jsonSchema))return new ie(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-L_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Ce("string",ie._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(e){return new bt(e)}static min(){return new bt(new ie(0,0))}static max(){return new bt(new ie(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=-1;function KS(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(s===1e9?new ie(i+1,0):new ie(i,s));return new Pa(o,pt.empty(),e)}function XS(r){return new Pa(r.readTime,r.key,mo)}class Pa{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Pa(bt.min(),pt.empty(),mo)}static max(){return new Pa(bt.max(),pt.empty(),mo)}}function $S(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,e.documentKey),i!==0?i:Mt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qs(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==ZS)throw r;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new tt(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof tt?i:tt.resolve(i)}catch(i){return tt.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):tt.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):tt.reject(i)}static resolve(e){return new tt(((i,s)=>{i(e)}))}static reject(e){return new tt(((i,s)=>{s(e)}))}static waitFor(e){return new tt(((i,s)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(p=>s(p)))})),d=!0,c===o&&i()}))}static or(e){let i=tt.resolve(!1);for(const s of e)i=i.next((o=>o?tt.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,c)=>{s.push(i.call(this,o,c))})),this.waitFor(s)}static mapArray(e,i){return new tt(((s,o)=>{const c=e.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const y=p;i(e[y]).next((E=>{d[y]=E,++g,g===c&&s(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new tt(((s,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):s()};c()}))}}function WS(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Hs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}qc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am=-1;function Hc(r){return r==null}function xc(r){return r===0&&1/r==-1/0}function t2(r){return typeof r=="number"&&Number.isInteger(r)&&!xc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="";function e2(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=k_(e)),e=n2(r.get(i),e);return k_(e)}function n2(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case y0:i+="";break;default:i+=c}}return i}function k_(r){return r+y0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ya(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function _0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e,i){this.comparator=e,this.root=i||Fe.EMPTY}insert(e,i){return new oe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uc(this.root,e,this.comparator,!0)}}class uc{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fe{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??Fe.RED,this.left=o??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new Fe(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Fe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Et(27949);return e+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(e,i,s,o,c){return this}insert(e,i,s){return new Fe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new B_(this.data.getIterator())}getIteratorFrom(e){return new B_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Oe)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Oe(this.comparator);return i.data=e,i}}class B_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new vn([])}unionWith(e){let i=new Oe(Ge.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new vn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ms(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new v0("Invalid base64 string: "+c):c}})(e);return new Qe(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const i2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ba(r){if(Ft(!!r,39018),typeof r=="string"){let e=0;const i=i2.exec(r);if(Ft(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function qa(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="server_timestamp",T0="__type__",b0="__previous_value__",A0="__local_write_time__";function rm(r){var i,s;return((s=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[T0])==null?void 0:s.stringValue)===E0}function Fc(r){const e=r.mapValue.fields[b0];return rm(e)?Fc(e):e}function go(r){const e=Ba(r.mapValue.fields[A0].timestampValue);return new ie(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,i,s,o,c,d,g,p,y,E){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const Rc="(default)";class po{constructor(e,i){this.projectId=e,this.database=i||Rc}static empty(){return new po("","")}get isDefaultDatabase(){return this.database===Rc}isEqual(e){return e instanceof po&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="__type__",r2="__max__",cc={mapValue:{}},w0="__vector__",Cc="value";function Ha(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?rm(r)?4:l2(r)?9007199254740991:s2(r)?10:11:Et(28295,{value:r})}function Ai(r,e){if(r===e)return!0;const i=Ha(r);if(i!==Ha(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return go(r).isEqual(go(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Ba(o.timestampValue),g=Ba(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return qa(o.bytesValue).isEqual(qa(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return pe(o.geoPointValue.latitude)===pe(c.geoPointValue.latitude)&&pe(o.geoPointValue.longitude)===pe(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return pe(o.integerValue)===pe(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=pe(o.doubleValue),g=pe(c.doubleValue);return d===g?xc(d)===xc(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return Ms(r.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(P_(d)!==P_(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!Ai(d[p],g[p])))return!1;return!0})(r,e);default:return Et(52216,{left:r})}}function yo(r,e){return(r.values||[]).find((i=>Ai(i,e)))!==void 0}function js(r,e){if(r===e)return 0;const i=Ha(r),s=Ha(e);if(i!==s)return Mt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=pe(c.integerValue||c.doubleValue),p=pe(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(r,e);case 3:return q_(r.timestampValue,e.timestampValue);case 4:return q_(go(r),go(e));case 5:return Nd(r.stringValue,e.stringValue);case 6:return(function(c,d){const g=qa(c),p=qa(d);return g.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),p=d.split("/");for(let y=0;y<g.length&&y<p.length;y++){const E=Mt(g[y],p[y]);if(E!==0)return E}return Mt(g.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Mt(pe(c.latitude),pe(d.latitude));return g!==0?g:Mt(pe(c.longitude),pe(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return H_(r.arrayValue,e.arrayValue);case 10:return(function(c,d){var w,j,Q,$;const g=c.fields||{},p=d.fields||{},y=(w=g[Cc])==null?void 0:w.arrayValue,E=(j=p[Cc])==null?void 0:j.arrayValue,A=Mt(((Q=y==null?void 0:y.values)==null?void 0:Q.length)||0,(($=E==null?void 0:E.values)==null?void 0:$.length)||0);return A!==0?A:H_(y,E)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===cc.mapValue&&d===cc.mapValue)return 0;if(c===cc.mapValue)return 1;if(d===cc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),y=d.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const w=Nd(p[A],E[A]);if(w!==0)return w;const j=js(g[p[A]],y[E[A]]);if(j!==0)return j}return Mt(p.length,E.length)})(r.mapValue,e.mapValue);default:throw Et(23264,{he:i})}}function q_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Mt(r,e);const i=Ba(r),s=Ba(e),o=Mt(i.seconds,s.seconds);return o!==0?o:Mt(i.nanos,s.nanos)}function H_(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=js(i[o],s[o]);if(c)return c}return Mt(i.length,s.length)}function Us(r){return Dd(r)}function Dd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Ba(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return qa(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return pt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=Dd(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${Dd(i.fields[d])}`;return o+"}"})(r.mapValue):Et(61005,{value:r})}function pc(r){switch(Ha(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fc(r);return e?16+pc(e):16;case 5:return 2*r.stringValue.length;case 6:return qa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+pc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ya(s.fields,((c,d)=>{o+=c.length+pc(d)})),o})(r.mapValue);default:throw Et(13486,{value:r})}}function F_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Id(r){return!!r&&"integerValue"in r}function sm(r){return!!r&&"arrayValue"in r}function G_(r){return!!r&&"nullValue"in r}function Q_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function yc(r){return!!r&&"mapValue"in r}function s2(r){var i,s;return((s=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[S0])==null?void 0:s.stringValue)===w0}function ro(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ya(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=ro(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ro(r.arrayValue.values[i]);return e}return{...r}}function l2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===r2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!yc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=ro(i)}setAll(e){let i=Ge.emptyPath(),s={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=ro(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());yc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];yc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Ya(i,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new un(ro(this.value))}}function x0(r){const e=[];return Ya(r.fields,((i,s)=>{const o=new Ge([i]);if(yc(s)){const c=x0(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,i,s,o,c,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new $e(e,0,bt.min(),bt.min(),bt.min(),un.empty(),0)}static newFoundDocument(e,i,s,o){return new $e(e,1,i,bt.min(),s,o,0)}static newNoDocument(e,i){return new $e(e,2,i,bt.min(),bt.min(),un.empty(),0)}static newUnknownDocument(e,i){return new $e(e,3,i,bt.min(),bt.min(),un.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $e&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,i){this.position=e,this.inclusive=i}}function Y_(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?s=pt.comparator(pt.fromName(d.referenceValue),i.key):s=js(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function K_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ai(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,i="asc"){this.field=e,this.dir=i}}function o2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{}class Re extends R0{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new c2(e,i,s):i==="array-contains"?new d2(e,s):i==="in"?new m2(e,s):i==="not-in"?new g2(e,s):i==="array-contains-any"?new p2(e,s):new Re(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new h2(e,s):new f2(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(js(i,this.value)):i!==null&&Ha(this.value)===Ha(i)&&this.matchesComparison(js(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends R0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Kn(e,i)}matches(e){return C0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function C0(r){return r.op==="and"}function N0(r){return u2(r)&&C0(r)}function u2(r){for(const e of r.filters)if(e instanceof Kn)return!1;return!0}function Vd(r){if(r instanceof Re)return r.field.canonicalString()+r.op.toString()+Us(r.value);if(N0(r))return r.filters.map((e=>Vd(e))).join(",");{const e=r.filters.map((i=>Vd(i))).join(",");return`${r.op}(${e})`}}function D0(r,e){return r instanceof Re?(function(s,o){return o instanceof Re&&s.op===o.op&&s.field.isEqual(o.field)&&Ai(s.value,o.value)})(r,e):r instanceof Kn?(function(s,o){return o instanceof Kn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,d,g)=>c&&D0(d,o.filters[g])),!0):!1})(r,e):void Et(19439)}function I0(r){return r instanceof Re?(function(i){return`${i.field.canonicalString()} ${i.op} ${Us(i.value)}`})(r):r instanceof Kn?(function(i){return i.op.toString()+" {"+i.getFilters().map(I0).join(" ,")+"}"})(r):"Filter"}class c2 extends Re{constructor(e,i,s){super(e,i,s),this.key=pt.fromName(s.referenceValue)}matches(e){const i=pt.comparator(e.key,this.key);return this.matchesComparison(i)}}class h2 extends Re{constructor(e,i){super(e,"in",i),this.keys=V0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class f2 extends Re{constructor(e,i){super(e,"not-in",i),this.keys=V0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function V0(r,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((s=>pt.fromName(s.referenceValue)))}class d2 extends Re{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return sm(i)&&yo(i.arrayValue,this.value)}}class m2 extends Re{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&yo(this.value.arrayValue,i)}}class g2 extends Re{constructor(e,i){super(e,"not-in",i)}matches(e){if(yo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!yo(this.value.arrayValue,i)}}class p2 extends Re{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!sm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>yo(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,i=null,s=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function X_(r,e=null,i=[],s=[],o=null,c=null,d=null){return new y2(r,e,i,s,o,c,d)}function lm(r){const e=St(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Vd(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Hc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Us(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Us(s))).join(",")),e.Te=i}return e.Te}function om(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!o2(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!D0(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!K_(r.startAt,e.startAt)&&K_(r.endAt,e.endAt)}function Od(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,i=null,s=[],o=[],c=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _2(r,e,i,s,o,c,d,g){return new Fs(r,e,i,s,o,c,d,g)}function um(r){return new Fs(r)}function $_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function O0(r){return r.collectionGroup!==null}function so(r){const e=St(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Oe(Ge.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new _o(c,s))})),i.has(Ge.keyField().canonicalString())||e.Ie.push(new _o(Ge.keyField(),s))}return e.Ie}function vi(r){const e=St(r);return e.Ee||(e.Ee=v2(e,so(r))),e.Ee}function v2(r,e){if(r.limitType==="F")return X_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new _o(o.field,c)}));const i=r.endAt?new Nc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Nc(r.startAt.position,r.startAt.inclusive):null;return X_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Md(r,e){const i=r.filters.concat([e]);return new Fs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function jd(r,e,i){return new Fs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Gc(r,e){return om(vi(r),vi(e))&&r.limitType===e.limitType}function M0(r){return`${lm(vi(r))}|lt:${r.limitType}`}function xs(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>I0(o))).join(", ")}]`),Hc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Us(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Us(o))).join(",")),`Target(${s})`})(vi(r))}; limitType=${r.limitType})`}function Qc(r,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):pt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,o){for(const c of so(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,g,p){const y=Y_(d,g,p);return d.inclusive?y<=0:y<0})(s.startAt,so(s),o)||s.endAt&&!(function(d,g,p){const y=Y_(d,g,p);return d.inclusive?y>=0:y>0})(s.endAt,so(s),o))})(r,e)}function E2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function j0(r){return(e,i)=>{let s=!1;for(const o of so(r)){const c=T2(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function T2(r,e,i){const s=r.field.isKeyField()?pt.comparator(e.key,i.key):(function(c,d,g){const p=d.data.field(c),y=g.data.field(c);return p!==null&&y!==null?js(p,y):Et(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ya(this.inner,((i,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return _0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=new oe(pt.comparator);function Ji(){return b2}const U0=new oe(pt.comparator);function eo(...r){let e=U0;for(const i of r)e=e.insert(i.key,i);return e}function L0(r){let e=U0;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Rr(){return lo()}function z0(){return lo()}function lo(){return new Vr((r=>r.toString()),((r,e)=>r.isEqual(e)))}const A2=new oe(pt.comparator),S2=new Oe(pt.comparator);function jt(...r){let e=S2;for(const i of r)e=e.add(i);return e}const w2=new Oe(Mt);function x2(){return w2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xc(e)?"-0":e}}function k0(r){return{integerValue:""+r}}function R2(r,e){return t2(e)?k0(e):cm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(){this._=void 0}}function C2(r,e,i){return r instanceof vo?(function(o,c){const d={fields:{[T0]:{stringValue:E0},[A0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&rm(c)&&(c=Fc(c)),c&&(d.fields[b0]=c),{mapValue:d}})(i,e):r instanceof Eo?B0(r,e):r instanceof To?q0(r,e):(function(o,c){const d=P0(o,c),g=Z_(d)+Z_(o.Ae);return Id(d)&&Id(o.Ae)?k0(g):cm(o.serializer,g)})(r,e)}function N2(r,e,i){return r instanceof Eo?B0(r,e):r instanceof To?q0(r,e):i}function P0(r,e){return r instanceof Dc?(function(s){return Id(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class vo extends Yc{}class Eo extends Yc{constructor(e){super(),this.elements=e}}function B0(r,e){const i=H0(e);for(const s of r.elements)i.some((o=>Ai(o,s)))||i.push(s);return{arrayValue:{values:i}}}class To extends Yc{constructor(e){super(),this.elements=e}}function q0(r,e){let i=H0(e);for(const s of r.elements)i=i.filter((o=>!Ai(o,s)));return{arrayValue:{values:i}}}class Dc extends Yc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Z_(r){return pe(r.integerValue||r.doubleValue)}function H0(r){return sm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,i){this.field=e,this.transform=i}}function I2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Eo&&o instanceof Eo||s instanceof To&&o instanceof To?Ms(s.elements,o.elements,Ai):s instanceof Dc&&o instanceof Dc?Ai(s.Ae,o.Ae):s instanceof vo&&o instanceof vo})(r.transform,e.transform)}class V2{constructor(e,i){this.version=e,this.transformResults=i}}class Qn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _c(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Kc{}function F0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new hm(r.key,Qn.none()):new xo(r.key,r.data,Qn.none());{const i=r.data,s=un.empty();let o=new Oe(Ge.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Ka(r.key,s,new vn(o.toArray()),Qn.none())}}function O2(r,e,i){r instanceof xo?(function(o,c,d){const g=o.value.clone(),p=W_(o.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof Ka?(function(o,c,d){if(!_c(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=W_(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(G0(o)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function oo(r,e,i,s){return r instanceof xo?(function(c,d,g,p){if(!_c(c.precondition,d))return g;const y=c.value.clone(),E=tv(c.fieldTransforms,p,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,e,i,s):r instanceof Ka?(function(c,d,g,p){if(!_c(c.precondition,d))return g;const y=tv(c.fieldTransforms,p,d),E=d.data;return E.setAll(G0(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,e,i,s):(function(c,d,g){return _c(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function M2(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=P0(s.transform,o||null);c!=null&&(i===null&&(i=un.empty()),i.set(s.field,c))}return i||null}function J_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ms(s,o,((c,d)=>I2(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class xo extends Kc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ka extends Kc{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function G0(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function W_(r,e,i){const s=new Map;Ft(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=e.data.field(c.field);s.set(c.field,N2(d,g,i[o]))}return s}function tv(r,e,i){const s=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);s.set(o.field,C2(c,d,e))}return s}class hm extends Kc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j2 extends Kc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&O2(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=oo(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=oo(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=z0();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const p=F0(d,g);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(bt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),jt())}isEqual(e){return this.batchId===e.batchId&&Ms(this.mutations,e.mutations,((i,s)=>J_(i,s)))&&Ms(this.baseMutations,e.baseMutations,((i,s)=>J_(i,s)))}}class fm{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Ft(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return A2})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new fm(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,zt;function k2(r){switch(r){case J.OK:return Et(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function Q0(r){if(r===void 0)return $i("GRPC error has no .code"),J.UNKNOWN;switch(r){case xe.OK:return J.OK;case xe.CANCELLED:return J.CANCELLED;case xe.UNKNOWN:return J.UNKNOWN;case xe.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case xe.INTERNAL:return J.INTERNAL;case xe.UNAVAILABLE:return J.UNAVAILABLE;case xe.UNAUTHENTICATED:return J.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case xe.NOT_FOUND:return J.NOT_FOUND;case xe.ALREADY_EXISTS:return J.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return J.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case xe.ABORTED:return J.ABORTED;case xe.OUT_OF_RANGE:return J.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return J.UNIMPLEMENTED;case xe.DATA_LOSS:return J.DATA_LOSS;default:return Et(39323,{code:r})}}(zt=xe||(xe={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=new La([4294967295,4294967295],0);function ev(r){const e=P2().encode(r),i=new l0;return i.update(e),new Uint8Array(i.digest())}function nv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new La([i,s],0),new La([o,c],0)]}class dm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new no(`Invalid padding: ${i}`);if(s<0)throw new no(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new no(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new no(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=La.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(La.fromNumber(s)));return o.compare(B2)===1&&(o=new La([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=ev(e),[s,o]=nv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new dm(c,o,i);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=ev(e),[s,o]=nv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class no extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,Ro.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Xc(bt.min(),o,new oe(Mt),Ji(),jt())}}class Ro{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Ro(s,i,jt(),jt(),jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class Y0{constructor(e,i){this.targetId=e,this.Ce=i}}class K0{constructor(e,i,s=Qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class iv{constructor(){this.ve=0,this.Fe=av(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=jt(),i=jt(),s=jt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Et(38017,{changeType:c})}})),new Ro(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=av()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class q2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ji(),this.Je=hc(),this.He=hc(),this.Ye=new oe(Mt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:Et(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Od(c))if(s===0){const d=new pt(c.path);this.et(i,d,$e.newNoDocument(d,bt.min()))}else Ft(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(e),p=g?this.ct(g,e,d):1;if(p!==0){this.it(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=qa(s).toUint8Array()}catch(p){if(p instanceof v0)return Os("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new dm(d,o,c)}catch(p){return Os(p instanceof no?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&Od(g.target)){const p=new pt(g.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,$e.newNoDocument(p,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let s=jt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Xc(e,i,this.Ye,this.je,s);return this.je=Ji(),this.Je=hc(),this.He=hc(),this.Ye=new oe(Mt),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new iv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Oe(Mt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Oe(Mt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function hc(){return new oe(pt.comparator)}function av(){return new oe(pt.comparator)}const H2={asc:"ASCENDING",desc:"DESCENDING"},F2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},G2={and:"AND",or:"OR"};class Q2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Ud(r,e){return r.useProto3Json||Hc(e)?e:{value:e}}function Ic(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Y2(r,e){return Ic(r,e.toTimestamp())}function Ei(r){return Ft(!!r,49232),bt.fromTimestamp((function(i){const s=Ba(i);return new ie(s.seconds,s.nanos)})(r))}function mm(r,e){return Ld(r,e).canonicalString()}function Ld(r,e){const i=(function(o){return new te(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function $0(r){const e=te.fromString(r);return Ft(eE(e),10190,{key:e.toString()}),e}function zd(r,e){return mm(r.databaseId,e.path)}function yd(r,e){const i=$0(e);if(i.get(1)!==r.databaseId.projectId)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(J0(i))}function Z0(r,e){return mm(r.databaseId,e)}function K2(r){const e=$0(r);return e.length===4?te.emptyPath():J0(e)}function kd(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function J0(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function rv(r,e,i){return{name:zd(r,e),fields:i.value.mapValue.fields}}function X2(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(Ft(E===void 0||typeof E=="string",58123),Qe.fromBase64String(E||"")):(Ft(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Qe.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const E=y.code===void 0?J.UNKNOWN:Q0(y.code);return new ot(E,y.message||"")})(d);i=new K0(s,o,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=yd(r,s.document.name),c=Ei(s.document.updateTime),d=s.document.createTime?Ei(s.document.createTime):bt.min(),g=new un({mapValue:{fields:s.document.fields}}),p=$e.newFoundDocument(o,c,d,g),y=s.targetIds||[],E=s.removedTargetIds||[];i=new vc(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=yd(r,s.document),c=s.readTime?Ei(s.readTime):bt.min(),d=$e.newNoDocument(o,c),g=s.removedTargetIds||[];i=new vc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=yd(r,s.document),c=s.removedTargetIds||[];i=new vc([],c,o,null)}else{if(!("filter"in e))return Et(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new z2(o,c),g=s.targetId;i=new Y0(g,d)}}return i}function $2(r,e){let i;if(e instanceof xo)i={update:rv(r,e.key,e.value)};else if(e instanceof hm)i={delete:zd(r,e.key)};else if(e instanceof Ka)i={update:rv(r,e.key,e.data),updateMask:rw(e.fieldMask)};else{if(!(e instanceof j2))return Et(16599,{Vt:e.type});i={verify:zd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const g=d.transform;if(g instanceof vo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Eo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof To)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Dc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Et(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Y2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)})(r,e.precondition)),i}function Z2(r,e){return r&&r.length>0?(Ft(e!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Ei(o.updateTime):Ei(c);return d.isEqual(bt.min())&&(d=Ei(c)),new V2(d,o.transformResults||[])})(i,e)))):[]}function J2(r,e){return{documents:[Z0(r,e.path)]}}function W2(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Z0(r,o);const c=(function(y){if(y.length!==0)return tE(Kn.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:Rs(w.field),direction:nw(w.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Ud(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function tw(r){let e=K2(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Ft(s===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(A){const w=W0(A);return w instanceof Kn&&N0(w)?w.getFilters():[w]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((w=>(function(Q){return new _o(Cs(Q.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(w)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let w;return w=typeof A=="object"?A.value:A,Hc(w)?null:w})(i.limit));let p=null;i.startAt&&(p=(function(A){const w=!!A.before,j=A.values||[];return new Nc(j,w)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const w=!A.before,j=A.values||[];return new Nc(j,w)})(i.endAt)),_2(e,o,d,c,g,"F",p,y)}function ew(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function W0(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Cs(i.unaryFilter.field);return Re.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Cs(i.unaryFilter.field);return Re.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Cs(i.unaryFilter.field);return Re.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Cs(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Re.create(Cs(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Kn.create(i.compositeFilter.filters.map((s=>W0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(i.compositeFilter.op))})(r):Et(30097,{filter:r})}function nw(r){return H2[r]}function iw(r){return F2[r]}function aw(r){return G2[r]}function Rs(r){return{fieldPath:r.canonicalString()}}function Cs(r){return Ge.fromServerFormat(r.fieldPath)}function tE(r){return r instanceof Re?(function(i){if(i.op==="=="){if(Q_(i.value))return{unaryFilter:{field:Rs(i.field),op:"IS_NAN"}};if(G_(i.value))return{unaryFilter:{field:Rs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Q_(i.value))return{unaryFilter:{field:Rs(i.field),op:"IS_NOT_NAN"}};if(G_(i.value))return{unaryFilter:{field:Rs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rs(i.field),op:iw(i.op),value:i.value}}})(r):r instanceof Kn?(function(i){const s=i.getFilters().map((o=>tE(o)));return s.length===1?s[0]:{compositeFilter:{op:aw(i.op),filters:s}}})(r):Et(54877,{filter:r})}function rw(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function eE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,i,s,o,c=bt.min(),d=bt.min(),g=Qe.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new Ma(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e){this.yt=e}}function lw(r){const e=tw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?jd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.Cn=new uw}addToCollectionParentIndex(e,i){return this.Cn.add(i),tt.resolve()}getCollectionParents(e,i){return tt.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return tt.resolve()}deleteFieldIndex(e,i){return tt.resolve()}deleteAllFieldIndexes(e){return tt.resolve()}createTargetIndexes(e,i){return tt.resolve()}getDocumentsMatchingTarget(e,i){return tt.resolve(null)}getIndexType(e,i){return tt.resolve(0)}getFieldIndexes(e,i){return tt.resolve([])}getNextCollectionGroupToUpdate(e){return tt.resolve(null)}getMinOffset(e,i){return tt.resolve(Pa.min())}getMinOffsetFromCollectionGroup(e,i){return tt.resolve(Pa.min())}updateCollectionGroup(e,i,s){return tt.resolve()}updateIndexEntries(e,i){return tt.resolve()}}class uw{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Oe(te.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Oe(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nE=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(nE,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ls(0)}static cr(){return new Ls(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="LruGarbageCollector",cw=1048576;function ov([r,e],[i,s]){const o=Mt(r,i);return o===0?Mt(e,s):o}class hw{constructor(e){this.Ir=e,this.buffer=new Oe(ov),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();ov(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class fw{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ut(lv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Hs(i)?ut(lv,"Ignoring IndexedDB error during garbage collection: ",i):await qs(i)}await this.Vr(3e5)}))}}class dw{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return tt.resolve(qc.ce);const s=new hw(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(sv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,c,d,g,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(s=A,g=Date.now(),this.removeTargets(e,s,i)))).next((A=>(c=A,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(y=Date.now(),ws()<=kt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${A} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function mw(r,e){return new dw(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(){this.changes=new Vr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,$e.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?tt.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&oo(s.mutation,o,vn.empty(),ie.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,jt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=jt()){const o=Rr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((c=>{let d=eo();return c.forEach(((g,p)=>{d=d.insert(g,p.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=Rr();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,jt())))}populateOverlays(e,i,s){const o=[];return s.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,s,o){let c=Ji();const d=lo(),g=(function(){return lo()})();return i.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ka)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),oo(E.mutation,y,E.mutation.getFieldMask(),ie.now())):d.set(y.key,vn.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((y,E)=>d.set(y,E))),i.forEach(((y,E)=>g.set(y,new pw(E,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,i){const s=lo();let o=new oe(((d,g)=>d-g)),c=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((p=>{const y=i.get(p);if(y===null)return;let E=s.get(p)||vn.empty();E=g.applyToLocalView(y,E),s.set(p,E);const A=(o.get(g.batchId)||jt()).add(p);o=o.insert(g.batchId,A)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,E=p.value,A=z0();E.forEach((w=>{if(!c.has(w)){const j=F0(i.get(w),s.get(w));j!==null&&A.set(w,j),c=c.add(w)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,A))}return tt.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):O0(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):tt.resolve(Rr());let g=mo,p=c;return d.next((y=>tt.forEach(y,((E,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(E)?tt.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,p,y,jt()))).next((E=>({batchId:g,changes:L0(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pt(i)).next((s=>{let o=eo();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let d=eo();return this.indexManager.getCollectionParents(e,c).next((g=>tt.forEach(g,(p=>{const y=(function(A,w){return new Fs(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((A,w)=>{d=d.insert(A,w)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o)))).next((d=>{c.forEach(((p,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,$e.newInvalidDocument(E)))}));let g=eo();return d.forEach(((p,y)=>{const E=c.get(p);E!==void 0&&oo(E.mutation,y,vn.empty(),ie.now()),Qc(i,y)&&(g=g.insert(p,y))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return tt.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ei(o.createTime)}})(i)),tt.resolve()}getNamedQuery(e,i){return tt.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:lw(o.bundledQuery),readTime:Ei(o.readTime)}})(i)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(){this.overlays=new oe(pt.comparator),this.qr=new Map}getOverlay(e,i){return tt.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Rr();return tt.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,c)=>{this.St(e,i,c)})),tt.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),tt.resolve()}getOverlaysForCollection(e,i,s){const o=Rr(),c=i.length+1,d=new pt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return tt.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new oe(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=Rr(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=Rr(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>g.set(y,E))),!(g.size()>=o)););return tt.resolve(g)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new L2(i,s));let c=this.qr.get(i);c===void 0&&(c=jt(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(e){return tt.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this.Qr=new Oe(Le.$r),this.Ur=new Oe(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Le(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Le(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new pt(new te([])),s=new Le(i,e),o=new Le(i,e+1),c=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new pt(new te([])),s=new Le(i,e),o=new Le(i,e+1);let c=jt();return this.Ur.forEachInRange([s,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Le(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Le{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return pt.comparator(e.key,i.key)||Mt(e.Yr,i.Yr)}static Kr(e,i){return Mt(e.Yr,i.Yr)||pt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Oe(Le.$r)}checkEmpty(e){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new U2(c,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Le(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return tt.resolve(d)}lookupMutationBatch(e,i){return tt.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),c=o<0?0:o;return tt.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?am:this.tr-1)}getAllMutationBatches(e){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),tt.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Oe(Mt);return i.forEach((o=>{const c=new Le(o,0),d=new Le(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{s=s.add(g.Yr)}))})),tt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;pt.isDocumentKey(c)||(c=c.child(""));const d=new Le(new pt(c),0);let g=new Oe(Mt);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Yr)),!0)}),d),tt.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ft(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return tt.forEach(i.mutations,(o=>{const c=new Le(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Le(i,0),o=this.Zr.firstAfterOrEqual(s);return tt.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,tt.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e){this.ri=e,this.docs=(function(){return new oe(pt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return tt.resolve(s?s.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(e,i){let s=Ji();return i.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():$e.newInvalidDocument(o))})),tt.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=Ji();const d=i.path,g=new pt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||$S(XS(E),s)<=0||(o.has(E.key)||Qc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return tt.resolve(c)}getAllFromCollectionGroup(e,i,s,o){Et(9500)}ii(e,i){return tt.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new Aw(this)}getSize(e){return tt.resolve(this.size)}}class Aw extends gw{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),tt.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e){this.persistence=e,this.si=new Vr((i=>lm(i)),om),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new gm,this.targetCount=0,this.ai=Ls.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),tt.resolve()}getLastRemoteSnapshotVersion(e){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tt.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),tt.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Ls(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,tt.resolve()}updateTargetData(e,i){return this.Pr(i),tt.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,tt.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),tt.waitFor(c).next((()=>o))}getTargetCount(e){return tt.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return tt.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),tt.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),tt.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),tt.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return tt.resolve(s)}containsKey(e,i){return tt.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,i){this.ui={},this.overlays={},this.ci=new qc(0),this.li=!1,this.li=!0,this.hi=new Ew,this.referenceDelegate=e(this),this.Pi=new Sw(this),this.indexManager=new ow,this.remoteDocumentCache=(function(o){return new bw(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new sw(i),this.Ii=new _w(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new vw,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new Tw(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){ut("MemoryPersistence","Starting transaction:",e);const o=new ww(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return tt.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class ww extends JS{constructor(e){super(),this.currentSequenceNumber=e}}class pm{constructor(e){this.persistence=e,this.Ri=new gm,this.Vi=null}static mi(e){return new pm(e)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),tt.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),tt.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.fi,(s=>{const o=pt.fromPath(s);return this.gi(e,o).next((c=>{c||i.removeEntry(o,bt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return tt.or([()=>tt.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Vc{constructor(e,i){this.persistence=e,this.pi=new Vr((s=>e2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=mw(this,i)}static mi(e,i){return new Vc(e,i)}Ei(){}di(e){return tt.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return tt.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?tt.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(s++,c.removeEntry(d,bt.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),tt.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),tt.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),tt.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),tt.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=pc(e.data.value)),i}br(e,i,s){return tt.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return tt.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=jt(),o=jt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new ym(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return vA()?8:WS(yA())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new xw;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(ws()<=kt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",xs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),tt.resolve()):(ws()<=kt.DEBUG&&ut("QueryEngine","Query:",xs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ws()<=kt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",xs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vi(i))):tt.resolve())}ys(e,i){if($_(i))return tt.resolve(null);let s=vi(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=jd(i,null,"F"),s=vi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=jt(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.Ds(i,g);return this.Cs(i,y,d,p.readTime)?this.ys(e,jd(i,null,"F")):this.vs(e,y,i,p)}))))})))))}ws(e,i,s,o){return $_(i)||o.isEqual(bt.min())?tt.resolve(null):this.ps.getDocuments(e,s).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,o)?tt.resolve(null):(ws()<=kt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xs(i)),this.vs(e,d,i,KS(o,mo)).next((g=>g)))}))}Ds(e,i){let s=new Oe(j0(e));return i.forEach(((o,c)=>{Qc(e,c)&&(s=s.add(c))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,s){return ws()<=kt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",xs(i)),this.ps.getDocumentsMatchingQuery(e,i,Pa.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="LocalStore",Cw=3e8;class Nw{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new oe(Mt),this.xs=new Vr((c=>lm(c)),om),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Dw(r,e,i,s){return new Nw(r,e,i,s)}async function aE(r,e){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],g=[];let p=jt();for(const y of o){d.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return i.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function Iw(r,e){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,y,E){const A=y.batch,w=A.keys();let j=tt.resolve();return w.forEach((Q=>{j=j.next((()=>E.getEntry(p,Q))).next(($=>{const H=y.docVersions.get(Q);Ft(H!==null,48541),$.version.compareTo(H)<0&&(A.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),E.addEntry($)))}))})),j.next((()=>g.mutationQueue.removeMutationBatch(p,A)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let p=jt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function rE(r){const e=St(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function Vw(r,e){const i=St(r),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((E,A)=>{const w=o.get(A);if(!w)return;g.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,A))));let j=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?j=j.withResumeToken(Qe.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):E.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(E.resumeToken,s)),o=o.insert(A,j),(function($,H,et){return $.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=Cw?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0})(w,j,E)&&g.push(i.Pi.updateTargetData(c,j))}));let p=Ji(),y=jt();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(Ow(c,d,e.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!s.isEqual(bt.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(E)}return tt.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,p,y))).next((()=>p))})).then((c=>(i.Ms=o,c)))}function Ow(r,e,i){let s=jt(),o=jt();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let d=Ji();return i.forEach(((g,p)=>{const y=c.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(bt.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):ut(_m,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)})),{ks:d,qs:o}}))}function Mw(r,e){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=am),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function jw(r,e){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((c=>c?(o=c,tt.resolve(o)):i.Pi.allocateTargetId(s).next((d=>(o=new Ma(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function Pd(r,e,i){const s=St(r),o=s.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Hs(d))throw d;ut(_m,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function uv(r,e,i){const s=St(r);let o=bt.min(),c=jt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,y,E){const A=St(p),w=A.xs.get(E);return w!==void 0?tt.resolve(A.Ms.get(w)):A.Pi.getTargetData(y,E)})(s,d,vi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((p=>{c=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:bt.min(),i?c:jt()))).next((g=>(Uw(s,E2(e),g),{documents:g,Qs:c})))))}function Uw(r,e,i){let s=r.Os.get(e)||bt.min();i.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(e,s)}class cv{constructor(){this.activeTargetIds=x2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Lw{constructor(){this.Mo=new cv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new cv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="ConnectivityMonitor";class fv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(hv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ut(hv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc=null;function Bd(){return fc===null?fc=(function(){return 268435456+Math.round(2147483648*Math.random())})():fc++,"0x"+fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="RestConnection",kw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Pw{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Rc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,c){const d=Bd(),g=this.zo(e,i.toUriEncodedString());ut(_d,`Sending RPC '${e}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,c);const{host:y}=new URL(g),E=tm(y);return this.Jo(e,g,p,s,E).then((A=>(ut(_d,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw Os(_d,`RPC '${e}' ${d} failed with error: `,A,"url: ",g,"request:",s),A}))}Ho(e,i,s,o,c,d){return this.Go(e,i,s,o,c)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const s=kw[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class qw extends Pw{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,c){const d=Bd();return new Promise(((g,p)=>{const y=new o0;y.setWithCredentials(!0),y.listenOnce(u0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case gc.NO_ERROR:const A=y.getResponseJson();ut(Ke,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),g(A);break;case gc.TIMEOUT:ut(Ke,`RPC '${e}' ${d} timed out`),p(new ot(J.DEADLINE_EXCEEDED,"Request time out"));break;case gc.HTTP_ERROR:const w=y.getStatus();if(ut(Ke,`RPC '${e}' ${d} failed with status:`,w,"response text:",y.getResponseText()),w>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const Q=j==null?void 0:j.error;if(Q&&Q.status&&Q.message){const $=(function(et){const at=et.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(at)>=0?at:J.UNKNOWN})(Q.status);p(new ot($,Q.message))}else p(new ot(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ot(J.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ut(Ke,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);ut(Ke,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",E,s,15)}))}T_(e,i,s){const o=Bd(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=f0(),g=h0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const E=c.join("");ut(Ke,`Creating RPC '${e}' stream ${o}: ${E}`,p);const A=d.createWebChannel(E,p);this.I_(A);let w=!1,j=!1;const Q=new Bw({Yo:H=>{j?ut(Ke,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(w||(ut(Ke,`Opening RPC '${e}' stream ${o} transport.`),A.open(),w=!0),ut(Ke,`RPC '${e}' stream ${o} sending:`,H),A.send(H))},Zo:()=>A.close()}),$=(H,et,at)=>{H.listen(et,(nt=>{try{at(nt)}catch(ft){setTimeout((()=>{throw ft}),0)}}))};return $(A,to.EventType.OPEN,(()=>{j||(ut(Ke,`RPC '${e}' stream ${o} transport opened.`),Q.o_())})),$(A,to.EventType.CLOSE,(()=>{j||(j=!0,ut(Ke,`RPC '${e}' stream ${o} transport closed`),Q.a_(),this.E_(A))})),$(A,to.EventType.ERROR,(H=>{j||(j=!0,Os(Ke,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),Q.a_(new ot(J.UNAVAILABLE,"The operation could not be completed")))})),$(A,to.EventType.MESSAGE,(H=>{var et;if(!j){const at=H.data[0];Ft(!!at,16349);const nt=at,ft=(nt==null?void 0:nt.error)||((et=nt[0])==null?void 0:et.error);if(ft){ut(Ke,`RPC '${e}' stream ${o} received error:`,ft);const yt=ft.status;let vt=(function(R){const M=xe[R];if(M!==void 0)return Q0(M)})(yt),C=ft.message;vt===void 0&&(vt=J.INTERNAL,C="Unknown error status: "+yt+" with message "+ft.message),j=!0,Q.a_(new ot(vt,C)),A.close()}else ut(Ke,`RPC '${e}' stream ${o} received:`,at),Q.u_(at)}})),$(g,c0.STAT_EVENT,(H=>{H.stat===Cd.PROXY?ut(Ke,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===Cd.NOPROXY&&ut(Ke,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Q.__()}),0),Q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function vd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(r){return new Q2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="PersistentStream";class lE{constructor(e,i,s,o,c,d,g,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?($i(i.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new ot(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ut(dv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ut(dv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Hw extends lE{constructor(e,i,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=X2(this.serializer,e),s=(function(c){if(!("targetChange"in c))return bt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?Ei(d.readTime):bt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=kd(this.serializer),i.addTarget=(function(c,d){let g;const p=d.target;if(g=Od(p)?{documents:J2(c,p)}:{query:W2(c,p).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=X0(c,d.resumeToken);const y=Ud(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(bt.min())>0){g.readTime=Ic(c,d.snapshotVersion.toTimestamp());const y=Ud(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const s=ew(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=kd(this.serializer),i.removeTarget=e,this.q_(i)}}class Fw extends lE{constructor(e,i,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Z2(e.writeResults,e.commitTime),s=Ei(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=kd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>$2(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{}class Qw extends Gw{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Ld(i,s),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot(J.UNKNOWN,c.toString())}))}Ho(e,i,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,Ld(i,s),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Yw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($i(i),this.aa=!1):ut("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="RemoteStore";class Kw{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Or(this)&&(ut(Dr,"Restarting streams for network reachability change."),await(async function(p){const y=St(p);y.Ea.add(4),await Co(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Zc(y)})(this))}))})),this.Ra=new Yw(s,o)}}async function Zc(r){if(Or(r))for(const e of r.da)await e(!0)}async function Co(r){for(const e of r.da)await e(!1)}function oE(r,e){const i=St(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),bm(i)?Tm(i):Gs(i).O_()&&Em(i,e))}function vm(r,e){const i=St(r),s=Gs(i);i.Ia.delete(e),s.O_()&&uE(i,e),i.Ia.size===0&&(s.O_()?s.L_():Or(i)&&i.Ra.set("Unknown"))}function Em(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Gs(r).Y_(e)}function uE(r,e){r.Va.Ue(e),Gs(r).Z_(e)}function Tm(r){r.Va=new q2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Gs(r).start(),r.Ra.ua()}function bm(r){return Or(r)&&!Gs(r).x_()&&r.Ia.size>0}function Or(r){return St(r).Ea.size===0}function cE(r){r.Va=void 0}async function Xw(r){r.Ra.set("Online")}async function $w(r){r.Ia.forEach(((e,i)=>{Em(r,e)}))}async function Zw(r,e){cE(r),bm(r)?(r.Ra.ha(e),Tm(r)):r.Ra.set("Unknown")}async function Jw(r,e,i){if(r.Ra.set("Online"),e instanceof K0&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(r,e)}catch(s){ut(Dr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Oc(r,s)}else if(e instanceof vc?r.Va.Ze(e):e instanceof Y0?r.Va.st(e):r.Va.tt(e),!i.isEqual(bt.min()))try{const s=await rE(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(p.resumeToken,d))}})),g.targetMismatches.forEach(((p,y)=>{const E=c.Ia.get(p);if(!E)return;c.Ia.set(p,E.withResumeToken(Qe.EMPTY_BYTE_STRING,E.snapshotVersion)),uE(c,p);const A=new Ma(E.target,p,y,E.sequenceNumber);Em(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){ut(Dr,"Failed to raise snapshot:",s),await Oc(r,s)}}async function Oc(r,e,i){if(!Hs(e))throw e;r.Ea.add(1),await Co(r),r.Ra.set("Offline"),i||(i=()=>rE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ut(Dr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Zc(r)}))}function hE(r,e){return e().catch((i=>Oc(r,i,e)))}async function Jc(r){const e=St(r),i=Fa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:am;for(;Ww(e);)try{const o=await Mw(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,tx(e,o)}catch(o){await Oc(e,o)}fE(e)&&dE(e)}function Ww(r){return Or(r)&&r.Ta.length<10}function tx(r,e){r.Ta.push(e);const i=Fa(r);i.O_()&&i.X_&&i.ea(e.mutations)}function fE(r){return Or(r)&&!Fa(r).x_()&&r.Ta.length>0}function dE(r){Fa(r).start()}async function ex(r){Fa(r).ra()}async function nx(r){const e=Fa(r);for(const i of r.Ta)e.ea(i.mutations)}async function ix(r,e,i){const s=r.Ta.shift(),o=fm.from(s,e,i);await hE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Jc(r)}async function ax(r,e){e&&Fa(r).X_&&await(async function(s,o){if((function(d){return k2(d)&&d!==J.ABORTED})(o.code)){const c=s.Ta.shift();Fa(s).B_(),await hE(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Jc(s)}})(r,e),fE(r)&&dE(r)}async function mv(r,e){const i=St(r);i.asyncQueue.verifyOperationInProgress(),ut(Dr,"RemoteStore received new credentials");const s=Or(i);i.Ea.add(3),await Co(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Zc(i)}async function rx(r,e){const i=St(r);e?(i.Ea.delete(2),await Zc(i)):e||(i.Ea.add(2),await Co(i),i.Ra.set("Unknown"))}function Gs(r){return r.ma||(r.ma=(function(i,s,o){const c=St(i);return c.sa(),new Hw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:Xw.bind(null,r),t_:$w.bind(null,r),r_:Zw.bind(null,r),H_:Jw.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),bm(r)?Tm(r):r.Ra.set("Unknown")):(await r.ma.stop(),cE(r))}))),r.ma}function Fa(r){return r.fa||(r.fa=(function(i,s,o){const c=St(i);return c.sa(),new Fw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:ex.bind(null,r),r_:ax.bind(null,r),ta:nx.bind(null,r),na:ix.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Jc(r)):(await r.fa.stop(),r.Ta.length>0&&(ut(Dr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const d=Date.now()+s,g=new Am(e,i,d,o,c);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sm(r,e){if($i("AsyncQueue",`${e}: ${r}`),Hs(r))return new ot(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{static emptySet(e){return new Ds(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||pt.comparator(i.key,s.key):(i,s)=>pt.comparator(i.key,s.key),this.keyedMap=eo(),this.sortedSet=new oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ds)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Ds;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(){this.ga=new oe(pt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Et(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class zs{constructor(e,i,s,o,c,d,g,p,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new zs(e,i,Ds.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class lx{constructor(){this.queries=pv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=St(i),c=o.queries;o.queries=pv(),c.forEach(((d,g)=>{for(const p of g.Sa)p.onError(s)}))})(this,new ot(J.ABORTED,"Firestore shutting down"))}}function pv(){return new Vr((r=>M0(r)),Gc)}async function mE(r,e){const i=St(r);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new sx,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Sm(d,`Initialization of query '${xs(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&wm(i)}async function gE(r,e){const i=St(r),s=e.query;let o=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function ox(r,e){const i=St(r);let s=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(s=!0);d.wa=o}}s&&wm(i)}function ux(r,e,i){const s=St(r),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);s.queries.delete(e)}function wm(r){r.Ca.forEach((e=>{e.next()}))}var qd,yv;(yv=qd||(qd={})).Ma="default",yv.Cache="cache";class pE{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new zs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=zs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e){this.key=e}}class _E{constructor(e){this.key=e}}class cx{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=jt(),this.mutatedKeys=jt(),this.eu=j0(e),this.tu=new Ds(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new gv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,A)=>{const w=o.get(E),j=Qc(this.query,A)?A:null,Q=!!w&&this.mutatedKeys.has(w.key),$=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let H=!1;w&&j?w.data.isEqual(j.data)?Q!==$&&(s.track({type:3,doc:j}),H=!0):this.su(w,j)||(s.track({type:2,doc:j}),H=!0,(p&&this.eu(j,p)>0||y&&this.eu(j,y)<0)&&(g=!0)):!w&&j?(s.track({type:0,doc:j}),H=!0):w&&!j&&(s.track({type:1,doc:w}),H=!0,(p||y)&&(g=!0)),H&&(j?(d=d.add(j),c=$?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:d,iu:s,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,A)=>(function(j,Q){const $=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:H})}};return $(j)-$(Q)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(s),o=o??!1;const g=i&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,d.length!==0||y?{snapshot:new zs(this.query,e.tu,c,d,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=jt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new _E(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new yE(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=jt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return zs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xm="SyncEngine";class hx{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class fx{constructor(e){this.key=e,this.hu=!1}}class dx{constructor(e,i,s,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Vr((g=>M0(g)),Gc),this.Iu=new Map,this.Eu=new Set,this.du=new oe(pt.comparator),this.Au=new Map,this.Ru=new gm,this.Vu={},this.mu=new Map,this.fu=Ls.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mx(r,e,i=!0){const s=SE(r);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await vE(s,e,i,!0),o}async function gx(r,e){const i=SE(r);await vE(i,e,!0,!1)}async function vE(r,e,i,s){const o=await jw(r.localStore,vi(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await px(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&oE(r.remoteStore,o),g}async function px(r,e,i,s,o){r.pu=(A,w,j)=>(async function($,H,et,at){let nt=H.view.ru(et);nt.Cs&&(nt=await uv($.localStore,H.query,!1).then((({documents:C})=>H.view.ru(C,nt))));const ft=at&&at.targetChanges.get(H.targetId),yt=at&&at.targetMismatches.get(H.targetId)!=null,vt=H.view.applyChanges(nt,$.isPrimaryClient,ft,yt);return vv($,H.targetId,vt.au),vt.snapshot})(r,A,w,j);const c=await uv(r.localStore,e,!0),d=new cx(e,c.Qs),g=d.ru(c.documents),p=Ro.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),y=d.applyChanges(g,r.isPrimaryClient,p);vv(r,i,y.au);const E=new hx(e,i,d);return r.Tu.set(e,E),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),y.snapshot}async function yx(r,e,i){const s=St(r),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((d=>!Gc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Pd(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&vm(s.remoteStore,o.targetId),Hd(s,o.targetId)})).catch(qs)):(Hd(s,o.targetId),await Pd(s.localStore,o.targetId,!0))}async function _x(r,e){const i=St(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),vm(i.remoteStore,s.targetId))}async function vx(r,e,i){const s=xx(r);try{const o=await(function(d,g){const p=St(d),y=ie.now(),E=g.reduce(((j,Q)=>j.add(Q.key)),jt());let A,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let Q=Ji(),$=jt();return p.Ns.getEntries(j,E).next((H=>{Q=H,Q.forEach(((et,at)=>{at.isValidDocument()||($=$.add(et))}))})).next((()=>p.localDocuments.getOverlayedDocuments(j,Q))).next((H=>{A=H;const et=[];for(const at of g){const nt=M2(at,A.get(at.key).overlayedDocument);nt!=null&&et.push(new Ka(at.key,nt,x0(nt.value.mapValue),Qn.exists(!0)))}return p.mutationQueue.addMutationBatch(j,y,et,g)})).next((H=>{w=H;const et=H.applyToLocalDocumentSet(A,$);return p.documentOverlayCache.saveOverlays(j,H.batchId,et)}))})).then((()=>({batchId:w.batchId,changes:L0(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,g,p){let y=d.Vu[d.currentUser.toKey()];y||(y=new oe(Mt)),y=y.insert(g,p),d.Vu[d.currentUser.toKey()]=y})(s,o.batchId,i),await No(s,o.changes),await Jc(s.remoteStore)}catch(o){const c=Sm(o,"Failed to persist write");i.reject(c)}}async function EE(r,e){const i=St(r);try{const s=await Vw(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ft(d.hu,14607):o.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await No(i,s,e)}catch(s){await qs(s)}}function _v(r,e,i){const s=St(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const p=St(d);p.onlineState=g;let y=!1;p.queries.forEach(((E,A)=>{for(const w of A.Sa)w.va(g)&&(y=!0)})),y&&wm(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Ex(r,e,i){const s=St(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),c=o&&o.key;if(c){let d=new oe(pt.comparator);d=d.insert(c,$e.newNoDocument(c,bt.min()));const g=jt().add(c),p=new Xc(bt.min(),new Map,new oe(Mt),d,g);await EE(s,p),s.du=s.du.remove(c),s.Au.delete(e),Rm(s)}else await Pd(s.localStore,e,!1).then((()=>Hd(s,e,i))).catch(qs)}async function Tx(r,e){const i=St(r),s=e.batch.batchId;try{const o=await Iw(i.localStore,e);bE(i,s,null),TE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await No(i,o)}catch(o){await qs(o)}}async function bx(r,e,i){const s=St(r);try{const o=await(function(d,g){const p=St(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,g).next((A=>(Ft(A!==null,37113),E=A.keys(),p.mutationQueue.removeMutationBatch(y,A)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);bE(s,e,i),TE(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await No(s,o)}catch(o){await qs(o)}}function TE(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function bE(r,e,i){const s=St(r);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Hd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||AE(r,s)}))}function AE(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(vm(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Rm(r))}function vv(r,e,i){for(const s of i)s instanceof yE?(r.Ru.addReference(s.key,e),Ax(r,s)):s instanceof _E?(ut(xm,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||AE(r,s.key)):Et(19791,{wu:s})}function Ax(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(ut(xm,"New document in limbo: "+i),r.Eu.add(s),Rm(r))}function Rm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new pt(te.fromString(e)),s=r.fu.next();r.Au.set(s,new fx(i)),r.du=r.du.insert(i,s),oE(r.remoteStore,new Ma(vi(um(i.path)),s,"TargetPurposeLimboResolution",qc.ce))}}async function No(r,e,i){const s=St(r),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,p)=>{d.push(s.pu(p,e,i).then((y=>{var E;if((y||i)&&s.isPrimaryClient){const A=y?!y.fromCache:(E=i==null?void 0:i.targetChanges.get(p.targetId))==null?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(y){o.push(y);const A=ym.As(p.targetId,y);c.push(A)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(p,y){const E=St(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>tt.forEach(y,(w=>tt.forEach(w.Es,(j=>E.persistence.referenceDelegate.addReference(A,w.targetId,j))).next((()=>tt.forEach(w.ds,(j=>E.persistence.referenceDelegate.removeReference(A,w.targetId,j)))))))))}catch(A){if(!Hs(A))throw A;ut(_m,"Failed to update sequence numbers: "+A)}for(const A of y){const w=A.targetId;if(!A.fromCache){const j=E.Ms.get(w),Q=j.snapshotVersion,$=j.withLastLimboFreeSnapshotVersion(Q);E.Ms=E.Ms.insert(w,$)}}})(s.localStore,c))}async function Sx(r,e){const i=St(r);if(!i.currentUser.isEqual(e)){ut(xm,"User change. New user:",e.toKey());const s=await aE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((p=>{p.reject(new ot(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await No(i,s.Ls)}}function wx(r,e){const i=St(r),s=i.Au.get(e);if(s&&s.hu)return jt().add(s.key);{let o=jt();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function SE(r){const e=St(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=EE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ex.bind(null,e),e.Pu.H_=ox.bind(null,e.eventManager),e.Pu.yu=ux.bind(null,e.eventManager),e}function xx(r){const e=St(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Tx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bx.bind(null,e),e}class Mc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$c(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Dw(this.persistence,new Rw,e.initialUser,this.serializer)}Cu(e){return new iE(pm.mi,this.serializer)}Du(e){return new Lw}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mc.provider={build:()=>new Mc};class Rx extends Mc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ft(this.persistence.referenceDelegate instanceof Vc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new fw(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new iE((s=>Vc.mi(s,i)),this.serializer)}}class Fd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>_v(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sx.bind(null,this.syncEngine),await rx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lx})()}createDatastore(e){const i=$c(e.databaseInfo.databaseId),s=(function(c){return new qw(c)})(e.databaseInfo);return(function(c,d,g,p){return new Qw(c,d,g,p)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,c,d,g){return new Kw(s,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>_v(this.syncEngine,i,0)),(function(){return fv.v()?new fv:new zw})())}createSyncEngine(e,i){return(function(o,c,d,g,p,y,E){const A=new dx(o,c,d,g,p,y);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const c=St(o);ut(Dr,"RemoteStore shutting down."),c.Ea.add(5),await Co(c),c.Aa.shutdown(),c.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}Fd.provider={build:()=>new Fd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="FirestoreClient";class Cx{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Xe.UNAUTHENTICATED,this.clientId=im.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{ut(Ga,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ut(Ga,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Sm(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Ed(r,e){r.asyncQueue.verifyOperationInProgress(),ut(Ga,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await aE(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Ev(r,e){r.asyncQueue.verifyOperationInProgress();const i=await Nx(r);ut(Ga,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>mv(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>mv(e.remoteStore,o))),r._onlineComponents=e}async function Nx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ut(Ga,"Using user provided OfflineComponentProvider");try{await Ed(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Os("Error using user provided cache. Falling back to memory cache: "+i),await Ed(r,new Mc)}}else ut(Ga,"Using default OfflineComponentProvider"),await Ed(r,new Rx(void 0));return r._offlineComponents}async function xE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ut(Ga,"Using user provided OnlineComponentProvider"),await Ev(r,r._uninitializedComponentsProvider._online)):(ut(Ga,"Using default OnlineComponentProvider"),await Ev(r,new Fd))),r._onlineComponents}function Dx(r){return xE(r).then((e=>e.syncEngine))}async function RE(r){const e=await xE(r),i=e.eventManager;return i.onListen=mx.bind(null,e.syncEngine),i.onUnlisten=yx.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=gx.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=_x.bind(null,e.syncEngine),i}function Ix(r,e,i={}){const s=new Qi;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,p,y){const E=new wE({next:w=>{E.Nu(),d.enqueueAndForget((()=>gE(c,A)));const j=w.docs.has(g);!j&&w.fromCache?y.reject(new ot(J.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&w.fromCache&&p&&p.source==="server"?y.reject(new ot(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),A=new pE(um(g.path),E,{includeMetadataChanges:!0,qa:!0});return mE(c,A)})(await RE(r),r.asyncQueue,e,i,s))),s.promise}function Vx(r,e,i={}){const s=new Qi;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,p,y){const E=new wE({next:w=>{E.Nu(),d.enqueueAndForget((()=>gE(c,A))),w.fromCache&&p.source==="server"?y.reject(new ot(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),A=new pE(g,E,{includeMetadataChanges:!0,qa:!0});return mE(c,A)})(await RE(r),r.asyncQueue,e,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="firestore.googleapis.com",bv=!0;class Av{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ot(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NE,this.ssl=bv}else this.host=e.host,this.ssl=e.ssl??bv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cw)throw new ot(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Av({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Av(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new LS;switch(s.type){case"firstParty":return new BS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=Tv.get(i);s&&(ut("ComponentProvider","Removing Datastore"),Tv.delete(i),s.terminate())})(this),Promise.resolve()}}function Ox(r,e,i,s={}){var y;r=Zi(r,Wc);const o=tm(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;o&&(fA(`https://${g}`),pA("Firestore",!0)),c.host!==NE&&c.host!==g&&Os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:g,ssl:o,emulatorOptions:s};if(!Ac(p,d)&&(r._setSettings(p),s.mockUserToken)){let E,A;if(typeof s.mockUserToken=="string")E=s.mockUserToken,A=Xe.MOCK_USER;else{E=dA(s.mockUserToken,(y=r._app)==null?void 0:y.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ot(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Xe(w)}r._authCredentials=new zS(new m0(E,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Mr(this.firestore,e,this._query)}}class Ne{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ne(this.firestore,e,this._key)}toJSON(){return{type:Ne._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(wo(i,Ne._jsonSchema))return new Ne(e,s||null,new pt(te.fromString(i.referencePath)))}}Ne._jsonSchemaVersion="firestore/documentReference/1.0",Ne._jsonSchema={type:Ce("string",Ne._jsonSchemaVersion),referencePath:Ce("string")};class za extends Mr{constructor(e,i,s){super(e,i,um(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ne(this.firestore,null,new pt(e))}withConverter(e){return new za(this.firestore,e,this._path)}}function Is(r,e,...i){if(r=Ki(r),g0("collection","path",e),r instanceof Wc){const s=te.fromString(e,...i);return U_(s),new za(r,null,s)}{if(!(r instanceof Ne||r instanceof za))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(e,...i));return U_(s),new za(r.firestore,null,s)}}function uo(r,e,...i){if(r=Ki(r),arguments.length===1&&(e=im.newId()),g0("doc","path",e),r instanceof Wc){const s=te.fromString(e,...i);return j_(s),new Ne(r,null,new pt(s))}{if(!(r instanceof Ne||r instanceof za))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(e,...i));return j_(s),new Ne(r.firestore,r instanceof za?r.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="AsyncQueue";class wv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sE(this,"async_queue_retry"),this._c=()=>{const s=vd();s&&ut(Sv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=vd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=vd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Qi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Hs(e))throw e;ut(Sv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,$i("INTERNAL UNHANDLED ERROR: ",xv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Am.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Et(47125,{Pc:xv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function xv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Qs extends Wc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new wv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wv(e),this._firestoreClient=void 0,await e}}}function Mx(r,e){const i=typeof r=="object"?r:xS(),s=typeof r=="string"?r:Rc,o=TS(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=cA("firestore");c&&Ox(o,...c)}return o}function Cm(r){if(r._terminated)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||jx(r),r._firestoreClient}function jx(r){var s,o,c;const e=r._freezeSettings(),i=(function(g,p,y,E){return new a2(g,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,CE(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Cx(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Qe.fromBase64String(e))}catch(i){throw new ot(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new On(Qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wo(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:Ce("string",On._jsonSchemaVersion),bytes:Ce("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ot(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ot(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ot(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ti._jsonSchemaVersion}}static fromJSON(e){if(wo(e,Ti._jsonSchema))return new Ti(e.latitude,e.longitude)}}Ti._jsonSchemaVersion="firestore/geoPoint/1.0",Ti._jsonSchema={type:Ce("string",Ti._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wo(e,bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new bi(e.vectorValues);throw new ot(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bi._jsonSchemaVersion="firestore/vectorValue/1.0",bi._jsonSchema={type:Ce("string",bi._jsonSchemaVersion),vectorValues:Ce("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=/^__.*__$/;class Lx{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ka(e,this.data,this.fieldMask,i,this.fieldTransforms):new xo(e,this.data,i,this.fieldTransforms)}}class DE{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Ka(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function IE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:r})}}class Nm{constructor(e,i,s,o,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Nm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return jc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(IE(this.Ac)&&Ux.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class zx{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||$c(e)}Cc(e,i,s,o=!1){return new Nm({Ac:e,methodName:i,Dc:s,path:Ge.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dm(r){const e=r._freezeSettings(),i=$c(r._databaseId);return new zx(r._databaseId,!!e.ignoreUndefinedProperties,i)}function kx(r,e,i,s,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,o);Vm("Data must be an object, but it was:",d,s);const g=VE(s,d);let p,y;if(c.merge)p=new vn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const A of c.mergeFields){const w=Gd(e,A,i);if(!d.contains(w))throw new ot(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);ME(E,w)||E.push(w)}p=new vn(E),y=d.fieldTransforms.filter((A=>p.covers(A.field)))}else p=null,y=d.fieldTransforms;return new Lx(new un(g),p,y)}class nh extends eh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nh}}class Im extends eh{_toFieldTransform(e){return new D2(e.path,new vo)}isEqual(e){return e instanceof Im}}function Px(r,e,i,s){const o=r.Cc(1,e,i);Vm("Data must be an object, but it was:",o,s);const c=[],d=un.empty();Ya(s,((p,y)=>{const E=Om(e,p,i);y=Ki(y);const A=o.yc(E);if(y instanceof nh)c.push(E);else{const w=Do(y,A);w!=null&&(c.push(E),d.set(E,w))}}));const g=new vn(c);return new DE(d,g,o.fieldTransforms)}function Bx(r,e,i,s,o,c){const d=r.Cc(1,e,i),g=[Gd(e,s,i)],p=[o];if(c.length%2!=0)throw new ot(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)g.push(Gd(e,c[w])),p.push(c[w+1]);const y=[],E=un.empty();for(let w=g.length-1;w>=0;--w)if(!ME(y,g[w])){const j=g[w];let Q=p[w];Q=Ki(Q);const $=d.yc(j);if(Q instanceof nh)y.push(j);else{const H=Do(Q,$);H!=null&&(y.push(j),E.set(j,H))}}const A=new vn(y);return new DE(E,A,d.fieldTransforms)}function qx(r,e,i,s=!1){return Do(i,r.Cc(s?4:3,e))}function Do(r,e){if(OE(r=Ki(r)))return Vm("Unsupported field value:",e,r),VE(r,e);if(r instanceof eh)return(function(s,o){if(!IE(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let d=0;for(const g of s){let p=Do(g,o.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}})(r,e)}return(function(s,o){if((s=Ki(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return R2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ie.fromDate(s);return{timestampValue:Ic(o.serializer,c)}}if(s instanceof ie){const c=new ie(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ic(o.serializer,c)}}if(s instanceof Ti)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof On)return{bytesValue:X0(o.serializer,s._byteString)};if(s instanceof Ne){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:mm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof bi)return(function(d,g){return{mapValue:{fields:{[S0]:{stringValue:w0},[Cc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return cm(g.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Bc(s)}`)})(r,e)}function VE(r,e){const i={};return _0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ya(r,((s,o)=>{const c=Do(o,e.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function OE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ie||r instanceof Ti||r instanceof On||r instanceof Ne||r instanceof eh||r instanceof bi)}function Vm(r,e,i){if(!OE(i)||!p0(i)){const s=Bc(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Gd(r,e,i){if((e=Ki(e))instanceof th)return e._internalPath;if(typeof e=="string")return Om(r,e);throw jc("Field path arguments must be of type string or ",r,!1,void 0,i)}const Hx=new RegExp("[~\\*/\\[\\]]");function Om(r,e,i){if(e.search(Hx)>=0)throw jc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new th(...e.split("."))._internalPath}catch{throw jc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function jc(r,e,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new ot(J.INVALID_ARGUMENT,g+r+p)}function ME(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Fx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(ih("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Fx extends jE{data(){return super.data()}}function ih(r,e){return typeof e=="string"?Om(r,e):e instanceof th?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mm{}class UE extends Mm{}function Uc(r,e,...i){let s=[];e instanceof Mm&&s.push(e),s=s.concat(i),(function(c){const d=c.filter((p=>p instanceof jm)).length,g=c.filter((p=>p instanceof ah)).length;if(d>1||d>0&&g>0)throw new ot(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class ah extends UE{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new ah(e,i,s)}_apply(e){const i=this._parse(e);return LE(e._query,i),new Mr(e.firestore,e.converter,Md(e._query,i))}_parse(e){const i=Dm(e.firestore);return(function(c,d,g,p,y,E,A){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ot(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Cv(A,E);const Q=[];for(const $ of A)Q.push(Rv(p,c,$));w={arrayValue:{values:Q}}}else w=Rv(p,c,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Cv(A,E),w=qx(g,d,A,E==="in"||E==="not-in");return Re.create(y,E,w)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Qx(r,e,i){const s=e,o=ih("where",r);return ah._create(o,s,i)}class jm extends Mm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new jm(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Kn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let d=o;const g=c.getFlattenedFilters();for(const p of g)LE(d,p),d=Md(d,p)})(e._query,i),new Mr(e.firestore,e.converter,Md(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Um extends UE{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Um(e,i)}_apply(e){const i=(function(o,c,d){if(o.startAt!==null)throw new ot(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ot(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _o(c,d)})(e._query,this._field,this._direction);return new Mr(e.firestore,e.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new Fs(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function Qd(r,e="asc"){const i=e,s=ih("orderBy",r);return Um._create(s,i)}function Rv(r,e,i){if(typeof(i=Ki(i))=="string"){if(i==="")throw new ot(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!O0(e)&&i.indexOf("/")!==-1)throw new ot(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(te.fromString(i));if(!pt.isDocumentKey(s))throw new ot(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return F_(r,new pt(s))}if(i instanceof Ne)return F_(r,i._key);throw new ot(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bc(i)}.`)}function Cv(r,e){if(!Array.isArray(r)||r.length===0)throw new ot(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LE(r,e){const i=(function(o,c){for(const d of o)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ot(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ot(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class Yx{convertValue(e,i="none"){switch(Ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Et(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ya(e,((o,c)=>{s[o]=this.convertValue(c,i)})),s}convertVectorValue(e){var s,o,c;const i=(c=(o=(s=e.fields)==null?void 0:s[Cc].arrayValue)==null?void 0:o.values)==null?void 0:c.map((d=>pe(d.doubleValue)));return new bi(i)}convertGeoPoint(e){return new Ti(pe(e.latitude),pe(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Fc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(go(e));default:return null}}convertTimestamp(e){const i=Ba(e);return new ie(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=te.fromString(e);Ft(eE(s),9688,{name:e});const o=new po(s.get(1),s.get(3)),c=new pt(s.popFirst(5));return o.isEqual(i)||$i(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class io{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cr extends jE{constructor(e,i,s,o,c,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(ih("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Cr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Cr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Cr._jsonSchema={type:Ce("string",Cr._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Ec extends Cr{data(e={}){return super.data(e)}}class Vs{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new io(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Ec(this._firestore,this._userDataWriter,s.key,s,new io(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const p=new Ec(o._firestore,o._userDataWriter,g.doc.key,g.doc,new io(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const p=new Ec(o._firestore,o._userDataWriter,g.doc.key,g.doc,new io(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:Xx(g.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=im.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Xx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(r){r=Zi(r,Ne);const e=Zi(r.firestore,Qs);return Ix(Cm(e),r._key).then((i=>Jx(e,r,i)))}Vs._jsonSchemaVersion="firestore/querySnapshot/1.0",Vs._jsonSchema={type:Ce("string",Vs._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class zE extends Yx{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ne(this.firestore,null,i)}}function Lc(r){r=Zi(r,Mr);const e=Zi(r.firestore,Qs),i=Cm(e),s=new zE(e);return Gx(r._query),Vx(i,r._query).then((o=>new Vs(e,s,r,o)))}function Nv(r,e,i,...s){r=Zi(r,Ne);const o=Zi(r.firestore,Qs),c=Dm(o);let d;return d=typeof(e=Ki(e))=="string"||e instanceof th?Bx(c,"updateDoc",r._key,e,i,s):Px(c,"updateDoc",r._key,e),Lm(o,[d.toMutation(r._key,Qn.exists(!0))])}function Zx(r){return Lm(Zi(r.firestore,Qs),[new hm(r._key,Qn.none())])}function kE(r,e){const i=Zi(r.firestore,Qs),s=uo(r),o=Kx(r.converter,e);return Lm(i,[kx(Dm(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Qn.exists(!1))]).then((()=>s))}function Lm(r,e){return(function(s,o){const c=new Qi;return s.asyncQueue.enqueueAndForget((async()=>vx(await Dx(s),o,c))),c.promise})(Cm(r),e)}function Jx(r,e,i){const s=i.docs.get(e._key),o=new zE(r);return new Cr(r,o,e._key,s,new io(i.hasPendingWrites,i.fromCache),e.converter)}function PE(){return new Im("serverTimestamp")}(function(e,i=!0){(function(o){Bs=o})(wS),wc(new ho("firestore",((s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Qs(new kS(s.getProvider("auth-internal")),new qS(d,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ot(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new po(y.options.projectId,E)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Ns(I_,V_,e),Ns(I_,V_,"esm2020")})();var Wx="firebase",tR="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ns(Wx,tR,"app");const eR={apiKey:"AIzaSyDdL6HQb8dh3ujwRe-nVhD2GhM_YBUFs7I",authDomain:"jbkshop.firebaseapp.com",projectId:"jbkshop",storageBucket:"jbkshop.firebasestorage.app",messagingSenderId:"615116138351",appId:"1:615116138351:web:88d6ec11c1df6e4388aa9a"},nR=a0(eR),_i=Mx(nR),iR=({product:r})=>{const[e,i]=B.useState(0),s=B.useRef(null),o=()=>{r.imageUrls&&r.imageUrls.length>1&&(s.current=window.setInterval(()=>{i(d=>(d+1)%r.imageUrls.length)},800))},c=()=>{s.current&&(clearInterval(s.current),s.current=null),i(0)};return B.useEffect(()=>()=>{s.current&&clearInterval(s.current)},[]),b.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden transform hover:scale-105 transition-transform duration-300 group",onMouseEnter:o,onMouseLeave:c,children:b.jsxs(ka,{to:`/product/${r.id}`,className:"block",children:[b.jsxs("div",{className:"w-full h-64 bg-gray-200 relative",children:[r.imageUrls&&r.imageUrls.length>0?b.jsx("img",{src:r.imageUrls[e],alt:r.name,className:"w-full h-full object-cover transition-opacity duration-300"}):b.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"No Image"}),b.jsxs("div",{className:"absolute bottom-2 left-2 bg-white/80 px-2 py-1 rounded-full text-sm font-bold text-pink-600",children:["",r.price.toFixed(2)]})]}),b.jsxs("div",{className:"p-4",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-800 truncate group-hover:text-pink-500 transition-colors",children:r.name}),b.jsx("p",{className:"text-sm text-gray-500",children:r.category})]})]})})},Io=()=>b.jsx("div",{className:"flex justify-center items-center py-10",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500"})}),aR=()=>{const[r,e]=B.useState([]),[i,s]=B.useState(!0),[o,c]=B.useState(null);B.useEffect(()=>{(async()=>{try{const p=Is(_i,"products"),y=Uc(p,Qd("createdAt","desc")),A=(await Lc(y)).docs.map(w=>({id:w.id,...w.data()}));e(A)}catch(p){c("Failed to fetch products. Please try again later."),console.error(p)}finally{s(!1)}})()},[]);const d=()=>{const g=document.getElementById("products-section");g&&g.scrollIntoView({behavior:"smooth"})};return b.jsxs("div",{children:[b.jsxs("div",{className:"bg-pink-100 rounded-lg shadow-lg mb-12 p-8 md:p-16 flex flex-col items-center text-center -mx-4 sm:-mx-6 lg:-mx-8 -mt-8",children:[b.jsx("h1",{className:"text-4xl md:text-6xl font-serif font-bold text-pink-500 mb-4",children:"Elegance Redefined"}),b.jsx("p",{className:"text-gray-600 text-lg md:text-xl max-w-2xl mb-8",children:"Discover our curated collection of anti-tarnish, water-resistant, and hypoallergenic stainless steel jewelry. Unique. As you... "}),b.jsx("button",{onClick:d,className:"bg-pink-500 text-white font-bold py-3 px-8 rounded-lg hover:bg-pink-600 transition-transform transform hover:scale-105 shadow-lg",children:"Shop Now"})]}),b.jsxs("div",{id:"products-section",className:"text-center mb-12",children:[b.jsx("h2",{className:"text-3xl font-serif font-bold text-gray-800 mb-2",children:"Our Collection"}),b.jsx("p",{className:"text-gray-500",children:"Handpicked with love, crafted for you."})]}),i?b.jsx(Io,{}):o?b.jsx("p",{className:"text-center text-red-500",children:o}):r.length===0?b.jsx("p",{className:"text-center text-gray-500",children:"No products found. Check back soon!"}):b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-8",children:r.map(g=>b.jsx(iR,{product:g},g.id))})]})},rR=r=>{try{const e=new URL(r);let i=null;if(e.hostname.includes("youtube.com")?i=e.searchParams.get("v"):e.hostname.includes("youtu.be")&&(i=e.pathname.substring(1)),i)return`https://www.youtube.com/embed/${i}`}catch(e){console.error("Invalid URL for embedding:",r,e)}return r},sR=()=>{const{id:r}=ab(),[e,i]=B.useState(null),[s,o]=B.useState(!0),[c,d]=B.useState(null),[g,p]=B.useState(0),{addToCart:y}=Pc(),[E,A]=B.useState(!1),w=B.useRef(null);B.useEffect(()=>{(async()=>{if(!r){d("Product ID is missing."),o(!1);return}try{const yt=uo(_i,"products",r),vt=await $x(yt);if(vt.exists()){const C={id:vt.id,...vt.data()};i(C)}else d("Product not found.")}catch(yt){d("Failed to fetch product details."),console.error(yt)}finally{o(!1)}})()},[r]);const j=()=>{e&&p(ft=>(ft+1)%e.imageUrls.length)};B.useEffect(()=>(e&&e.imageUrls.length>1&&(w.current=window.setInterval(()=>{j()},4e3)),()=>{w.current&&clearInterval(w.current)}),[e]);const Q=()=>{e&&(y(e),A(!0),setTimeout(()=>A(!1),3e3))},$=()=>{e&&p(ft=>(ft-1+e.imageUrls.length)%e.imageUrls.length)},H=()=>{w.current&&clearInterval(w.current),e&&e.imageUrls.length>1&&(w.current=window.setInterval(()=>{j()},4e3))},et=()=>{$(),H()},at=()=>{j(),H()},nt=ft=>{p(ft),H()};return s?b.jsx(Io,{}):c?b.jsx("p",{className:"text-center text-red-500",children:c}):e?b.jsxs("div",{className:"bg-white p-4 md:p-8 rounded-lg shadow-xl",children:[E&&b.jsx("div",{className:"fixed top-24 right-5 bg-green-500 text-white py-2 px-4 rounded-lg shadow-lg animate-bounce z-50",children:"Item added to cart!"}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"relative aspect-square bg-gray-200 rounded-lg overflow-hidden mb-4 shadow-md",children:[b.jsx("img",{src:e.imageUrls[g],alt:`${e.name} slide ${g+1}`,className:"w-full h-full object-cover transition-opacity duration-500"}),e.imageUrls.length>1&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:et,className:"absolute left-3 top-1/2 -translate-y-1/2 bg-black bg-opacity-30 text-white p-2 rounded-full hover:bg-opacity-50 transition-colors focus:outline-none",children:""}),b.jsx("button",{onClick:at,className:"absolute right-3 top-1/2 -translate-y-1/2 bg-black bg-opacity-30 text-white p-2 rounded-full hover:bg-opacity-50 transition-colors focus:outline-none",children:""})]})]}),b.jsx("div",{className:"flex justify-center space-x-3",children:e.imageUrls.map((ft,yt)=>b.jsx("button",{onClick:()=>nt(yt),className:`w-3 h-3 rounded-full transition-colors ${g===yt?"bg-pink-500":"bg-gray-300 hover:bg-gray-400"}`},yt))})]}),b.jsxs("div",{className:"flex flex-col justify-center",children:[b.jsx("h1",{className:"text-3xl sm:text-4xl font-serif font-bold text-gray-900",children:e.name}),b.jsx("p",{className:"text-sm text-gray-500 mb-4",children:e.category}),b.jsxs("p",{className:"text-3xl font-semibold text-pink-500 my-4",children:["",e.price.toFixed(2)]}),b.jsx("p",{className:"text-gray-600 leading-relaxed mb-8",children:e.description}),b.jsx("button",{onClick:Q,className:"w-full bg-pink-500 text-white font-bold py-4 px-6 rounded-lg hover:bg-pink-600 transition-colors duration-300 shadow-lg transform hover:scale-105",children:"Add to Cart"})]})]}),e.videoUrls&&e.videoUrls.filter(ft=>ft).length>0&&b.jsxs("div",{className:"mt-12 pt-8 border-t",children:[b.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-800 mb-6 text-center",children:"Product Videos"}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.videoUrls.map((ft,yt)=>{if(!ft)return null;const vt=rR(ft);return vt?b.jsx("div",{className:"aspect-video",children:b.jsx("iframe",{src:vt,title:`Product Video ${yt+1}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full rounded-lg shadow-md"})},yt):null})})]})]}):b.jsx("p",{className:"text-center text-gray-500",children:"Product not found."})},lR=()=>{const{cartItems:r,removeFromCart:e,updateQuantity:i}=Pc(),s=r.reduce((o,c)=>o+c.price*c.quantity,0);return b.jsxs("div",{className:"bg-white p-4 sm:p-8 rounded-lg shadow-xl",children:[b.jsx("h1",{className:"text-3xl font-serif font-bold text-gray-900 mb-6 border-b pb-4",children:"Your Shopping Cart"}),r.length===0?b.jsxs("div",{className:"text-center py-10",children:[b.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"Your cart is feeling a little empty."}),b.jsx(ka,{to:"/",className:"inline-block bg-pink-500 text-white font-bold py-3 px-8 rounded-lg hover:bg-pink-600 transition-colors shadow-lg",children:"Discover Our Collection"})]}):b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[b.jsx("div",{className:"lg:col-span-2 space-y-4",children:r.map(o=>b.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between p-4 border rounded-lg",children:[b.jsxs("div",{className:"flex items-center mb-4 sm:mb-0 w-full sm:w-1/2",children:[b.jsx("img",{src:o.imageUrls[0],alt:o.name,className:"w-20 h-20 object-cover rounded-lg mr-4"}),b.jsxs("div",{className:"flex-grow",children:[b.jsx("h2",{className:"text-lg font-semibold",children:o.name}),b.jsxs("p",{className:"text-gray-600",children:["",o.price.toFixed(2)]})]})]}),b.jsxs("div",{className:"flex items-center space-x-4 w-full sm:w-auto justify-between",children:[b.jsx("input",{type:"number",min:"1",value:o.quantity,onChange:c=>i(o.id,parseInt(c.target.value,10)),className:"w-20 text-center border rounded-md p-2","aria-label":`Quantity for ${o.name}`}),b.jsxs("p",{className:"font-semibold w-24 text-right",children:["",(o.price*o.quantity).toFixed(2)]}),b.jsx("button",{onClick:()=>e(o.id),className:"text-gray-500 hover:text-red-500 transition-colors","aria-label":`Remove ${o.name} from cart`,children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},o.id))}),b.jsx("div",{className:"lg:col-span-1",children:b.jsxs("div",{className:"bg-pink-50 p-6 rounded-lg shadow-inner",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4 border-b pb-2",children:"Order Summary"}),b.jsxs("div",{className:"flex justify-between mb-6",children:[b.jsx("span",{className:"text-gray-600",children:"Subtotal"}),b.jsxs("span",{className:"font-bold text-lg",children:["",s.toFixed(2)]})]}),b.jsx(ka,{to:"/checkout",className:"w-full text-center block bg-pink-500 text-white font-bold py-3 px-8 rounded-lg hover:bg-pink-600 transition-colors shadow-lg",children:"Proceed to Checkout"})]})})]})]})},oR=({order:r,onClose:e,onStatusChange:i})=>{const[s,o]=B.useState(r.status),c=()=>{i(r.id,s)};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 md:p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h2",{className:"text-2xl font-serif font-bold",children:"Order Details"}),b.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-800 text-3xl",children:""})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"font-semibold mb-2 text-pink-600",children:"Shipping Address"}),b.jsx("p",{children:r.shippingAddress.name}),b.jsx("p",{children:r.shippingAddress.addressLine1}),b.jsxs("p",{children:[r.shippingAddress.city,", ",r.shippingAddress.state," - ",r.shippingAddress.pincode]}),b.jsxs("p",{children:["Phone: ",r.shippingAddress.phone]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-semibold mb-2 text-pink-600",children:"Order Summary"}),b.jsxs("p",{children:[b.jsx("strong",{children:"Tracking ID:"})," ",r.trackingId]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Date:"})," ",new Date(r.createdAt.seconds*1e3).toLocaleDateString()]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Total:"})," ",r.totalAmount.toFixed(2)]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Status:"})," ",b.jsx("span",{className:"font-bold",children:r.status})]})]})]}),b.jsxs("div",{className:"mt-6",children:[b.jsx("h3",{className:"font-semibold mb-2 text-pink-600",children:"Items Ordered"}),b.jsx("ul",{className:"space-y-2",children:r.items.map(d=>b.jsxs("li",{className:"flex justify-between items-center text-sm",children:[b.jsxs("span",{children:[d.name," (x",d.quantity,")"]}),b.jsxs("span",{children:["",(d.price*d.quantity).toFixed(2)]})]},d.id))})]}),b.jsxs("div",{className:"mt-6 border-t pt-4",children:[b.jsx("h3",{className:"font-semibold mb-2",children:"Update Status"}),b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsxs("select",{value:s,onChange:d=>o(d.target.value),className:"p-2 border rounded-lg",children:[b.jsx("option",{value:"Pending",children:"Pending"}),b.jsx("option",{value:"Shipped",children:"Shipped"}),b.jsx("option",{value:"Delivered",children:"Delivered"}),b.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),b.jsx("button",{onClick:c,className:"bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600",children:"Save Status"})]})]})]})})},Dv=({urls:r,setUrls:e,label:i,placeholder:s})=>{const o=(g,p)=>{const y=[...r];y[g]=p,e(y)},c=()=>{e([...r,""])},d=g=>{const p=r.filter((y,E)=>E!==g);e(p)};return b.jsxs("div",{children:[b.jsx("label",{className:"block font-medium text-gray-700 mb-2",children:i}),r.map((g,p)=>b.jsxs("div",{className:"flex items-center mb-2",children:[b.jsx("input",{type:"text",placeholder:s,value:g,onChange:y=>o(p,y.target.value),className:"w-full p-2 border rounded-lg"}),r.length>1&&b.jsx("button",{type:"button",onClick:()=>d(p),className:"ml-2 bg-red-500 text-white font-bold py-1 px-3 rounded-lg hover:bg-red-600",children:"-"})]},p)),b.jsx("button",{type:"button",onClick:c,className:"bg-gray-200 text-gray-700 py-1 px-3 rounded-lg hover:bg-gray-300",children:"+ Add URL"})]})},uR=()=>{const[r,e]=B.useState([]),[i,s]=B.useState([]),[o,c]=B.useState(!0),[d,g]=B.useState("products"),[p,y]=B.useState(!1),[E,A]=B.useState(null),[w,j]=B.useState(""),[Q,$]=B.useState(""),[H,et]=B.useState(""),[at,nt]=B.useState(""),[ft,yt]=B.useState([""]),[vt,C]=B.useState([""]),[x,R]=B.useState(null),M=B.useCallback(async()=>{c(!0);try{const it=Is(_i,"products"),Nt=Uc(it,Qd("createdAt","desc")),Y=(await Lc(Nt)).docs.map(st=>({id:st.id,...st.data()}));e(Y)}catch(it){console.error("Error fetching products: ",it)}finally{c(!1)}},[]),I=B.useCallback(async()=>{c(!0);try{const it=Is(_i,"orders"),Nt=Uc(it,Qd("createdAt","desc")),Y=(await Lc(Nt)).docs.map(st=>({id:st.id,...st.data()}));s(Y)}catch(it){console.error("Error fetching orders: ",it)}finally{c(!1)}},[]);B.useEffect(()=>{d==="products"?M():I()},[d,M,I]);const L=()=>{j(""),$(""),et(""),nt(""),yt([""]),C([""]),A(null),y(!1)},N=it=>{A(it),j(it.name),$(it.description),et(it.price.toString()),nt(it.category),yt(it.imageUrls.length>0?it.imageUrls:[""]),C(it.videoUrls&&it.videoUrls.length>0?it.videoUrls:[""]),y(!0),window.scrollTo(0,0)},Jt=async it=>{if(window.confirm("Are you sure you want to delete this product?"))try{await Zx(uo(_i,"products",it)),M()}catch(Nt){console.error("Error deleting product: ",Nt)}},he=async it=>{it.preventDefault();const Nt=ft.map(Y=>Y.trim()).filter(Y=>Y);if(!w||!H||!at||Nt.length===0){alert("Please fill in name, price, category and at least one image URL.");return}const V={name:w,description:Q,price:parseFloat(H),category:at,imageUrls:Nt,videoUrls:vt.map(Y=>Y.trim()).filter(Y=>Y)};try{if(E){const Y=uo(_i,"products",E.id);await Nv(Y,V)}else await kE(Is(_i,"products"),{...V,createdAt:PE()});L(),M()}catch(Y){console.error("Error saving product: ",Y)}},K=async(it,Nt)=>{try{const V=uo(_i,"orders",it);await Nv(V,{status:Nt}),alert("Order status updated!"),R(null),I()}catch(V){console.error("Error updating order status:",V),alert("Failed to update order status.")}},lt=()=>b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[b.jsx("h2",{className:"text-2xl font-semibold mb-4 sm:mb-0",children:"Product List"}),b.jsx("button",{onClick:()=>{y(!p),p&&L()},className:"w-full sm:w-auto bg-pink-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-pink-600 transition-colors",children:p?"Cancel":"Add New Product"})]}),p&&b.jsxs("div",{className:"mb-8 p-6 bg-pink-50 rounded-lg",children:[b.jsx("h2",{className:"text-2xl font-serif font-semibold mb-4",children:E?"Edit Product":"Add New Product"}),b.jsxs("form",{onSubmit:he,className:"space-y-4",children:[b.jsx("input",{type:"text",placeholder:"Product Name",value:w,onChange:it=>j(it.target.value),className:"w-full p-2 border rounded-lg",required:!0}),b.jsx("textarea",{placeholder:"Description",value:Q,onChange:it=>$(it.target.value),className:"w-full p-2 border rounded-lg"}),b.jsx("input",{type:"number",placeholder:"Price",value:H,onChange:it=>et(it.target.value),className:"w-full p-2 border rounded-lg",required:!0}),b.jsx("input",{type:"text",placeholder:"Category",value:at,onChange:it=>nt(it.target.value),className:"w-full p-2 border rounded-lg",required:!0}),b.jsx(Dv,{urls:ft,setUrls:yt,label:"Image URLs",placeholder:"https://example.com/image.jpg"}),b.jsx(Dv,{urls:vt,setUrls:C,label:"Video URLs (Optional)",placeholder:"https://youtube.com/watch?v=..."}),b.jsxs("div",{className:"flex space-x-4",children:[b.jsx("button",{type:"submit",className:"bg-green-500 text-white py-2 px-4 rounded-lg hover:bg-green-600",children:E?"Update":"Save"}),b.jsx("button",{type:"button",onClick:L,className:"bg-gray-500 text-white py-2 px-4 rounded-lg hover:bg-gray-600",children:"Reset"})]})]})]}),b.jsx("div",{className:"space-y-4 md:hidden",children:r.map(it=>b.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[b.jsx("div",{className:"font-bold text-lg",children:it.name}),b.jsxs("div",{className:"text-gray-600",children:["",it.price.toFixed(2)]}),b.jsx("div",{className:"text-sm text-gray-500",children:it.category}),b.jsxs("div",{className:"mt-4 flex space-x-2",children:[b.jsx("button",{onClick:()=>N(it),className:"text-sm bg-blue-100 text-blue-600 py-1 px-3 rounded-full",children:"Edit"}),b.jsx("button",{onClick:()=>Jt(it.id),className:"text-sm bg-red-100 text-red-600 py-1 px-3 rounded-full",children:"Delete"})]})]},it.id))}),b.jsx("div",{className:"overflow-x-auto hidden md:block",children:b.jsxs("table",{className:"min-w-full bg-white",children:[b.jsx("thead",{children:b.jsxs("tr",{children:[b.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Name"}),b.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Price"}),b.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Category"}),b.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Actions"})]})}),b.jsx("tbody",{children:r.map(it=>b.jsxs("tr",{children:[b.jsx("td",{className:"py-2 px-4 border-b",children:it.name}),b.jsxs("td",{className:"py-2 px-4 border-b",children:["",it.price.toFixed(2)]}),b.jsx("td",{className:"py-2 px-4 border-b",children:it.category}),b.jsxs("td",{className:"py-2 px-4 border-b",children:[b.jsx("button",{onClick:()=>N(it),className:"text-blue-500 hover:underline mr-4",children:"Edit"}),b.jsx("button",{onClick:()=>Jt(it.id),className:"text-red-500 hover:underline",children:"Delete"})]})]},it.id))})]})})]}),mt=()=>b.jsxs(b.Fragment,{children:[b.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Order List"}),b.jsx("div",{className:"space-y-4 md:hidden",children:i.map(it=>b.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsx("div",{className:"font-bold",children:it.shippingAddress.name}),b.jsx("div",{className:"text-sm text-gray-500",children:it.trackingId})]}),b.jsx("div",{className:`text-sm font-semibold px-2 py-1 rounded-full ${it.status==="Delivered"?"bg-green-100 text-green-700":it.status==="Shipped"?"bg-blue-100 text-blue-700":it.status==="Cancelled"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:it.status})]}),b.jsxs("div",{className:"mt-2 flex justify-between items-end",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"text-gray-600",children:["",it.totalAmount.toFixed(2)]}),b.jsx("div",{className:"text-xs text-gray-400",children:new Date(it.createdAt.seconds*1e3).toLocaleDateString()})]}),b.jsx("button",{onClick:()=>R(it),className:"text-sm bg-gray-200 py-1 px-3 rounded-full",children:"View Details"})]})]},it.id))}),b.jsx("div",{className:"overflow-x-auto hidden md:block",children:b.jsxs("table",{className:"min-w-full bg-white",children:[b.jsx("thead",{children:b.jsxs("tr",{children:[b.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Date"}),b.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Tracking ID"}),b.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Customer"}),b.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Total"}),b.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Status"}),b.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Actions"})]})}),b.jsx("tbody",{children:i.map(it=>b.jsxs("tr",{children:[b.jsx("td",{className:"py-2 px-4 border-b",children:new Date(it.createdAt.seconds*1e3).toLocaleDateString()}),b.jsx("td",{className:"py-2 px-4 border-b",children:it.trackingId}),b.jsx("td",{className:"py-2 px-4 border-b",children:it.shippingAddress.name}),b.jsxs("td",{className:"py-2 px-4 border-b",children:["",it.totalAmount.toFixed(2)]}),b.jsx("td",{className:"py-2 px-4 border-b",children:it.status}),b.jsx("td",{className:"py-2 px-4 border-b",children:b.jsx("button",{onClick:()=>R(it),className:"text-blue-500 hover:underline",children:"View Details"})})]},it.id))})]})})]});return b.jsxs("div",{className:"bg-white p-4 sm:p-8 rounded-lg shadow-xl",children:[x&&b.jsx(oR,{order:x,onClose:()=>R(null),onStatusChange:K}),b.jsx("div",{className:"mb-6 border-b pb-4",children:b.jsx("h1",{className:"text-3xl font-serif font-bold text-gray-900",children:"Admin Panel"})}),b.jsxs("div",{className:"flex space-x-1 sm:space-x-4 border-b mb-6",children:[b.jsx("button",{onClick:()=>g("products"),className:`py-2 px-2 sm:px-4 font-semibold text-sm sm:text-base ${d==="products"?"border-b-2 border-pink-500 text-pink-600":"text-gray-500"}`,children:"Manage Products"}),b.jsx("button",{onClick:()=>g("orders"),className:`py-2 px-2 sm:px-4 font-semibold text-sm sm:text-base ${d==="orders"?"border-b-2 border-pink-500 text-pink-600":"text-gray-500"}`,children:"View Orders"})]}),o?b.jsx(Io,{}):d==="products"?lt():mt()]})},cR=()=>{const{cartItems:r,clearCart:e}=Pc(),i=qv(),[s,o]=B.useState({name:"",addressLine1:"",city:"",state:"",pincode:"",phone:""}),[c,d]=B.useState(!1),g=r.reduce((E,A)=>E+A.price*A.quantity,0),p=E=>{const{name:A,value:w}=E.target;o(j=>({...j,[A]:w}))},y=async E=>{if(E.preventDefault(),r.length===0){alert("Your cart is empty.");return}d(!0);const A=`JBK${Date.now()}`;try{await kE(Is(_i,"orders"),{shippingAddress:s,items:r,totalAmount:g,status:"Pending",createdAt:PE(),trackingId:A}),e(),i("/order-confirmation",{state:{trackingId:A}})}catch(w){console.error("Error placing order: ",w),alert("Failed to place order. Please try again."),d(!1)}};return r.length===0&&!c?b.jsxs("div",{className:"text-center py-10 bg-white p-8 rounded-lg shadow-xl",children:[b.jsx("p",{className:"text-gray-500 text-lg",children:"Your cart is empty. You can't proceed to checkout."}),b.jsx("button",{onClick:()=>i("/"),className:"mt-4 inline-block bg-pink-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-pink-600 transition-colors",children:"Continue Shopping"})]}):c?b.jsxs("div",{className:"text-center py-20",children:[b.jsx(Io,{}),b.jsx("p",{className:"text-xl font-semibold text-pink-600 mt-4",children:"Placing Your Order..."})]}):b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[b.jsxs("div",{className:"lg:col-span-3 bg-white p-6 sm:p-8 rounded-lg shadow-xl",children:[b.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-900 mb-6 border-b pb-4",children:"Shipping Information"}),b.jsxs("form",{onSubmit:y,className:"space-y-4",children:[b.jsx("input",{type:"text",name:"name",placeholder:"Full Name",value:s.name,onChange:p,className:"w-full p-3 border rounded-lg",required:!0}),b.jsx("input",{type:"text",name:"addressLine1",placeholder:"Address Line 1",value:s.addressLine1,onChange:p,className:"w-full p-3 border rounded-lg",required:!0}),b.jsx("input",{type:"text",name:"city",placeholder:"City",value:s.city,onChange:p,className:"w-full p-3 border rounded-lg",required:!0}),b.jsx("input",{type:"text",name:"state",placeholder:"State / Province",value:s.state,onChange:p,className:"w-full p-3 border rounded-lg",required:!0}),b.jsx("input",{type:"text",name:"pincode",placeholder:"Pincode / ZIP Code",value:s.pincode,onChange:p,className:"w-full p-3 border rounded-lg",required:!0}),b.jsx("input",{type:"tel",name:"phone",placeholder:"Phone Number",value:s.phone,onChange:p,className:"w-full p-3 border rounded-lg",required:!0}),b.jsx("button",{type:"submit",disabled:c,className:"w-full mt-4 bg-pink-500 text-white font-bold py-3 px-8 rounded-lg hover:bg-pink-600 transition-colors shadow-lg disabled:bg-pink-300",children:c?"Placing Order...":`Place Order (${g.toFixed(2)})`})]})]}),b.jsxs("div",{className:"lg:col-span-2 bg-white p-6 sm:p-8 rounded-lg shadow-xl",children:[b.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-900 mb-6 border-b pb-4",children:"Your Order"}),b.jsx("div",{className:"space-y-4 mb-6 max-h-80 overflow-y-auto pr-2",children:r.map(E=>b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("img",{src:E.imageUrls[0],alt:E.name,className:"w-16 h-16 object-cover rounded-md mr-4"}),b.jsxs("div",{children:[b.jsx("p",{className:"font-semibold",children:E.name}),b.jsxs("p",{className:"text-sm text-gray-500",children:["Qty: ",E.quantity]})]})]}),b.jsxs("p",{className:"font-semibold",children:["",(E.price*E.quantity).toFixed(2)]})]},E.id))}),b.jsx("div",{className:"border-t pt-4",children:b.jsxs("div",{className:"flex justify-between font-bold text-xl",children:[b.jsx("span",{children:"Total"}),b.jsxs("span",{children:["",g.toFixed(2)]})]})})]})]})},hR=()=>{var i;const e=(i=Qa().state)==null?void 0:i.trackingId;return b.jsxs("div",{className:"text-center py-20 bg-white p-8 rounded-lg shadow-xl",children:[b.jsx("div",{className:"w-24 h-24 mx-auto bg-green-100 rounded-full flex items-center justify-center mb-6",children:b.jsx("svg",{className:"w-12 h-12 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),b.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Thank you for your order!"}),b.jsx("p",{className:"text-gray-600 mb-8",children:"Your order has been placed successfully and is being processed."}),e&&b.jsxs("div",{className:"mb-8 bg-pink-100 border border-pink-300 text-pink-800 px-4 py-3 rounded-lg inline-block",children:[b.jsxs("p",{children:["Your Tracking ID is: ",b.jsx("strong",{className:"font-bold",children:e})]}),b.jsx("p",{className:"text-sm",children:"Please save this ID to track your order status."})]}),b.jsx("div",{children:b.jsx(ka,{to:"/",className:"mt-4 inline-block bg-pink-500 text-white font-bold py-3 px-8 rounded-lg hover:bg-pink-600 transition-colors",children:"Continue Shopping"})})]})},fR=()=>{const[r,e]=B.useState(""),[i,s]=B.useState(null),[o,c]=B.useState(!1),[d,g]=B.useState(null),[p,y]=B.useState(!1),E=async j=>{if(j.preventDefault(),!r.trim()){g("Please enter a tracking ID.");return}c(!0),g(null),s(null),y(!0);try{const Q=Is(_i,"orders"),$=Uc(Q,Qx("trackingId","==",r.trim())),H=await Lc($);if(H.empty)g("No order found with this tracking ID. Please check the ID and try again.");else{const et=H.docs[0].data();et.id=H.docs[0].id,s(et)}}catch(Q){console.error(Q),g("An error occurred while fetching your order. Please try again later.")}finally{c(!1)}},A=j=>{const $=["Pending","Shipped","Delivered"].indexOf(j);return j==="Cancelled"?-1:$},w=({status:j})=>{const Q=["Pending","Shipped","Delivered"],$=A(j);return j==="Cancelled"?b.jsx("p",{className:"text-center font-bold text-red-500",children:"This order has been cancelled."}):b.jsx("div",{className:"flex justify-between items-center my-8",children:Q.map((H,et)=>b.jsxs(Vv.Fragment,{children:[b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white ${et<=$?"bg-green-500":"bg-gray-300"}`,children:""}),b.jsx("p",{className:`mt-2 font-semibold ${et<=$?"text-green-600":"text-gray-500"}`,children:H})]}),et<Q.length-1&&b.jsx("div",{className:`flex-1 h-1 mx-2 ${et<$?"bg-green-500":"bg-gray-300"}`})]},H))})};return b.jsxs("div",{className:"max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-xl",children:[b.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:"Track Your Order"}),b.jsx("p",{className:"text-center text-gray-600 mb-6",children:"Enter the tracking ID sent to you on the order confirmation page."}),b.jsxs("form",{onSubmit:E,className:"flex flex-col sm:flex-row gap-2",children:[b.jsx("input",{type:"text",value:r,onChange:j=>e(j.target.value),placeholder:"Enter your tracking ID (e.g., JBK...)",className:"flex-grow p-3 border rounded-lg focus:ring-2 focus:ring-pink-400 focus:outline-none"}),b.jsx("button",{type:"submit",disabled:o,className:"bg-pink-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-pink-600 transition-colors disabled:bg-pink-300",children:o?"Searching...":"Track"})]}),b.jsxs("div",{className:"mt-8",children:[o&&b.jsx(Io,{}),d&&b.jsx("p",{className:"text-center text-red-500 bg-red-100 p-3 rounded-lg",children:d}),i?b.jsxs("div",{className:"border-t pt-6",children:[b.jsx("h2",{className:"text-2xl font-semibold mb-4 text-center",children:"Order Status"}),b.jsx(w,{status:i.status}),b.jsxs("div",{className:"mt-6 bg-pink-50 p-4 rounded-lg",children:[b.jsxs("p",{children:[b.jsx("strong",{children:"Tracking ID:"})," ",i.trackingId]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Order Date:"})," ",new Date(i.createdAt.seconds*1e3).toLocaleDateString()]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Recipient:"})," ",i.shippingAddress.name]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Total Amount:"})," ",i.totalAmount.toFixed(2)]})]})]}):p&&!o&&!d&&b.jsx("p",{className:"text-center text-gray-500",children:"No order details to display."})]})]})};function dR(){return b.jsx(Zb,{children:b.jsx(qb,{children:b.jsxs("div",{className:"flex flex-col min-h-screen bg-pink-50 text-gray-800 font-sans",children:[b.jsx(Jb,{}),b.jsx("main",{className:"flex-grow container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:b.jsxs(vb,{children:[b.jsx(Va,{path:"/",element:b.jsx(aR,{})}),b.jsx(Va,{path:"/product/:id",element:b.jsx(sR,{})}),b.jsx(Va,{path:"/cart",element:b.jsx(lR,{})}),b.jsx(Va,{path:"/checkout",element:b.jsx(cR,{})}),b.jsx(Va,{path:"/order-confirmation",element:b.jsx(hR,{})}),b.jsx(Va,{path:"/admin",element:b.jsx(uR,{})}),b.jsx(Va,{path:"/track-order",element:b.jsx(fR,{})})]})}),b.jsx(Wb,{})]})})})}const BE=document.getElementById("root");if(!BE)throw new Error("Could not find root element to mount to");const mR=C1.createRoot(BE);mR.render(b.jsx(Vv.StrictMode,{children:b.jsx(dR,{})}));
